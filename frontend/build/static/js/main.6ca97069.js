/*! For license information please see main.6ca97069.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},122:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var s=a[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1268:(e,t,n)=>{var r=n(5428),i=n(7574),a=n(6832),s=a&&a.isTypedArray,o=s?i(s):r;e.exports=o},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(9429)),i=o(n(7866)),a=o(n(144)),s=o(n(7101));function o(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)("youtube-player"),c={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){l('event "%s"',r,t),e.trigger(n,t)}},r=!0,i=!1,s=void 0;try{for(var o,c=a.default[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){n(o.value)}}catch(u){i=!0,s=u}finally{try{!r&&c.return&&c.return()}finally{if(i)throw s}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&s.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){var t=s.default[r],i=e.getPlayerState(),a=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(i)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var i=e.getPlayerState(),a=void 0;"number"===typeof t.timeout&&(a=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(i)&&(e.removeEventListener("onStateChange",r),clearTimeout(a),n())}))})).then((function(){return a})):a}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.then((function(e){return e[r].apply(e,n)}))}},a=!0,o=!1,l=void 0;try{for(var c,u=i.default[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){r(c.value)}}catch(d){o=!0,l=d}finally{try{!a&&u.return&&u.return()}finally{if(o)throw l}}return n}};t.default=c,e.exports=t.default},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),j=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var I,D=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var q=!1;function B(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case A:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Ee=null;function Ae(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function je(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Te=!1;function Pe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ce(e,t,n)}finally{Te=!1,(null!==ke||null!==Ee)&&(Ne(),je())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Me=!1}function Re(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,De=null,Fe=!1,qe=null,Be={onError:function(e){Ie=!0,De=e}};function Ue(e,t,n,r,i,a,s,o,l){Ie=!1,De=null,Re.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ze=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,Et,At,St=!1,jt=[],Ct=null,Nt=null,Tt=null,Pt=new Map,Ot=new Map,Mt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function It(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void At(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function qt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Tt&&Ft(Tt)&&(Tt=null),Pt.forEach(qt),Ot.forEach(qt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<jt.length){Ut(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Nt&&Ut(Nt,e),null!==Tt&&Ut(Tt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var zt=x.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Gt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=It(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=It(Nt,e,t,n,r,i),!0;case"mouseover":return Tt=It(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,It(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,It(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=yi(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=D({},cn,{view:0,detail:0}),hn=an(dn),fn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(D({},fn,{dataTransfer:0})),gn=an(D({},dn,{relatedTarget:0})),vn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function An(){return En}var Sn=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=an(Sn),Cn=an(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Tn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Mn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var In=u&&"TextEvent"in window&&!Rn,Dn=u&&(!Ln||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Vn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Xn(e){Fr(e,0)}function Yn(e){if(K(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var $n;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Zn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Vn(t,Kn,e,we(e)),Pe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Ar(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Ar("animationend"),jr=Ar("animationiteration"),Cr=Ar("animationstart"),Nr=Ar("transitionend"),Tr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Tr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Lr=Pr[Mr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(jr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var u=De;Ie=!1,De=null,Fe||(Fe=!0,qe=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Dr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Dr(i,o,c),a=l}}}if(Fe)throw e=qe,Fe=!1,qe=null,e}function qr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),s=[];e:{var o=Tr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Sr:case jr:case Cr:l=vn;break;case Nr:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Vr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:xi(l),f=null==c?o:xi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Xr(s,o,l,u,!1),null!==c&&null!==d&&Xr(s,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if(Zn)g=sr;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Vn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):($t="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Gr(r,b)).length&&(b=new xn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(qn=!0,Fn);case"textInput":return(e=t.data)===Fn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Jt=$t=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,a))&&s.unshift(Vr(n,l,o)):i||null!=(l=Oe(n,a))&&s.push(Vr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function $r(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var _i=[],ki=-1;function Ei(e){return{current:e}}function Ai(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Si(e,t){ki++,_i[ki]=e.current,e.current=t}var ji={},Ci=Ei(ji),Ni=Ei(!1),Ti=ji;function Pi(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ai(Ni),Ai(Ci)}function Li(e,t,n){if(Ci.current!==ji)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return D({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,Ti=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Ai(Ni),Ai(Ci),Si(Ci,e)):Ai(Ni),Si(Ni,n)}var Fi=null,qi=!1,Bi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Wi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,qi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,Wi),i}finally{bt=t,Bi=!1}}return null}var zi=[],Hi=0,Vi=null,Gi=0,Ki=[],Xi=0,Yi=null,Qi=1,Zi="";function $i(e,t){zi[Hi++]=Gi,zi[Hi++]=Vi,Vi=e,Gi=t}function Ji(e,t,n){Ki[Xi++]=Qi,Ki[Xi++]=Zi,Ki[Xi++]=Yi,Yi=e;var r=Qi;e=Zi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Zi=a+e}else Qi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function ta(e){for(;e===Vi;)Vi=zi[--Hi],zi[Hi]=null,Gi=zi[--Hi],zi[Hi]=null;for(;e===Yi;)Yi=Ki[--Xi],Ki[Xi]=null,Zi=Ki[--Xi],Ki[Xi]=null,Qi=Ki[--Xi],Ki[Xi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&ya(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function m(i,a,o,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),ia&&$i(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(a=s(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&$i(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&$i(i,m),c}function g(i,o,l,c){var u=R(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),ia&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return ia&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&$i(i,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&ya(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=ga(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((a=Rc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=ga(r,a,s),l.return=r,r=l)}return o(r);case _:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(s,r.mode,l)).return=r,r=a}return o(r);case O:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(R(s))return g(r,a,s,l);va(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Dc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var xa=ba(!0),wa=ba(!1),_a=Ei(null),ka=null,Ea=null,Aa=null;function Sa(){Aa=Ea=ka=null}function ja(e){var t=_a.current;Ai(_a),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Na(e,t){ka=e,Aa=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===ka)throw Error(a(308));Ea=e,ka.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Pa=null;function Oa(e){null===Pa?Pa=[e]:Pa.push(e)}function Ma(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oa(t)):(n.next=i.next,i.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,La(e,n)}return null===(i=r.interleaved)?(t.next=t,Oa(r)):(t.next=i.next,i.next=t),r.interleaved=t,La(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:Ra=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Il|=s,e.lanes=s,e.memoizedState=d}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ha={},Va=Ei(Ha),Ga=Ei(Ha),Ka=Ei(Ha);function Xa(e){if(e===Ha)throw Error(a(174));return e}function Ya(e,t){switch(Si(Ka,t),Si(Ga,e),Si(Va,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Va),Si(Va,t)}function Qa(){Ai(Va),Ai(Ga),Ai(Ka)}function Za(e){Xa(Ka.current);var t=Xa(Va.current),n=le(t,e.type);t!==n&&(Si(Ga,e),Si(Va,n))}function $a(e){Ga.current===e&&(Ai(Va),Ai(Ga))}var Ja=Ei(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=x.ReactCurrentDispatcher,is=x.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function fs(){throw Error(a(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?$s:Js,e=n(r,i),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,i)}while(us)}if(rs.current=Zs,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,cs=!1,t)throw Error(a(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=os,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ss.lanes|=d,Il|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Il|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function ks(e,t){var n=ss,r=ys(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,bo=!0),r=r.queue,Rs(Ss.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ts(9,As.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(a(349));0!==(30&as)||Es(n,t,i)}return i}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,js(t)&&Cs(e)}function Ss(e,t,n){return n((function(){js(t)&&Cs(e)}))}function js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Cs(e){var t=La(e,1);null!==t&&nc(t,e,1,-1)}function Ns(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function Ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return ys().memoizedState}function Os(e,t,n,r){var i=vs();ss.flags|=e,i.memoizedState=Ts(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var i=ys();r=void 0===r?null:r;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==r&&ps(r,s.deps))return void(i.memoizedState=Ts(t,n,a,r))}ss.flags|=e,i.memoizedState=Ts(1|t,n,a,r)}function Ls(e,t){return Os(8390656,8,e,t)}function Rs(e,t){return Ms(2048,8,e,t)}function Is(e,t){return Ms(4,2,e,t)}function Ds(e,t){return Ms(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4,4,Fs.bind(null,t,e),n)}function Bs(){}function Us(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Il|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Vs(){return ys().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Ys(t,n);else if(null!==(n=Ma(e,t,n,r))){nc(n,e,r,ec()),Qs(n,t,r)}}function Ks(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ys(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Oa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ma(e,t,i,r))&&(nc(n,e,r,i=ec()),Qs(n,t,r))}}function Xs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ys(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Ta,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},$s={readContext:Ta,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ns,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=Hs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,i=vs();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nl)throw Error(a(349));0!==(30&as)||Es(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Ss.bind(null,r,s,e),[e]),r.flags|=2048,Ts(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Nl.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Ta,useCallback:Us,useContext:Ta,useEffect:Rs,useImperativeHandle:qs,useInsertionEffect:Is,useLayoutEffect:Ds,useMemo:Ws,useReducer:xs,useRef:Ps,useState:function(){return xs(bs)},useDebugValue:Bs,useDeferredValue:function(e){return zs(ys(),os.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:Vs,unstable_isNewReconciler:!1},eo={readContext:Ta,useCallback:Us,useContext:Ta,useEffect:Rs,useImperativeHandle:qs,useInsertionEffect:Is,useLayoutEffect:Ds,useMemo:Ws,useReducer:ws,useRef:Ps,useState:function(){return ws(bs)},useDebugValue:Bs,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:zs(t,os.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:Vs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=qa(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=qa(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=qa(e,i,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function io(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ao(e,t,n){var r=!1,i=ji,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Oi(t)?Ti:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):ji),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Oi(t)?Ti:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Wa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),uo(0,t)},n}function po(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,qa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var a=t.ref;return Na(t,i),r=ms(e,t,n,r,a,i),n=gs(),null===e||bo?(ia&&n&&ea(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function _o(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ko(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Mc(a,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ml,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ml,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ml,Ol),Ol|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ml,Ol),Ol|=r;return xo(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,i){var a=Oi(n)?Ti:Ci.current;return a=Pi(t,a),Na(t,i),n=ms(e,t,n,r,a,i),r=gs(),null===e||bo?(ia&&r&&ea(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function jo(e,t,n,r,i){if(Oi(n)){var a=!0;Ii(t)}else a=!1;if(Na(t,i),null===t.stateNode)zo(e,t),ao(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Pi(t,c=Oi(n)?Ti:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Ra=!1;var h=t.memoizedState;s.state=h,Wa(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Ni.current||Ra?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ra||io(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Da(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Pi(t,l=Oi(n)?Ti:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Ra=!1,h=t.memoizedState,s.state=h,Wa(t,r,s,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||Ra?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ra||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,a,i)}function Co(e,t,n,r,i,a){Ao(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),Ho(e,t,a);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,o,a)):xo(e,t,o,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ya(e,t.containerInfo)}function To(e,t,n,r,i){return fa(),pa(i),t.flags|=256,xo(e,t,n,r),t.child}var Po,Oo,Mo,Lo,Ro={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,n){var r,i=t.pendingProps,s=Ja.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Si(Ja,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,i,0,null),e=Rc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(n),t.memoizedState=Ro,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,qo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ic({mode:"visible",children:r.children},i,0,null),(s=Rc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Ro,s);if(0===(1&t.mode))return qo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,qo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,La(e,i),nc(r,e,i,-1))}return mc(),qo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Xi++]=Qi,Ki[Xi++]=Zi,Ki[Xi++]=Yi,Qi=e.id,Zi=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Mc(r,o):(o=Rc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ro,i}return e=(o=e.child).sibling,i=Mc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,n,r){return null!==r&&pa(r),xa(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Uo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Wo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Ja.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Ja,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Oi(t.type)&&Mi(),Go(t),null;case 3:return r=t.stateNode,Qa(),Ai(Ni),Ai(Ci),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Oo(e,t),Go(t),null;case 5:$a(t);var i=Xa(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Go(t),null}if(e=Xa(Va.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)qr(Rr[i],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":Q(r,s),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qr("invalid",r);break;case"textarea":ie(r,s),qr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&qr("scroll",r)}switch(n){case"input":G(r),J(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":qr("cancel",e),qr("close",e),i=r;break;case"iframe":case"object":case"embed":qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)qr(Rr[i],e);i=r;break;case"source":qr("error",e),i=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),i=r;break;case"details":qr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),qr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&qr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ka.current),Xa(Va.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Go(t),null;case 13:if(Ai(Ja),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),s=!1}else null!==aa&&(sc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ja.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Qa(),Oo(e,t),null===e&&Wr(t.stateNode.containerInfo),Go(t),null;case 10:return ja(t.type._context),Go(t),null;case 19:if(Ai(Ja),null===(s=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Vo(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Vo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Wl&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Go(t),null}else 2*Ze()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Vo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=Ja.current,Si(Ja,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xo(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ai(Ni),Ai(Ci),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(Ai(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Ja),null;case 4:return Qa(),null;case 10:return ja(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Mo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Va.current);var a,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&qr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Qo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||Jo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(s,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(i,s),be(l,o);var u=be(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Jo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Jo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,$o=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Yo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=s,(Qo=l)&&!c)for($o=i;null!==$o;)l=(s=$o).child,22===s.tag&&null!==s.memoizedState?_l(i):null!==l?(l.return=s,$o=l):_l(i);for(;null!==a;)$o=a,bl(a,t,n),a=a.sibling;$o=i,Yo=o,Qo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$o=a):xl(e)}}function xl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&za(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function _l(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var kl,El=Math.ceil,Al=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,jl=x.ReactCurrentBatchConfig,Cl=0,Nl=null,Tl=null,Pl=0,Ol=0,Ml=Ei(0),Ll=0,Rl=null,Il=0,Dl=0,Fl=0,ql=null,Bl=null,Ul=0,Wl=1/0,zl=null,Hl=!1,Vl=null,Gl=null,Kl=!1,Xl=null,Yl=0,Ql=0,Zl=null,$l=-1,Jl=0;function ec(){return 0!==(6&Cl)?Ze():-1!==$l?$l:$l=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==ma.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(a(185));vt(e,n,r),0!==(2&Cl)&&e===Nl||(e===Nl&&(0===(2&Cl)&&(Dl|=n),4===Ll&&oc(e,Pl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Wl=Ze()+500,qi&&Wi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){qi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),si((function(){0===(6&Cl)&&Wi()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Jl=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var s=pc();for(Nl===e&&Pl===t||(zl=null,Wl=Ze()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Sa(),Al.current=s,Cl=i,null!==Tl?t=0:(Nl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Rl,hc(e,0),oc(e,r),rc(e,Ze()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t))throw n=Rl,hc(e,0),oc(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,zl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Ul+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,zl),t);break}wc(e,Bl,zl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,zl),r);break}wc(e,Bl,zl);break;default:throw Error(a(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Rl,hc(e,0),oc(e,t),rc(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,zl),rc(e,Ze()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Wl=Ze()+500,qi&&Wi())}}function uc(e){null!==Xl&&0===Xl.tag&&0===(6&Cl)&&_c();var t=Cl;Cl|=1;var n=jl.transition,r=bt;try{if(jl.transition=null,bt=1,e)return e()}finally{bt=r,jl.transition=n,0===(6&(Cl=t))&&Wi()}}function dc(){Ol=Ml.current,Ai(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Qa(),Ai(Ni),Ai(Ci),ns();break;case 5:$a(r);break;case 4:Qa();break;case 13:case 19:Ai(Ja);break;case 10:ja(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Tl=e=Mc(e.current,null),Pl=Ol=t,Ll=0,Rl=null,Fl=Dl=Il=0,Bl=ql=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(r=(n=Pa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Pa=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Sa(),rs.current=Zs,cs){for(var r=ss.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(as=0,ls=os=ss=null,us=!1,ds=0,Sl.current=null,null===n||null===n.return){Ll=1,Rl=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pa(lo(c,l));break e}}s=c=lo(c,l),4!==Ll&&(Ll=2),null===ql?ql=[s]:ql.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,fo(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ua(s,po(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=Al.current;return Al.current=Zs,null===e?Zs:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&Il)&&0===(268435455&Dl)||oc(Nl,Pl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Nl===e&&Pl===t||(zl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Sa(),Cl=n,Al.current=r,null!==Tl)throw Error(a(261));return Nl=null,Pl=0,Ll}function vc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Ye();)bc(Tl)}function bc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Sl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Ol)))return void(Tl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ll=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=bt,i=jl.transition;try{jl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Xl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Nl&&(Tl=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nc(tt,(function(){return _c(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=jl.transition,jl.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Sl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Cl=l,bt=o,jl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Xl=e,Yl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Wi()}(e,t,n,r)}finally{jl.transition=i,bt=r}return null}function _c(){if(null!==Xl){var e=xt(Yl),t=jl.transition,n=bt;try{if(jl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,$o=e.current;null!==$o;){var s=$o,o=s.child;if(0!==(16&$o.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(al(d),d===u){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,$o=o;else e:for(;null!==$o;){if(0!==(2048&(s=$o).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,$o=y;break e}$o=s.return}}var b=e.current;for($o=b;null!==$o;){var x=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,$o=x;else e:for(o=b;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===o){$o=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$o=w;break e}$o=l.return}}if(Cl=i,Wi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,jl.transition=t}}return!1}function kc(e,t,n){e=qa(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=qa(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Ze()-Ul?hc(e,0):Fl|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=La(e,t))&&(vt(e,t,n),rc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Tc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Rc(n.children,i,s,t);case E:o=8,i|=8;break;case A:return(e=Pc(12,n,t,2|i)).elementType=A,e.lanes=s,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=s,e;case T:return(e=Pc(19,n,t,i)).elementType=T,e.lanes=s,e;case M:return Ic(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case j:o=9;break e;case C:o=11;break e;case P:o=14;break e;case O:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,s,o,l){return e=new qc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Uc(e){if(!e)return ji;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function Wc(e,t,n,r,i,a,s,o,l){return(e=Bc(n,r,!0,e,0,a,0,o,l)).context=Uc(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,qa(n,a,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,a=ec(),s=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=qa(i,t,s))&&(nc(e,i,s,a),Ba(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fa();break;case 5:Za(t);break;case 1:Oi(t.type)&&Ii(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(_a,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Ja,1&Ja.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Do(e,t,n):(Si(Ja,1&Ja.current),null!==(e=Ho(e,t,n))?e.sibling:null);Si(Ja,1&Ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Ja,Ja.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Na(t,n),i=ms(null,t,r,e,i,n);var s=gs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,Ii(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ia(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),i){case 0:t=So(null,t,r,e,n);break e;case 1:t=jo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(No(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Da(e,t),Wa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=To(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Ho(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Ao(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Do(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Si(_a,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Ni.current){t=Ho(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fa(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ca(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ca(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Na(t,n),r=r(i=Ta(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),zo(e,t),t.tag=1,Oi(r)?(e=!0,Ii(t)):e=!1,Na(t,n),ao(t,r,i),oo(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return Wo(e,t,n);case 22:return Eo(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Jc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Hc(s);o.call(e)}}zc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(s);a.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,Wr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc((function(){zc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){zc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),0===(6&Cl)&&(Wl=Ze()+500,Wi()))}break;case 13:uc((function(){var t=La(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=La(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Se,je,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,s,o),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),a=Object.prototype,s=a.hasOwnProperty,o=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2823:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=s(n(5043)),l=s(n(7950)),c=s(n(9853)),u=s(n(4175)),d=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,r,i){var a,s,o,l;"text-change"===e?null===(s=(a=n).onEditorChangeText)||void 0===s||s.call(a,n.editor.root.innerHTML,t,i,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(o=n).onEditorChangeSelection)||void 0===l||l.call(o,t,i,n.unprivilegedEditor))};var r=n.isControlled()?t.value:t.defaultValue;return n.value=null!==r&&void 0!==r?r:"",n}return r(t,e),t.prototype.validateProps=function(e){var t;if(o.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(e.children)&&"textarea"===(null===(t=o.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,r=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var i=this.getEditorContents(),s=null!==(n=e.value)&&void 0!==n?n:"";this.isEqualValue(s,i)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),a(this.cleanProps,this.dirtyProps).some((function(t){return!c.default(e[t],r.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(n){return!c.default(e[n],t.props[n])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var a=this.regenerationSnapshot,s=(r=a.delta,a.selection);delete this.regenerationSnapshot,this.instantiateEditor();var o=this.editor;o.setContents(r),h((function(){return n.setEditorSelection(o,s)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new u.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var r=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h((function(){return n.setEditorSelection(e,r)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,r;(null===(r=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,r=t.preserveWhitespace,a={key:this.state.generation,ref:function(t){e.editingArea=t}};return o.default.Children.count(n)?o.default.cloneElement(o.default.Children.only(n),a):r?o.default.createElement("pre",i({},a)):o.default.createElement("div",i({},a))},t.prototype.render=function(){var e;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,r){var i,a;if(this.editor){var s=this.isDelta(this.value)?r.getContents():r.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,null===(a=(i=this.props).onChange)||void 0===a||a.call(i,e,t,n,r))}},t.prototype.onEditorChangeSelection=function(e,t,n){var r,i,a,s,o,l;if(this.editor){var u=this.getEditorSelection(),d=!u&&e,h=u&&!e;c.default(e,u)||(this.selection=e,null===(i=(r=this.props).onChangeSelection)||void 0===i||i.call(r,e,t,n),d?null===(s=(a=this.props).onFocus)||void 0===s||s.call(a,e,t,n):h&&(null===(l=(o=this.props).onBlur)||void 0===l||l.call(o,u,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=u.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(o.default.Component);function h(e){Promise.resolve().then(e)}e.exports=d},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),a=n(4052),s=n(4543),o=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&i(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3452:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},s.type=r.type||"text/javascript",s.charset=r.charset||"utf8",s.async=!("async"in r)||!!r.async,s.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(s,r.attrs),r.text&&(s.text=""+r.text),("onload"in s?t:n)(s,i),s.onload||t(s,i),a.appendChild(s)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),a=n(8114);e.exports=function(e,t,n,s,o,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],y=t[p];if(s)var b=c?s(y,v,p,t,e,l):s(v,y,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(v===e||o(v,e,n,s,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!o(v,y,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3452),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,a.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4175:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(18),a=n(19),s=n(45),o=n(46),l=n(47),c=n(48),u=n(49),d=n(12),h=n(32),f=n(33),p=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:i.default,Leaf:a.default,Embed:c.default,Scroll:s.default,Block:l.default,Inline:o.default,Text:u.default,Attributor:{Attribute:d.default,Class:h.default,Style:f.default,Store:p.default}};t.default=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=i;var a,s={},o={},l={},c={};function u(e,t){var n;if(void 0===t&&(t=a.ANY),"string"===typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"===typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=o[r[i]])break;n=n||l[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=u(e);if(null==n)throw new i("Unable to create "+e+" blot");var r=n,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(a,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=u,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var r=t[0];if("string"!==typeof r.blotName&&"string"!==typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");return c[r.blotName||r.attrName]=r,"string"===typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(o[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(e){null!=l[e]&&null!=r.className||(l[e]=r)})))),r}},function(e,t,n){var r=n(51),i=n(11),a=n(3),s=n(20),o=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=a(!0,{},e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,"object"!==typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+s.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var n=[],r=s.iterator(this.ops),i=0;i<t&&r.hasNext();){var a;i<e?a=r.next(e-i):(a=r.next(t-i),n.push(a)),i+=s.length(a)}return new l(n)},l.prototype.compose=function(e){var t=s.iterator(this.ops),n=s.iterator(e.ops),r=[],a=n.peek();if(null!=a&&"number"===typeof a.retain&&null==a.attributes){for(var o=a.retain;"insert"===t.peekType()&&t.peekLength()<=o;)o-=t.peekLength(),r.push(t.next());a.retain-o>0&&n.next(a.retain-o)}for(var c=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),h=n.next(u);if("number"===typeof h.retain){var f={};"number"===typeof d.retain?f.retain=u:f.insert=d.insert;var p=s.attributes.compose(d.attributes,h.attributes,"number"===typeof d.retain);if(p&&(f.attributes=p),c.push(f),!n.hasNext()&&i(c.ops[c.ops.length-1],f)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"===typeof h.delete&&"number"===typeof d.retain&&c.push(h)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:o;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),a=new l,c=r(n[0],n[1],t),u=s.iterator(this.ops),d=s.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(d.peekLength(),t),a.push(d.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),a.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var o=u.next(n),l=d.next(n);i(o.insert,l.insert)?a.retain(n,s.attributes.diff(o.attributes,l.attributes)):a.push(l).delete(n)}t-=n}})),a.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=s.iterator(this.ops),r=new l,i=0;n.hasNext();){if("insert"!==n.peekType())return;var a=n.peek(),o=s.length(a)-n.peekLength(),c="string"===typeof a.insert?a.insert.indexOf(t,o)-o:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===e(r,n.next(1).attributes||{},i))return;i+=1,r=new l}}r.length()>0&&e(r,{},i)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var n=s.iterator(this.ops),r=s.iterator(e.ops),i=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var a=Math.min(n.peekLength(),r.peekLength()),o=n.next(a),c=r.next(a);if(o.delete)continue;c.delete?i.push(c):i.retain(a,s.attributes.transform(o.attributes,c.attributes,t))}else i.retain(s.length(n.next()));return i.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=s.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),a=n.peekType();n.next(),"delete"!==a?("insert"===a&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},o=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,i=n.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},l=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,a,u,d=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<f;++h)if(null!=(t=arguments[h]))for(n in t)r=c(d,n),d!==(i=c(t,n))&&(p&&i&&(o(i)||(a=s(i)))?(a?(a=!1,u=r&&s(r)?r:[]):u=r&&o(r)?r:{},l(d,{name:n,newValue:e(p,u,i)})):"undefined"!==typeof i&&l(d,{name:n,newValue:i}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=d(n(3)),s=d(n(2)),o=d(n(0)),l=d(n(16)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"attach",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new o.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=o.default.query(e,o.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"===typeof n&&n.endsWith("\n")){var a=o.default.create(g.blotName);this.parent.insertBefore(a,0===e?this:this.next),a.insertAt(0,n.slice(0,-1))}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(o.default.Embed);m.scope=o.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){h(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return p(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(o.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),v(t))}),new s.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,a){n<=0||(o.default.query(r,o.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,a):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,a),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var a=n.split("\n"),s=a.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var o=this;a.reduce((function(e,t){return(o=o.split(e,!0)).insertAt(0,t),t.length}),e+s.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var a=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},a}}]),t}(o.default.Block);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,a.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:v(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[c.default,o.default.Embed,u.default],t.bubbleFormats=v,t.BlockEmbed=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var s=g(n(2)),o=g(n(14)),l=g(n(8)),c=g(n(9)),u=g(n(0)),d=n(15),h=g(d),f=g(n(3)),p=g(n(10)),m=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,p.default)("quill"),b=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=x(t,r),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new o.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;w.call(n,(function(){return n.editor.update(null,t,i)}),e)}));var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var i=e.attrName||e.blotName;"string"===typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),a(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,a=_(e,t,n),s=i(a,4);return e=s[0],t=s[1],n=s[3],w.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var r=n.getSelection(!0),i=new s.default;if(null==r)return i;if(u.default.query(e,u.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,v({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,v({},e,t))}return n.setSelection(r,l.default.sources.SILENT),i}),r)}},{key:"formatLine",value:function(e,t,n,r,a){var s,o=this,l=_(e,t,n,r,a),c=i(l,4);return e=c[0],t=c[1],s=c[2],a=c[3],w.call(this,(function(){return o.editor.formatLine(e,t,s)}),a,e,0)}},{key:"formatText",value:function(e,t,n,r,a){var s,o=this,l=_(e,t,n,r,a),c=i(l,4);return e=c[0],t=c[1],s=c[2],a=c[3],w.call(this,(function(){return o.editor.formatText(e,t,s)}),a,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),a,t)}},{key:"insertText",value:function(e,t,n,r,a){var s,o=this,l=_(e,0,n,r,a),c=i(l,4);return e=c[0],s=c[2],a=c[3],w.call(this,(function(){return o.editor.insertText(e,t,s)}),a,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,a=_(e,t,n),s=i(a,4);return e=s[0],t=s[1],n=s[3],w.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new s.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),i=t.editor.applyDelta(e),a=i.ops[i.ops.length-1];return null!=a&&"string"===typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var a=_(t,n,r),s=i(a,4);t=s[0],n=s[1],r=s[3],this.selection.setRange(new d.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new s.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new s.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function x(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var n=(0,f.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=b.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function w(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new s.default;var i=null==n?null:this.getSelection(),a=this.editor.delta,o=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=k(i,o,t):0!==r&&(i=k(i,n,r,t)),this.setSelection(i,l.default.sources.SILENT)),o.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,o,a,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return o}function _(e,t,n,i,a){var s={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(a=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(a=i,i=n,n=t,t=0),"object"===("undefined"===typeof n?"undefined":r(n))?(s=n,a=i):"string"===typeof n&&(null!=i?s[n]=i:a=n),[e,t,s,a=a||l.default.sources.API]}function k(e,t,n,r){if(null==e)return null;var a=void 0,o=void 0;if(t instanceof s.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==l.default.sources.USER)})),u=i(c,2);a=u[0],o=u[1]}else{var h=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),f=i(h,2);a=f[0],o=f[1]}return new d.Range(a,o-a)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:s.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},t.expandConfig=x,t.overload=_,t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=o(n(7)),s=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,a){if(t.compare(this.statics.blotName,r)<0&&s.default.query(r,s.default.Scope.BLOT)){var o=this.isolate(e,n);a&&o.wrap(r,a)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,a)}},{key:"optimize",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),i=t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}}]),t}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,a.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default.Text);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=s(n(54));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,s(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",o.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){o.log.apply(o,arguments),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(a.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function a(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];(t=console)[e].apply(t,a)}}function s(e){return r.reduce((function(t,n){return t[n]=a.bind(console,n,e),t}),{})}a.level=s.level=function(e){i=e},t.default=s},function(e,t,n){var r=Array.prototype.slice,i=n(52),a=n(53),s=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=r.call(e),t=r.call(t),s(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=i(e),h=i(t)}catch(f){return!1}if(d.length!=h.length)return!1;for(d.sort(),h.sort(),c=d.length-1;c>=0;c--)if(d[c]!=h[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!s(e[u],t[u],n))return!1;return typeof e===typeof t}(e,t,n))};function o(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=d(n(2)),o=d(n(0)),l=d(n(4)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),i(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new s.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(u.default,this.length()-1),s=r(i,1)[0];null!=s&&s.deleteAt(s.length()-1,1),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,i){if(0!==n&&null!=o.default.query(r,o.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+n)){var s=this.newlineIndex(e,!0)+1,l=a-s+1,c=this.isolate(s,l),u=c.next;c.format(r,i),u instanceof t&&u.formatAt(0,e-s+n-l,r,i)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(u.default,e),a=r(i,2),s=a[0],o=a[1];s.insertAt(o,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(o.default.create("text","\n")),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=o.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof o.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=v(n(2)),o=v(n(20)),l=v(n(0)),c=v(n(13)),u=v(n(24)),d=n(4),h=v(d),f=v(n(16)),p=v(n(21)),m=v(n(11)),g=v(n(3));function v(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return a(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var a=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,p.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)}),new s.default)}(e)).reduce((function(e,s){var c=s.retain||s.delete||s.insert.length||1,u=s.attributes||{};if(null!=s.insert){if("string"===typeof s.insert){var f=s.insert;f.endsWith("\n")&&n&&(n=!1,f=f.slice(0,-1)),e>=a&&!f.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,f);var p=t.scroll.line(e),m=i(p,2),v=m[0],y=m[1],b=(0,g.default)({},(0,d.bubbleFormats)(v));if(v instanceof h.default){var x=v.descendant(l.default.Leaf,y),w=i(x,1)[0];b=(0,g.default)(b,(0,d.bubbleFormats)(w))}u=o.default.attributes.diff(b,u)||{}}else if("object"===r(s.insert)){var _=Object.keys(s.insert)[0];if(null==_)return e;t.scroll.insertAt(e,_,s.insert[_])}a+=c}return Object.keys(u).forEach((function(n){t.scroll.formatAt(e,c,n,u[n])})),e+c}),0),e.reduce((function(e,n){return"number"===typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new s.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var a=n.scroll.lines(e,Math.max(t,1)),s=t;a.forEach((function(t){var a=t.length();if(t instanceof c.default){var o=e-t.offset(n.scroll),l=t.newlineIndex(o+s)-o+1;t.formatAt(o,l,i,r[i])}else t.format(i,r[i]);s-=a}))}})),this.scroll.optimize(),this.update((new s.default).retain(e).retain(t,(0,p.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])})),this.update((new s.default).retain(e).retain(t,(0,p.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new s.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=i(e,1)[0];t instanceof h.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var a=[n,r].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x((0,d.bubbleFormats)(n),t)}return t}));return g.default.apply(g.default,a)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"===typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new s.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new s.default).retain(e).insert(t,(0,p.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),a=i(r,2),o=a[0],l=a[1],u=0,d=new s.default;null!=o&&(u=o instanceof c.default?o.newlineIndex(l)-l+1:o.length()-l,d=o.delta().slice(l,l+u-1).insert("\n"));var h=this.getContents(e,t+u).diff((new s.default).insert(n).concat(d)),f=(new s.default).retain(e).concat(h);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var i=l.default.find(t[0].target),a=(0,d.bubbleFormats)(i),o=i.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),h=(new s.default).insert(c),f=(new s.default).insert(i.value());e=(new s.default).retain(o).concat(h.diff(f,n)).reduce((function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)}),new s.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function x(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(0)),s=c(n(21)),o=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=(0,c(n(10)).default)("quill:selection"),f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},p=function(){function e(t,n){var r=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,a=n.startOffset,s=n.endNode,o=n.endOffset;r.setNativeRange(i,a,s,o)}})),this.update(l.default.sources.SILENT)}return i(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(e,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=a.default.find(n.start.node,!1);if(null==r)return;if(r instanceof a.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,a=this.scroll.leaf(e),s=r(a,2),o=s[0],l=s[1];if(null==o)return null;var c=o.position(l,!0),u=r(c,2);i=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(i,l);var h=this.scroll.leaf(e+t),f=r(h,2);if(o=f[0],l=f[1],null==o)return null;var p=o.position(l,!0),m=r(p,2);return i=m[0],l=m[1],d.setEnd(i,l),d.getBoundingClientRect()}var g="left",v=void 0;return i instanceof Text?(l<i.data.length?(d.setStart(i,l),d.setEnd(i,l+1)):(d.setStart(i,l-1),d.setEnd(i,l),g="right"),v=d.getBoundingClientRect()):(v=o.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return h.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=r(e,2),i=n[0],s=n[1],o=a.default.find(i,!0),l=o.offset(t.scroll);return 0===s?l:o instanceof a.default.Container?l+o.length():l+o.index(i,s)})),s=Math.min(Math.max.apply(Math,u(i)),this.scroll.length()-1),o=Math.min.apply(Math,[s].concat(u(i)));return new f(o,s-o)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],a=this.scroll.length();return n.forEach((function(e,n){e=Math.min(a-1,e);var s,o=t.scroll.leaf(e),l=r(o,2),c=l[0],u=l[1],d=c.position(u,0!==n),h=r(d,2);s=h[0],u=h[1],i.push(s,u)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,a=this.scroll.line(Math.min(t.index,i)),s=r(a,1)[0],o=s;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,i));o=r(l,1)[0]}if(null!=s&&null!=o){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var a=document.getSelection();if(null!=a)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||i||e!==s.startContainer||t!==s.startOffset||n!==s.endContainer||r!==s.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var o=document.createRange();o.setStart(e,t),o.setEnd(n,r),a.removeAllRanges(),a.addRange(o)}}else a.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(n=t,t=!1),h.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,u(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),i=r(n,2),a=i[0],c=i[1];if(this.lastRange=a,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,o.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,h=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,h)}}}]),e}();function m(e,t){try{t.parentNode}catch(n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"insertInto",value:function(e,n){0===e.children.length?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default.Embed);o.blotName="break",o.tagName="BR",t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),a=n(30),s=n(1),o=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof s.ParchmentError)return;throw r}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var r=this.children.find(n),i=r[0],a=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,a]:i instanceof t?i.descendant(e,a):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],a=r;return this.children.forEachAt(n,r,(function(n,r,s){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,a))),a-=s})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],a=r[1];if(i)i.insertAt(a,t,n);else{var o=null==n?s.create("text",t):s.create(t,n);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],a=r[1],s=[[this,e]];return i instanceof t?s.concat(i.path(a,n)):(null!=i&&s.push([i,a]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,r,i){e=e.split(r,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=l(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))}))},t}(a.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),a=n(31),s=n(17),o=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=o.query(e);n instanceof i.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},t}(s.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){var r=n(11),i=n(3),a={attributes:{compose:function(e,t,n){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=i(!0,{},t);for(var a in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(r[a]=e[a]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==typeof e)return t;if("object"===typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=a.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"===typeof t.retain?i.retain=e:"string"===typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=a},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(o){t=function(){}}try{n=Set}catch(o){n=function(){}}try{r=Promise}catch(o){r=function(){}}function i(a,o,l,c,u){"object"===typeof o&&(l=o.depth,c=o.prototype,u=o.includeNonEnumerable,o=o.circular);var d=[],h=[],f="undefined"!=typeof Buffer;return"undefined"==typeof o&&(o=!0),"undefined"==typeof l&&(l=1/0),function a(l,p){if(null===l)return null;if(0===p)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,r))m=new r((function(e,t){l.then((function(t){e(a(t,p-1))}),(function(e){t(a(e,p-1))}))}));else if(i.__isArray(l))m=[];else if(i.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(i.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):"undefined"==typeof c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(o){var v=d.indexOf(l);if(-1!=v)return h[v];d.push(l),h.push(m)}for(var y in e(l,t)&&l.forEach((function(e,t){var n=a(t,p-1),r=a(e,p-1);m.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=a(e,p-1);m.add(t)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(m[y]=a(l[y],p-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(y=0;y<x.length;y++){var w=x[y];(!(k=Object.getOwnPropertyDescriptor(l,w))||k.enumerable||u)&&(m[w]=a(l[w],p-1),k.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(u){var _=Object.getOwnPropertyNames(l);for(y=0;y<_.length;y++){var k,E=_[y];(k=Object.getOwnPropertyDescriptor(l,E))&&k.enumerable||(m[E]=a(l[E],p-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(a,l)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=a,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===a(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===a(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===a(e)},i.__getRegExpFlags=s,i}();"object"===typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=f(n(0)),o=f(n(8)),l=n(4),c=f(l),u=f(n(16)),d=f(n(13)),h=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var i=this.line(e),s=r(i,2),o=s[0],c=s[1],h=this.line(e+n),f=r(h,1)[0];if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=f&&o!==f&&c>0){if(o instanceof l.BlockEmbed||f instanceof l.BlockEmbed)return void this.optimize();if(o instanceof d.default){var p=o.newlineIndex(o.length(),!0);if(p>-1&&(o=o.split(p+1))===f)return void this.optimize()}else if(f instanceof d.default){var m=f.newlineIndex(0);m>-1&&f.split(m+1)}var g=f.children.head instanceof u.default?null:f.children.head;o.moveChildren(f,g),o.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,i){(null==this.whitelist||this.whitelist[r])&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==s.default.query(n,s.default.Scope.BLOCK)){var i=s.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var o=s.default.create(n,r);this.appendChild(o)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===s.default.Scope.INLINE_BLOT){var r=s.default.create(this.statics.defaultChild);r.appendChild(e),e=r}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,n,r){var i=[],a=r;return t.children.forEachAt(n,r,(function(t,n,r){p(t)?i.push(t):t instanceof s.default.Container&&(i=i.concat(e(t,n,a))),a-=r})),i}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(o.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=o.default.sources.USER;"string"===typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE,n,e),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(o.default.events.SCROLL_UPDATE,n,e)}}}]),t}(s.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,h.default],t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=m(n(21)),o=m(n(11)),l=m(n(3)),c=m(n(2)),u=m(n(20)),d=m(n(0)),h=m(n(5)),f=m(n(10)),p=m(n(9));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])})),r.addBinding({key:t.keys.ENTER,shiftKey:null},E),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0},_)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},_)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),r.addBinding({key:t.keys.DELETE},{collapsed:!1},k),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),r.listen(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"match",value:function(e,t){return t=j(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),a(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=j(e);if(null==r||null==r.key)return v.warn("Attempted to add invalid keyboard binding",r);"function"===typeof t&&(t={handler:t}),"function"===typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var a=n.which||n.keyCode,s=(e.bindings[a]||[]).filter((function(e){return t.match(n,e)}));if(0!==s.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=i(c,2),h=u[0],f=u[1],p=e.quill.getLeaf(l.index),m=i(p,2),g=m[0],v=m[1],y=0===l.length?[g,v]:e.quill.getLeaf(l.index+l.length),b=i(y,2),x=b[0],w=b[1],_=g instanceof d.default.Text?g.value().slice(0,v):"",k=x instanceof d.default.Text?x.value().slice(w):"",E={collapsed:0===l.length,empty:0===l.length&&h.length()<=1,format:e.quill.getFormat(l),offset:f,prefix:_,suffix:k};s.some((function(t){if(null!=t.collapsed&&t.collapsed!==E.collapsed)return!1;if(null!=t.empty&&t.empty!==E.empty)return!1;if(null!=t.offset&&t.offset!==E.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==E.format[e]})))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=E.format[e]:!1===t.format[e]?null==E.format[e]:(0,o.default)(t.format[e],E.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(E.prefix))&&!(null!=t.suffix&&!t.suffix.test(E.suffix))&&!0!==t.handler.call(e,l,E)}))&&n.preventDefault()}}}}))}}]),t}(p.default);function x(e,t){var n,r=e===b.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},r,/^$/),g(n,"handler",(function(n){var r=n.index;e===b.keys.RIGHT&&(r+=n.length+1);var a=this.quill.getLeaf(r);return!(i(a,1)[0]instanceof d.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index-1,h.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index+n.length+1,h.default.sources.USER),!1)})),n}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=i(n,1)[0],a={};if(0===t.offset){var s=this.quill.getLine(e.index-1),o=i(s,1)[0];if(null!=o&&o.length()>1){var l=r.formats(),c=this.quill.getFormat(e.index-1,1);a=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,h.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index-d,d,a,h.default.sources.USER),this.quill.focus()}}function _(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},a=0,s=this.quill.getLine(e.index),o=i(s,1)[0];if(t.offset>=o.length()-1){var l=this.quill.getLine(e.index+1),c=i(l,1)[0];if(c){var d=o.formats(),f=this.quill.getFormat(e.index,1);r=u.default.attributes.diff(d,f)||{},a=c.length()}}this.quill.deleteText(e.index,n,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+a-1,n,r,h.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),i=t[t.length-1].formats();n=u.default.attributes.diff(i,r)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function E(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",r,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],h.default.sources.USER))}))}function A(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),r=t.index,a=t.length,s=this.quill.scroll.descendant(n,r),o=i(s,2),l=o[0],c=o[1];if(null!=l){var u=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,p=l.newlineIndex(u+c+a),m=l.domNode.textContent.slice(f,p).split("\n");c=0,m.forEach((function(t,i){e?(l.insertAt(f+c,n.TAB),c+=n.TAB.length,0===i?r+=n.TAB.length:a+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(f+c,n.TAB.length),c-=n.TAB.length,0===i?r-=n.TAB.length:a-=n.TAB.length),c+=t.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(r,a,h.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],h.default.sources.USER)}}}function j(e){if("string"===typeof e||"number"===typeof e)return j({key:e});if("object"===("undefined"===typeof e?"undefined":r(e))&&(e=(0,s.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":A(!0),"outdent code-block":A(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],a=n[1],s=(0,l.default)({},r.formats(),{list:"checked"}),o=(new c.default).retain(e.index).insert("\n",s).retain(r.length()-a-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=i(n,2),a=r[0],s=r[1],o=(new c.default).retain(e.index).insert("\n",t.format).retain(a.length()-s-1).retain(1,{header:null});this.quill.updateContents(o,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),a=i(r,2),s=a[0],o=a[1];if(o>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-o).delete(n+1).retain(s.length()-2-o).retain(1,{list:l});this.quill.updateContents(u,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,h.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],a=n[1],s=(new c.default).retain(e.index+r.length()-a-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,h.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=l(n(0)),o=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"value",value:function(){}}]),a(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,a=0;null!=r&&r.statics.scope!==s.default.Scope.BLOCK_BLOT;)a+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),i=void 0,a=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];i=c[0],a=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof o.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=a){var d=[a,l].map((function(e){return Math.max(0,Math.min(i.data.length,e-1))})),h=r(d,2);return a=h[0],l=h[1],{startNode:i,startOffset:a,endNode:i,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(s.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=n(4),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);o.allowedChildren=[a.default,i.BlockEmbed,o],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),o=(r=s)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(o.default.Attributor.Style),c=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),u=new l("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);function l(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}o.blotName="link",o.tagName="A",o.SANITIZED_URL="about:blank",o.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=o,t.sanitize=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(23)),s=o(n(107));function o(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return i(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case a.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case a.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(0)),i=v(n(5)),a=n(4),s=v(a),o=v(n(16)),l=v(n(25)),c=v(n(24)),u=v(n(35)),d=v(n(6)),h=v(n(22)),f=v(n(7)),p=v(n(55)),m=v(n(42)),g=v(n(23));function v(e){return e&&e.__esModule?e:{default:e}}i.default.register({"blots/block":s.default,"blots/block/embed":a.BlockEmbed,"blots/break":o.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":h.default,"blots/text":f.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":g.default}),r.default.register(s.default,o.default,c.default,d.default,h.default,f.default),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,i){var a=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&i)a.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var s=r.create(this.statics.scope);a.wrap(s),s.format(n,i)}},e.prototype.insertAt=function(e,t,n){var i=null==n?r.create("text",t):r.create(t,n),a=this.split(e);this.parent.insertBefore(i,a)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"===typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"===typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(32),a=n(33),s=n(1),o=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=i.default.keys(this.domNode),o=a.default.keys(this.domNode);t.concat(n).concat(o).forEach((function(t){var n=s.query(t,s.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=o(n(0)),s=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof s.default){var i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(a.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(a.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}]),t}(a.default.Embed);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new a.default.Attributor.Attribute("align","align",s),l=new a.default.Attributor.Class("align","ql-align",s),c=new a.default.Attributor.Style("align","text-align",s);t.AlignAttribute=o,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=n(26),o=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});t.BackgroundClass=o,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},o=new a.default.Attributor.Attribute("direction","dir",s),l=new a.default.Attributor.Class("direction","ql-direction",s),c=new a.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=o,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),o=(r=s)&&r.__esModule?r:{default:r},l={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new o.default.Attributor.Class("font","ql-font",l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style),d=new u("font","font-family",l);t.FontStyle=d,t.FontClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},s=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=o},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,i){e!==a.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==a.default.sources.USER?r.transform(t):r.record(t,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],a.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(s(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=i.default.query(e,i.default.Scope.BLOCK)})))}(e)&&(n-=1),n}o.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=o,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=p(n(3)),s=p(n(2)),o=p(n(8)),l=p(n(23)),c=p(n(34)),u=p(n(59)),d=p(n(60)),h=p(n(28)),f=p(n(61));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],w=["1","2","3",!1],_=["small",!1,"large","huge"],k=function(e){function t(e,n){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),r}return v(t,e),r(t,[{key:"addModule",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"===typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&A(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&A(e,b,"background"===n?"#ffffff":"#000000"),new u.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?A(e,x):e.classList.contains("ql-header")?A(e,w):e.classList.contains("ql-size")&&A(e,_)),new h.default(e)})),this.quill.on(o.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);k.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new s.default).retain(r.index).delete(r.length).insert({image:n.target.result}),o.default.sources.USER),e.quill.setSelection(r.index+1,o.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var E=function(e){function t(e,n){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return v(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,o.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",o.default.sources.USER),this.quill.setSelection(r+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)}))}t.BaseTooltip=E,t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(e<i||t&&e===i&&(null==n.next||0!==n.next.length()))return[n,e];e-=i}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,i=this.find(e),a=i[0],s=e-i[1],o=this.iterator(a);(r=o())&&s<e+t;){var l=r.length();e>s?n(r,e-s,Math.min(t,s+l-e)):n(r,0,Math.min(l,e+t-s)),s+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},o=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)t.push(s.pop());for(var o=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&o(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(o(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);o(t,!1),t instanceof i.default&&t.children.forEach((function(e){o(e,!1)}))}))):"attributes"===e.type&&o(t.prev)),o(t))})),this.children.forEach(l),s=(c=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)t.push(s.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==r&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var a=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),a.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=a.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,i){null!=a.query(r,a.Scope.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t),s=a.create(n,r);i.parent.insertBefore(s,i)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],a=0;a<r;a++)if(t=n[a],e.call(i,t,a,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1;function r(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var u=a(e,t),d=e.substring(0,u);u=s(e=e.substring(u),t=t.substring(u));var h=e.substring(e.length-u),f=function(e,t){var o;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(-1!=u)return o=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],e.length>t.length&&(o[0][0]=o[2][0]=n),o;if(1==c.length)return[[n,e],[1,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,l,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var h=a(e.substring(n),t.substring(u)),f=s(e.substring(0,n),t.substring(0,u));d.length<f+h&&(d=t.substring(u-f,u)+t.substring(u,u+h),r=e.substring(0,n-f),i=e.substring(n+h),o=t.substring(0,u-f),l=t.substring(u+h))}return 2*d.length>=e.length?[r,i,o,l,d]:null}var o,l,c,u,d,h=i(n,r,Math.ceil(n.length/4)),f=i(n,r,Math.ceil(n.length/2));if(!h&&!f)return null;o=f?h&&h[4].length>f[4].length?h:f:h,e.length>t.length?(l=o[0],c=o[1],u=o[2],d=o[3]):(u=o[0],d=o[1],l=o[2],c=o[3]);var p=o[4];return[l,c,u,d,p]}(e,t);if(d){var h=d[0],f=d[1],p=d[2],m=d[3],g=d[4],v=r(h,p),y=r(f,m);return v.concat([[0,g]],y)}return function(e,t){for(var r=e.length,a=t.length,s=Math.ceil((r+a)/2),o=s,l=2*s,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[o+1]=0,u[o+1]=0;for(var h=r-a,f=h%2!=0,p=0,m=0,g=0,v=0,y=0;y<s;y++){for(var b=-y+p;b<=y-m;b+=2){for(var x=o+b,w=(S=b==-y||b!=y&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-b;S<r&&w<a&&e.charAt(S)==t.charAt(w);)S++,w++;if(c[x]=S,S>r)m+=2;else if(w>a)p+=2;else if(f&&(E=o+h-b)>=0&&E<l&&-1!=u[E]&&S>=(k=r-u[E]))return i(e,t,S,w)}for(var _=-y+g;_<=y-v;_+=2){for(var k,E=o+_,A=(k=_==-y||_!=y&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1)-_;k<r&&A<a&&e.charAt(r-k-1)==t.charAt(a-A-1);)k++,A++;if(u[E]=k,k>r)v+=2;else if(A>a)g+=2;else if(!f){var S;if((x=o+h-_)>=0&&x<l&&-1!=c[x])if(w=o+(S=c[x])-x,S>=(k=r-k))return i(e,t,S,w)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-u),t=t.substring(0,t.length-u));return d&&f.unshift([0,d]),h&&f.push([0,h]),o(f),null!=l&&(f=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===n||0===a[0]){var s=r+a[1].length;if(t===s)return[i+1,e];if(t<s){e=e.slice();var o=t-r,l=[a[0],a[1].slice(0,o)],c=[a[0],a[1].slice(o)];return e.splice(i,1,l,c),[i+1,e]}r=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=r[1],a=r[0],s=i[a],o=i[a+1];if(null==s)return e;if(0!==s[0])return e;if(null!=o&&s[1]+o[1]===o[1]+s[1])return i.splice(a,2,o,s),c(i,a,2);if(null!=o&&0===o[1].indexOf(s[1])){i.splice(a,2,[o[0],s[1]],[0,s[1]]);var l=o[1].slice(s[1].length);return l.length>0&&i.splice(a+2,0,[o[0],l]),c(i,a,3)}return e}(f,l)),f=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},i=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},a=2;a<e.length;a+=1)0===e[a-2][0]&&i(e[a-2][1])&&e[a-1][0]===n&&r(e[a-1][1])&&1===e[a][0]&&r(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));if(!t)return e;var s=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&s.push(e[a]);return s}(f)}function i(e,t,n,i){var a=e.substring(0,n),s=t.substring(0,i),o=e.substring(n),l=t.substring(i),c=r(a,s),u=r(o,l);return c.concat(u)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(a,i)==t.substring(a,i)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(e.length-i,e.length-a)==t.substring(t.length-i,t.length-a)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function o(e){e.push([0,""]);for(var t,r=0,i=0,l=0,c="",u="";r<e.length;)switch(e[r][0]){case 1:l++,u+=e[r][1],r++;break;case n:i++,c+=e[r][1],r++;break;case 0:i+l>1?(0!==i&&0!==l&&(0!==(t=a(u,c))&&(r-i-l>0&&0==e[r-i-l-1][0]?e[r-i-l-1][1]+=u.substring(0,t):(e.splice(0,0,[0,u.substring(0,t)]),r++),u=u.substring(t),c=c.substring(t)),0!==(t=s(u,c))&&(e[r][1]=u.substring(u.length-t)+e[r][1],u=u.substring(0,u.length-t),c=c.substring(0,c.length-t))),0===i?e.splice(r-l,i+l,[1,u]):0===l?e.splice(r-i,i+l,[n,c]):e.splice(r-i-l,i+l,[n,c],[1,u]),r=r-i-l+(i?1:0)+(l?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,l=0,i=0,c="",u=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&o(e)}var l=r;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var i=e[r],a=e[r+1];i[0]===a[1]&&e.splice(r,2,[i[0],i[1]+a[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var a=0,s=i.length,o=new Array(s);a<s;a++)o[a]=i[a].fn;return o},s.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){var i=new a(t,n||this),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.once=function(e,t,n){var i=new a(t,n||this,!0),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.removeListener=function(e,t,n,a){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return 0===--this._eventsCount?this._events=new i:delete this._events[s],this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||n&&o.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[s]);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new i:delete this._events[s]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,s.EventEmitter=s,"undefined"!==typeof e&&(e.exports=s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=b(n(3)),o=b(n(2)),l=b(n(0)),c=b(n(5)),u=b(n(10)),d=b(n(9)),h=n(36),f=n(37),p=b(n(13)),m=n(26),g=n(38),v=n(39),y=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,u.default)("quill:clipboard"),_="__ql-matcher",k=[[Node.TEXT_NODE,D],[Node.TEXT_NODE,R],["br",function(e,t){return N(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===C(e).fontStyle&&(n.italic=!0),r.fontWeight&&(C(e).fontWeight.startsWith("bold")||parseInt(C(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=j(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new o.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!N(t,"\n"))return t;for(var r=-1,i=e.parentNode;!i.classList.contains("ql-clipboard");)"list"===(l.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?t:t.compose((new o.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",O.bind(O,"bold")],["i",O.bind(O,"italic")],["style",function(){return new o.default}]],E=[h.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),A=[h.AlignStyle,f.BackgroundStyle,m.ColorStyle,g.DirectionStyle,v.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),S=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],k.concat(r.options.matchers).forEach((function(e){var t=i(e,2),a=t[0],s=t[1];(n.matchVisual||s!==I)&&r.addMatcher(a,s)})),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new o.default).insert(n,x({},p.default.blotName,t[p.default.blotName]))}var r=this.prepareMatching(),a=i(r,2),s=a[0],l=a[1],c=P(this.container,s,l);return N(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new o.default).retain(c.length()-1).delete(1))),w.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new o.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new o.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,c.default.sources.USER),t.quill.setSelection(r.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(r){var a=i(r,2),s=a[0],o=a[1];switch(s){case Node.TEXT_NODE:n.push(o);break;case Node.ELEMENT_NODE:t.push(o);break;default:[].forEach.call(e.container.querySelectorAll(s),(function(e){e[_]=e[_]||[],e[_].push(o)}))}})),[t,n]}}]),t}(d.default);function j(e,t,n){return"object"===("undefined"===typeof t?"undefined":r(t))?Object.keys(t).reduce((function(e,n){return j(e,n,t[n])}),e):e.reduce((function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,s.default)({},x({},t,n),r.attributes))}),new o.default)}function C(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function N(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!==typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function T(e){if(0===e.childNodes.length)return!1;var t=C(e);return["block","list-item"].indexOf(t.display)>-1}function P(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new o.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(r,i){var a=P(i,t,n);return i.nodeType===e.ELEMENT_NODE&&(a=t.reduce((function(e,t){return t(i,e)}),a),a=(i[_]||[]).reduce((function(e,t){return t(i,e)}),a)),r.concat(a)}),new o.default):new o.default}function O(e,t,n){return j(n,e,!0)}function M(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),i=l.default.Attributor.Style.keys(e),a={};return n.concat(r).concat(i).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(a[n.attrName]=n.value(e),a[n.attrName])||(null==(n=E[t])||n.attrName!==t&&n.keyName!==t||(a[n.attrName]=n.value(e)||void 0),null==(n=A[t])||n.attrName!==t&&n.keyName!==t||(n=A[t],a[n.attrName]=n.value(e)||void 0))})),Object.keys(a).length>0&&(t=j(t,a)),t}function L(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},i=n.value(e);null!=i&&(r[n.blotName]=i,t=(new o.default).insert(r,n.formats(e)))}else"function"===typeof n.formats&&(t=j(t,n.blotName,n.formats(e)));return t}function R(e,t){return N(t,"\n")||(T(e)||t.length()>0&&e.nextSibling&&T(e.nextSibling))&&t.insert("\n"),t}function I(e,t){if(T(e)&&null!=e.nextElementSibling&&!N(t,"\n\n")){var n=e.offsetHeight+parseFloat(C(e).marginTop)+parseFloat(C(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function D(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!C(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&T(e.parentNode)||null!=e.previousSibling&&T(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&T(e.parentNode)||null!=e.nextSibling&&T(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=M,t.matchBlot=L,t.matchNewline=R,t.matchSpacing=I,t.matchText=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);o.blotName="bold",o.tagName=["STRONG","B"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(2)),s=u(n(0)),o=u(n(5)),l=u(n(10)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=(0,l.default)("quill:toolbar"),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(a.options.container)){var s=document.createElement("div");m(s,a.options.container),e.container.parentNode.insertBefore(s,e.container),a.container=s}else"string"===typeof a.options.container?a.container=document.querySelector(a.options.container):a.container=a.options.container;return a.container instanceof HTMLElement?(a.container.classList.add("ql-toolbar"),a.controls=[],a.handlers={},Object.keys(a.options.handlers).forEach((function(e){a.addHandler(e,a.options.handlers[e])})),[].forEach.call(a.container.querySelectorAll("button, select"),(function(e){a.attach(e)})),a.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t){e===o.default.events.SELECTION_CHANGE&&a.update(t)})),a.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){var e=a.quill.selection.getRange(),t=r(e,1)[0];a.update(t)})),a):(i=h.error("Container required for toolbar",a.options),d(a,i))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void h.warn("ignoring attaching to disabled format",n,e);if(null==s.default.query(n))return void h.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,(function(i){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=r(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(s.default.query(n).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new a.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),o.default.sources.USER)}else t.quill.format(n,l,o.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var i=r(n,2),a=i[0],s=i[1];if("SELECT"===s.tagName){var o=void 0;if(null==e)o=null;else if(null==t[a])o=s.querySelector("option[selected]");else if(!Array.isArray(t[a])){var l=t[a];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),o=s.querySelector('option[value="'+l+'"]')}null==o?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(null==e)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var c=t[a]===s.getAttribute("value")||null!=t[a]&&t[a].toString()===s.getAttribute("value")||null==t[a]&&!s.getAttribute("value");s.classList.toggle("ql-active",c)}else s.classList.toggle("ql-active",null!=t[a])}))}}]),t}(c.default);function p(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"===typeof e)p(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):p(n,t,r)}})),e.appendChild(n)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=s.default.query(t,s.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,o.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",o.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,o.default.sources.USER),this.quill.format("direction",e,o.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,o.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,o.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,o.default.sources.USER):this.quill.format("list","unchecked",o.default.sources.USER):this.quill.format("list",e,o.default.sources.USER)}}},t.default=f,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(28),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildItem",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(28),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),a=0;if(i.right>r.right&&(a=r.right-i.right,this.root.style.left=t+a+"px"),i.left<r.left&&(a=r.left-i.left,this.root.style.left=t+a+"px"),i.bottom>r.bottom){var s=i.bottom-i.top,o=e.bottom-e.top+s;this.root.style.top=n-o+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=f(n(3)),o=f(n(8)),l=n(43),c=f(l),u=f(n(27)),d=n(15),h=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return g(t,e),a(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(c.default);y.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){p(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(t,e),a(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,o.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(o.default.events.SELECTION_CHANGE,(function(t,n,i){if(null!=t){if(0===t.length&&i===o.default.sources.USER){var a=e.quill.scroll.descendant(u.default,t.index),s=r(a,2),l=s[0],c=s[1];if(null!=l){e.linkRange=new d.Range(t.index-c,l.length());var h=u.default.formats(l.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=R(n(29)),i=n(36),a=n(38),s=n(64),o=R(n(65)),l=R(n(66)),c=n(67),u=R(c),d=n(37),h=n(26),f=n(39),p=n(40),m=R(n(56)),g=R(n(68)),v=R(n(27)),y=R(n(69)),b=R(n(70)),x=R(n(71)),w=R(n(72)),_=R(n(73)),k=n(13),E=R(k),A=R(n(74)),S=R(n(75)),j=R(n(57)),C=R(n(41)),N=R(n(28)),T=R(n(59)),P=R(n(60)),O=R(n(61)),M=R(n(108)),L=R(n(62));function R(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":p.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":s.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":f.FontClass,"formats/size":p.SizeClass,"formats/blockquote":o.default,"formats/code-block":E.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":k.Code,"formats/italic":g.default,"formats/link":v.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":w.default,"formats/video":_.default,"formats/list/item":c.ListItem,"modules/formula":A.default,"modules/syntax":S.default,"modules/toolbar":j.default,"themes/bubble":M.default,"themes/snow":L.default,"ui/icons":C.default,"ui/picker":N.default,"ui/icon-picker":P.default,"ui/color-picker":T.default,"ui/tooltip":O.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),o=(r=s)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(o.default.Attributor.Class),c=new l("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);a.blotName="blockquote",a.tagName="blockquote",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=l(n(0)),s=l(n(4)),o=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"format",value:function(e,n){e!==f.blotName||n?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:i(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(s.default);h.blotName="list-item",h.tagName="LI";var f=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),i=a.default.find(t.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return d(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof h)i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),a=this.split(r);a.parent.insertBefore(e,a)}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(o.default);f.blotName="list",f.scope=a.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[h],t.ListItem=h,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(56),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);a.blotName="italic",a.tagName=["EM","I"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);o.blotName="script",o.tagName=["SUB","SUP"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);a.blotName="strike",a.tagName="S",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);a.blotName="underline",a.tagName="U",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),o=(r=s)&&r.__esModule?r:{default:r},l=n(27),c=["alt","height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.default.Embed);u.blotName="image",u.tagName="IMG",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(4),o=n(27),l=(r=o)&&r.__esModule?r:{default:r},c=["height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=l(n(35)),s=l(n(5)),o=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,null,[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(a.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var f=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),r(t,null,[{key:"register",value:function(){s.default.register(h,!0)}}]),t}(o.default);t.FormulaBlot=h,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},a=l(n(0)),s=l(n(5)),o=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);h.className="ql-syntax";var f=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),p=function(e){function t(e,n){c(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!==typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){r.highlight(),i=null}),r.options.interval)})),r.highlight(),r}return d(t,e),r(t,null,[{key:"register",value:function(){s.default.register(f,!0),s.default.register(h,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(s.default.sources.SILENT),null!=t&&this.quill.setSelection(t,s.default.sources.SILENT)}}}]),t}(o.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=h,t.CodeToken=f,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(3)),s=d(n(8)),o=n(43),l=d(o),c=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return p(t,e),i(t,[{key:"extendToolbar",value:function(e){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);g.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){h(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t,n,i){if(e===s.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===s.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var a=r.quill.getLines(t.index,t.length);if(1===a.length)r.position(r.quill.getBounds(t));else{var o=a[a.length-1],l=r.quill.getIndex(o),u=Math.min(o.length()-1,t.index+t.length-l),d=r.quill.getBounds(new c.Range(l,u));r.position(d)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return p(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),t}(o.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=v,t.default=g},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+C(l,0):a,w(s)?(i="",null!=e&&(i=e.replace(j,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+C(o=e[c],c);l+=N(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=a+C(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},4382:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(){}function N(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+j(e,0):a,w(s)?(i="",null!=u&&(i=u.replace(S,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+u,s=E(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)u+=N(a=e[m],t,i,o=p+j(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,o=p+j(a,m++),s);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return E(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,O)}catch(a){O(a)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var i=s.call(e);return r&&(t?e[o]=n:delete e[o]),i}},4561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),a=n(438),s=n(9394),o=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),a=n(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!s[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),a=n(793),s=n(7760),o=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,o){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(a)var b=l?a(y,v,h,t,e,o):a(v,y,h,e,t,o);if(!(void 0===b?v===y||s(v,y,n,a,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6345:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,i=t[e];if(i)for(r=i.length;r--;)i[r].handler(n)},e},e.exports=t},6399:(e,t,n)=>{var r=n(5538),i=n(3668),a=n(9987),s=n(5752),o=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),x=y?h:o(e),w=b?h:o(t),_=(x=x==d?f:x)==f,k=(w=w==d?f:w)==f,E=x==w;if(E&&c(e)){if(!c(t))return!1;y=!0,_=!1}if(E&&!_)return v||(v=new r),y||u(e)?i(e,t,n,m,g,v):a(e,t,x,n,m,g,v);if(!(1&n)){var A=_&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(A||S){var j=A?e.value():e,C=S?t.value():t;return v||(v=new r),g(j,C,n,m,v)}}return!!E&&(v||(v=new r),s(e,t,n,m,g,v))}},6440:e=>{"use strict";var t=function(){};e.exports=t},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i&&r.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),a=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):a(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),a=n(5387),s=n(2070),o=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(a),y=c(s),b=c(o),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||a&&x(a.resolve())!=d||s&&x(new s)!=h||o&&x(new o)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return d;case y:return h;case b:return f}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),i=n(7857),a=n(6686),s=n(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:o).test(s(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,a,s,o){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,s,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7101:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4561),a=(r=i)&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[a.default.ENDED,a.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[a.default.ENDED,a.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[a.default.ENDED,a.default.PLAYING,a.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),a=n(4190),s=n(1946),o=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,M(_);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var a=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,A=null,S=-1,j=5,C=-1;function N(){return!(t.unstable_now()-C<j)}function T(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?k():(E=!1,A=null)}}else E=!1}if("function"===typeof b)k=function(){b(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=T,k=function(){O.postMessage(null)}}else k=function(){v(T,0)};function M(e){A=e,E||(E=!0,k())}function L(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,L(w,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,M(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},7282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(n(6345)),a=o(n(4151)),s=o(n(1750));function o(e){return e&&e.__esModule?e:{default:e}}var l=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,i.default)();if(l||(l=(0,a.default)(o)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"===typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=s.default.proxyEvents(o);var c=new Promise((function(n){"object"===("undefined"===typeof e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):l.then((function(r){var i=new r.Player(e,t);return o.on("ready",(function(){n(i)})),null}))})),u=s.default.promisifyPlayer(c,n);return u.on=o.on,u.off=o.off,u},e.exports=t.default},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8233:(e,t,n)=>{"use strict";e.exports=n(4382)},8445:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,a=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,o){o=o||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!s)return;var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*a;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===c&&!1===isNaN(e))return o.long?s(l=e,i,"day")||s(l,r,"hour")||s(l,n,"minute")||s(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),a=n(6571);e.exports=function(e){return a(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),a=n(2154),s=n(8734),o=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8826:(e,t,n)=>{var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,a=i-(r||i);e.diff=a,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var l=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var a=s[l];n=i.call(e,a),s.splice(l,1),l--}return n})),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(8445),t.names=[],t.skips=[],t.formatters={}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),a=n(6704);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=a,e.exports=s},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),a=n(8673);e.exports=function(e){return r(e,a,i)}},9429:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(8826)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},9621:(e,t,n)=>{var r=n(7529),i=n(7828),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return a.call(e,t)})))}:i;e.exports=o},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),a=n(3211),s=n(3668),o=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=s(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ht,hasStandardBrowserEnv:()=>Gt,hasStandardBrowserWebWorkerEnv:()=>Kt,navigator:()=>Vt,origin:()=>Xt});var t={};n.r(t),n.d(t,{dU:()=>yw,ng:()=>bw,EA:()=>xw,Tm:()=>ww,D6:()=>_w,YE:()=>kw,rE:()=>Ew});var r,i=n(5043),a=n.t(i,2),s=n(4391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,u=a.history,p=r.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:x.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return p},get location(){return e(a,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(l,y),m=e,()=>{a.removeEventListener(l,y),m=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(x.location,e,t);n&&n(i,e),g=v()+1;let o=d(i,g),l=x.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}s&&m&&m({action:p,location:x.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(x.location,e,t);n&&n(i,e),g=v();let a=d(i,g),o=x.createHref(i);u.replaceState(a,"",o),s&&m&&m({action:p,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=O(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let a=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=P(i);s=N(a[o],e,r)}return s}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=D([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=x(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,_=3,k=2,E=1,A=10,S=-2,j=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=S),t&&(r+=k),n.filter((e=>!j(e))).reduce(((e,t)=>e+(w.test(t)?_:""===t?E:A)),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:D([a,u.pathname]),pathnameBase:F(D([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=D([a,u.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function I(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let a,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:q(r),hash:B(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],z=(new Set(W),["get",...W]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const V=i.createContext(null);const G=i.createContext(null);const K=i.createContext(null);const X=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function Z(){return null!=i.useContext(X)}function $(){return Z()||c(!1),i.useContext(X).location}function J(e){i.useContext(K).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);return J((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))}),[e,t])}():function(){Z()||c(!1);let e=i.useContext(V),{basename:t,future:n,navigator:r}=i.useContext(K),{matches:a}=i.useContext(Y),{pathname:s}=$(),o=JSON.stringify(R(a,n.v7_relativeSplatPath)),l=i.useRef(!1);return J((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=I(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:D([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,o,s,e])}()}const te=i.createContext(null);function ne(){let{matches:e}=i.useContext(Y),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(K),{matches:a}=i.useContext(Y),{pathname:s}=$(),o=JSON.stringify(R(a,r.v7_relativeSplatPath));return i.useMemo((()=>I(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function ie(e,t,n,a){Z()||c(!1);let{navigator:s}=i.useContext(K),{matches:o}=i.useContext(Y),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=$();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let x=ce(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:D([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,a);return t&&x?i.createElement(X.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function ae(){let e=function(){var e;let t=i.useContext(Q),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const se=i.createElement(ae,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(V);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},r)}function ce(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,r,a)=>{let s,c=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,u&&(d<0&&0===a?(p="route-fallback",!1||me[p]||(me[p]=!0),c=!0,f=null):d===a&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=s?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(V);return t||c(!1),t}function fe(e){let t=i.useContext(G);return t||c(!1),t}function pe(e){let t=function(){let e=i.useContext(Y);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:a}=e;Z()||c(!1);let{future:s,static:o}=i.useContext(K),{matches:l}=i.useContext(Y),{pathname:u}=$(),d=ee(),h=I(t,R(l,s.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:a})),[d,f,a,n,r]),null}function ye(e){return function(e){let t=i.useContext(Y).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function be(e){c(!1)}function xe(e){let{basename:t="/",children:n=null,location:a,navigationType:s=r.Pop,navigator:o,static:l=!1,future:u}=e;Z()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:o,static:l,future:H({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof a&&(a=p(a));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=a,b=i.useMemo((()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[d,f,m,g,v,y,s]);return null==b?null:i.createElement(K.Provider,{value:h},i.createElement(X.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return ie(_e(t),n)}new Promise((()=>{}));i.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,_e(e.props.children,a));e.type!==be&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=_e(e.props.children,a)),n.push(s)})),n}var ke=n(7950),Ee=n.t(ke,2);function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ik){}new Map;const Ce=a.startTransition;Ee.flushSync,a.useId;function Ne(e){let{basename:t,children:n,future:r,window:a}=e,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback((e=>{d&&Ce?Ce((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(p)),[l,p]),i.useEffect((()=>ge(r)),[r]),i.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=i.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=Se(e,je),{basename:g}=i.useContext(K),v=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(ik){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||c(!1);let{basename:r,navigator:a}=i.useContext(K),{hash:s,pathname:o,search:l}=re(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:D([r,o])),a.createHref({pathname:u,search:l,hash:s})}(d,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=$(),d=re(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}}),[u,c,d,r,a,n,e,s,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:p});return i.createElement("a",Ae({},m,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Me,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ie(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}function De(e,t,n){return(t=Ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ue}=Object.prototype,{getPrototypeOf:We}=Object,{iterator:ze,toStringTag:He}=Symbol,Ve=(Ge=Object.create(null),e=>{const t=Ue.call(e);return Ge[t]||(Ge[t]=t.slice(8,-1).toLowerCase())});var Ge;const Ke=e=>(e=e.toLowerCase(),t=>Ve(t)===e),Xe=e=>t=>typeof t===e,{isArray:Ye}=Array,Qe=Xe("undefined");const Ze=Ke("ArrayBuffer");const $e=Xe("string"),Je=Xe("function"),et=Xe("number"),tt=e=>null!==e&&"object"===typeof e,nt=e=>{if("object"!==Ve(e))return!1;const t=We(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(He in e)&&!(ze in e)},rt=Ke("Date"),it=Ke("File"),at=Ke("Blob"),st=Ke("FileList"),ot=Ke("URLSearchParams"),[lt,ct,ut,dt]=["ReadableStream","Request","Response","Headers"].map(Ke);function ht(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ye(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}function ft(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mt=e=>!Qe(e)&&e!==pt;const gt=(vt="undefined"!==typeof Uint8Array&&We(Uint8Array),e=>vt&&e instanceof vt);var vt;const yt=Ke("HTMLFormElement"),bt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),xt=Ke("RegExp"),wt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ht(n,((n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)};const _t=Ke("AsyncFunction"),kt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],pt.addEventListener("message",(e=>{let{source:t,data:i}=e;t===pt&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),pt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Je(pt.postMessage)),Et="undefined"!==typeof queueMicrotask?queueMicrotask.bind(pt):"undefined"!==typeof process&&process.nextTick||kt,At={isArray:Ye,isArrayBuffer:Ze,isBuffer:function(e){return null!==e&&!Qe(e)&&null!==e.constructor&&!Qe(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Je(e.append)&&("formdata"===(t=Ve(e))||"object"===t&&Je(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ze(e.buffer),t},isString:$e,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:tt,isPlainObject:nt,isReadableStream:lt,isRequest:ct,isResponse:ut,isHeaders:dt,isUndefined:Qe,isDate:rt,isFile:it,isBlob:at,isRegExp:xt,isFunction:Je,isStream:e=>tt(e)&&Je(e.pipe),isURLSearchParams:ot,isTypedArray:gt,isFileList:st,forEach:ht,merge:function e(){const{caseless:t}=mt(this)&&this||{},n={},r=(r,i)=>{const a=t&&ft(n,i)||i;nt(n[a])&&nt(r)?n[a]=e(n[a],r):nt(r)?n[a]=e({},r):Ye(r)?n[a]=r.slice():n[a]=r};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ht(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ht(t,((t,r)=>{n&&Je(t)?e[r]=Be(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&We(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ve,kindOfTest:Ke,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ye(e))return e;let t=e.length;if(!et(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[ze]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:yt,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:wt,freezeMethods:e=>{wt(e,((t,n)=>{if(Je(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Je(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Ye(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ft,global:pt,isContextDefined:mt,isSpecCompliantForm:function(e){return!!(e&&Je(e.append)&&"FormData"===e[He]&&e[ze])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(tt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Ye(e)?[]:{};return ht(e,((e,t)=>{const a=n(e,r+1);!Qe(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:_t,isThenable:e=>e&&(tt(e)||Je(e))&&Je(e.then)&&Je(e.catch),setImmediate:kt,asap:Et,isIterable:e=>null!=e&&Je(e[ze])};function St(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}At.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:At.toJSONObject(this.config),code:this.code,status:this.status}}});const jt=St.prototype,Ct={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ct[e]={value:e}})),Object.defineProperties(St,Ct),Object.defineProperty(jt,"isAxiosError",{value:!0}),St.from=(e,t,n,r,i,a)=>{const s=Object.create(jt);return At.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),St.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Nt=St;function Tt(e){return At.isPlainObject(e)||At.isArray(e)}function Pt(e){return At.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,n){return e?e.concat(t).map((function(e,t){return e=Pt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Mt=At.toFlatObject(At,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Lt=function(e,t,n){if(!At.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=At.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!At.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&At.isSpecCompliantForm(t);if(!At.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(At.isDate(e))return e.toISOString();if(!o&&At.isBlob(e))throw new Nt("Blob is not supported. Use a Buffer instead.");return At.isArrayBuffer(e)||At.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(At.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(At.isArray(e)&&function(e){return At.isArray(e)&&!e.some(Tt)}(e)||(At.isFileList(e)||At.endsWith(n,"[]"))&&(o=At.toArray(e)))return n=Pt(n),o.forEach((function(e,r){!At.isUndefined(e)&&null!==e&&t.append(!0===s?Ot([n],r,a):null===s?n:n+"[]",l(e))})),!1;return!!Tt(e)||(t.append(Ot(i,n,a),l(e)),!1)}const u=[],d=Object.assign(Mt,{defaultVisitor:c,convertValue:l,isVisitable:Tt});if(!At.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!At.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),At.forEach(n,(function(n,a){!0===(!(At.isUndefined(n)||null===n)&&i.call(t,n,At.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function Rt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function It(e,t){this._pairs=[],e&&Lt(e,this,t)}const Dt=It.prototype;Dt.append=function(e,t){this._pairs.push([e,t])},Dt.toString=function(e){const t=e?function(t){return e.call(this,t,Rt)}:Rt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Ft=It;function qt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bt(e,t,n){if(!t)return e;const r=n&&n.encode||qt;At.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):At.isURLSearchParams(t)?t.toString():new Ft(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Ut=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){At.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Wt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ft,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ht="undefined"!==typeof window&&"undefined"!==typeof document,Vt="object"===typeof navigator&&navigator||void 0,Gt=Ht&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Kt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Xt=Ht&&window.location.href||"http://localhost",Yt=qe(qe({},e),zt);const Qt=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&At.isArray(r)?r.length:a,o)return At.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&At.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&At.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(At.isFormData(e)&&At.isFunction(e.entries)){const n={};return At.forEachEntry(e,((e,r)=>{t(function(e){return At.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Zt={transitional:Wt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=At.isObject(e);i&&At.isHTMLForm(e)&&(e=new FormData(e));if(At.isFormData(e))return r?JSON.stringify(Qt(e)):e;if(At.isArrayBuffer(e)||At.isBuffer(e)||At.isStream(e)||At.isFile(e)||At.isBlob(e)||At.isReadableStream(e))return e;if(At.isArrayBufferView(e))return e.buffer;if(At.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Lt(e,new Yt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Yt.isNode&&At.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=At.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Lt(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(At.isString(e))try{return(t||JSON.parse)(e),At.trim(e)}catch(ik){if("SyntaxError"!==ik.name)throw ik}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Zt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(At.isResponse(e)||At.isReadableStream(e))return e;if(e&&At.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(ik){if(n){if("SyntaxError"===ik.name)throw Nt.from(ik,Nt.ERR_BAD_RESPONSE,this,null,this.response);throw ik}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};At.forEach(["delete","get","head","post","put","patch"],(e=>{Zt.headers[e]={}}));const $t=Zt,Jt=At.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),en=Symbol("internals");function tn(e){return e&&String(e).trim().toLowerCase()}function nn(e){return!1===e||null==e?e:At.isArray(e)?e.map(nn):String(e)}function rn(e,t,n,r,i){return At.isFunction(r)?r.call(this,t,n):(i&&(t=n),At.isString(t)?At.isString(r)?-1!==t.indexOf(r):At.isRegExp(r)?r.test(t):void 0:void 0)}class an{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=tn(t);if(!i)throw new Error("header name must be a non-empty string");const a=At.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=nn(e))}const a=(e,t)=>At.forEach(e,((e,n)=>i(e,n,t)));if(At.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(At.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Jt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(At.isObject(e)&&At.isIterable(e)){let n,r,i={};for(const t of e){if(!At.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?At.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=tn(e)){const n=At.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(At.isFunction(t))return t.call(this,e,n);if(At.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tn(e)){const n=At.findKey(this,e);return!(!n||void 0===this[n]||t&&!rn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=tn(e)){const i=At.findKey(n,e);!i||t&&!rn(0,n[i],i,t)||(delete n[i],r=!0)}}return At.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!rn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return At.forEach(this,((r,i)=>{const a=At.findKey(n,i);if(a)return t[a]=nn(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=nn(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return At.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&At.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[en]=this[en]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=tn(e);t[r]||(!function(e,t){const n=At.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return At.isArray(e)?e.forEach(r):r(e),this}}an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),At.reduceDescriptors(an.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),At.freezeMethods(an);const sn=an;function on(e,t){const n=this||$t,r=t||n,i=sn.from(r.headers);let a=r.data;return At.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function ln(e){return!(!e||!e.__CANCEL__)}function cn(e,t,n){Nt.call(this,null==e?"canceled":e,Nt.ERR_CANCELED,t,n),this.name="CanceledError"}At.inherits(cn,Nt,{__CANCEL__:!0});const un=cn;function dn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const hn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];i||(i=l),n[a]=o,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const fn=function(e,t){let n,r,i=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?s(l,e):(n=l,r||(r=setTimeout((()=>{r=null,s(n)}),a-t)))},()=>n&&s(n)]},pn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=hn(50,250);return fn((n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-r,l=i(o);r=a;e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},mn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},gn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return At.asap((()=>e(...n)))},vn=Yt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Yt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,yn=Yt.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];At.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),At.isString(r)&&s.push("path="+r),At.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const xn=e=>e instanceof sn?qe({},e):e;function wn(e,t){t=t||{};const n={};function r(e,t,n,r){return At.isPlainObject(e)&&At.isPlainObject(t)?At.merge.call({caseless:r},e,t):At.isPlainObject(t)?At.merge({},t):At.isArray(t)?t.slice():t}function i(e,t,n,i){return At.isUndefined(t)?At.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!At.isUndefined(t))return r(void 0,t)}function s(e,t){return At.isUndefined(t)?At.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>i(xn(e),xn(t),0,!0)};return At.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||i,s=a(e[r],t[r],r);At.isUndefined(s)&&a!==o||(n[r]=s)})),n}const _n=e=>{const t=wn({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=sn.from(o),t.url=Bt(bn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),At.isFormData(r))if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Yt.hasStandardBrowserEnv&&(i&&At.isFunction(i)&&(i=i(t)),i||!1!==i&&vn(t.url))){const e=a&&s&&yn.read(s);e&&o.set(a,e)}return t},kn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=_n(e);let i=r.data;const a=sn.from(r.headers).normalize();let s,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=sn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());dn((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Nt("Request aborted",Nt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Nt("Network Error",Nt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Wt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Nt(t,i.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,m)),m=null},void 0===i&&a.setContentType(null),"setRequestHeader"in m&&At.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),At.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=pn(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=pn(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new un(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===Yt.protocols.indexOf(v)?n(new Nt("Unsupported protocol "+v+":",Nt.ERR_BAD_REQUEST,e)):m.send(i||null)}))},En=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Nt?t:new un(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,i(new Nt("timeout ".concat(t," of ms exceeded"),Nt.ETIMEDOUT))}),t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:o}=r;return o.unsubscribe=()=>At.asap(s),o}};function An(e,t){this.v=e,this.k=t}function Sn(e){return function(){return new jn(e.apply(this,arguments))}}function jn(e){var t,n;function r(t,n){try{var a=e[t](n),s=a.value,o=s instanceof An;Promise.resolve(o?s.v:s).then((function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,s){var o={key:e,arg:i,resolve:a,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function Cn(e){return new An(e,0)}function Nn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new An(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Tn(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Pn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Pn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Pn=function(e){this.s=e,this.n=e.next},Pn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Pn(e)}jn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},jn.prototype.next=function(e){return this._invoke("next",e)},jn.prototype.throw=function(e){return this._invoke("throw",e)},jn.prototype.return=function(e){return this._invoke("return",e)};const On=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Mn=function(){var e=Sn((function*(e,t){var n,r=!1,i=!1;try{for(var a,s=Tn(Ln(e));r=!(a=yield Cn(s.next())).done;r=!1){const e=a.value;yield*Nn(Tn(On(e,t)))}}catch(o){i=!0,n=o}finally{try{r&&null!=s.return&&(yield Cn(s.return()))}finally{if(i)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),Ln=function(){var e=Sn((function*(e){if(e[Symbol.asyncIterator])return void(yield*Nn(Tn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Cn(t.read());if(e)break;yield n}}finally{yield Cn(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Rn=(e,t,n,r)=>{const i=Mn(e,t);let a,s=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=s+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},In="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Dn=In&&"function"===typeof ReadableStream,Fn=In&&("function"===typeof TextEncoder?(qn=new TextEncoder,e=>qn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var qn;const Bn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(ik){return!1}},Un=Dn&&Bn((()=>{let e=!1;const t=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Wn=Dn&&Bn((()=>At.isReadableStream(new Response("").body))),zn={stream:Wn&&(e=>e.body)};var Hn;In&&(Hn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!zn[e]&&(zn[e]=At.isFunction(Hn[e])?t=>t[e]():(t,n)=>{throw new Nt("Response type '".concat(e,"' is not supported"),Nt.ERR_NOT_SUPPORT,n)})})));const Vn=async(e,t)=>{const n=At.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(At.isBlob(e))return e.size;if(At.isSpecCompliantForm(e)){const t=new Request(Yt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return At.isArrayBufferView(e)||At.isArrayBuffer(e)?e.byteLength:(At.isURLSearchParams(e)&&(e+=""),At.isString(e)?(await Fn(e)).byteLength:void 0)})(t):n},Gn=In&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=_n(e);c=c?(c+"").toLowerCase():"text";let f,p=En([i,a&&a.toAbortSignal()],s);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&Un&&"get"!==n&&"head"!==n&&0!==(g=await Vn(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(At.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=mn(g,pn(gn(l)));r=Rn(n.body,65536,e,t)}}At.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,qe(qe({},h),{},{signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0}));let a=await fetch(f);const s=Wn&&("stream"===c||"response"===c);if(Wn&&(o||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=At.toFiniteNumber(a.headers.get("content-length")),[n,r]=o&&mn(t,pn(gn(o),!0))||[];a=new Response(Rn(a.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await zn[At.findKey(zn,c)||"text"](a,e);return!s&&m&&m(),await new Promise(((t,n)=>{dn(t,n,{data:v,headers:sn.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,e,f),{cause:v.cause||v});throw Nt.from(v,v&&v.code,e,f)}}),Kn={http:null,xhr:kn,fetch:Gn};At.forEach(Kn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ik){}Object.defineProperty(e,"adapterName",{value:t})}}));const Xn=e=>"- ".concat(e),Yn=e=>At.isFunction(e)||null===e||!1===e,Qn=e=>{e=At.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Yn(n)&&(r=Kn[(t=String(n)).toLowerCase()],void 0===r))throw new Nt("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Xn).join("\n"):" "+Xn(e[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Zn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new un(null,e)}function $n(e){Zn(e),e.headers=sn.from(e.headers),e.data=on.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Qn(e.adapter||$t.adapter)(e).then((function(t){return Zn(e),t.data=on.call(e,e.transformResponse,t),t.headers=sn.from(t.headers),t}),(function(t){return ln(t)||(Zn(e),t&&t.response&&(t.response.data=on.call(e,e.transformResponse,t.response),t.response.headers=sn.from(t.response.headers))),Promise.reject(t)}))}const Jn="1.9.0",er={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{er[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const tr={};er.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new Nt(r(i," has been removed"+(t?" in "+t:"")),Nt.ERR_DEPRECATED);return t&&!tr[i]&&(tr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},er.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const nr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new Nt("option "+a+" must be "+n,Nt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Nt("Unknown option "+a,Nt.ERR_BAD_OPTION)}},validators:er},rr=nr.validators;class ir{constructor(e){this.defaults=e||{},this.interceptors={request:new Ut,response:new Ut}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ik){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=wn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&nr.assertOptions(n,{silentJSONParsing:rr.transitional(rr.boolean),forcedJSONParsing:rr.transitional(rr.boolean),clarifyTimeoutError:rr.transitional(rr.boolean)},!1),null!=r&&(At.isFunction(r)?t.paramsSerializer={serialize:r}:nr.assertOptions(r,{encode:rr.function,serialize:rr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),nr.assertOptions(t,{baseUrl:rr.spelling("baseURL"),withXsrfToken:rr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&At.merge(i.common,i[t.method]);i&&At.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=sn.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[$n.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=$n.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Bt(bn((e=wn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}At.forEach(["delete","get","head","options"],(function(e){ir.prototype[e]=function(t,n){return this.request(wn(n||{},{method:e,url:t,data:(n||{}).data}))}})),At.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(wn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ir.prototype[e]=t(),ir.prototype[e+"Form"]=t(!0)}));const ar=ir;class sr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new un(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sr((function(t){e=t})),cancel:e}}}const or=sr;const lr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lr).forEach((e=>{let[t,n]=e;lr[n]=t}));const cr=lr;const ur=function e(t){const n=new ar(t),r=Be(ar.prototype.request,n);return At.extend(r,ar.prototype,n,{allOwnKeys:!0}),At.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(wn(t,n))},r}($t);ur.Axios=ar,ur.CanceledError=un,ur.CancelToken=or,ur.isCancel=ln,ur.VERSION=Jn,ur.toFormData=Lt,ur.AxiosError=Nt,ur.Cancel=ur.CanceledError,ur.all=function(e){return Promise.all(e)},ur.spread=function(e){return function(t){return e.apply(null,t)}},ur.isAxiosError=function(e){return At.isObject(e)&&!0===e.isAxiosError},ur.mergeConfig=wn,ur.AxiosHeaders=sn,ur.formToJSON=e=>Qt(At.isHTMLForm(e)?new FormData(e):e),ur.getAdapter=Qn,ur.HttpStatusCode=cr,ur.default=ur;let dr,hr;dr="/.netlify/functions",hr="",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL&&(dr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL);const fr=ur.create({baseURL:dr,withCredentials:!0}),pr=hr;fr.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),fr.interceptors.response.use((e=>e),(e=>(console.error("Axios error interceptor:",e),e.response?(console.error("Axios error response data:",e.response.data),console.error("Axios error response status:",e.response.status),console.error("Axios error response headers:",e.response.headers)):e.request?console.error("Axios error request:",e.request):console.error("Axios error message:",e.message),Promise.reject(e))));const mr=fr;class gr extends Error{}function vr(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return atob(t)}}function yr(e,t){if("string"!==typeof e)throw new gr("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new gr("Invalid token specified: missing part #".concat(n+1));let i;try{i=vr(r)}catch(ik){throw new gr("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(ik.message,")"))}try{return JSON.parse(i)}catch(ik){throw new gr("Invalid token specified: invalid json for part #".concat(n+1," (").concat(ik.message,")"))}}gr.prototype.name="InvalidTokenError";var br=n(579);const xr=(0,i.createContext)(null),wr=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),c=(0,i.useCallback)((async()=>{s(!0);const e=localStorage.getItem("token");if(e)try{const n=yr(e),i=Date.now()/1e3;if(n.exp<i)localStorage.removeItem("token"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),r(null),delete mr.defaults.headers.common.Authorization,l("Session expired. Please login again.");else{let i=n;mr.defaults.headers.common.Authorization="Bearer ".concat(e);try{const e=await mr.get("/auth/profile");if(e.data&&"success"===e.data.status){const t=e.data.data.user;i=qe(qe({},n),t)}}catch(t){console.error("AuthContext: Failed to fetch full profile during auth check",t)}r(i),localStorage.setItem("userEmail",i.email),i.namaLengkap?localStorage.setItem("userName",i.namaLengkap):localStorage.removeItem("userName"),localStorage.setItem("userRole",i.role),l(null)}}catch(ik){console.error("Invalid token during auth check:",ik),localStorage.removeItem("token"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),r(null),delete mr.defaults.headers.common.Authorization,l("Invalid session. Please login again.")}else r(null),delete mr.defaults.headers.common.Authorization;s(!1)}),[r,s,l]);(0,i.useEffect)((()=>{c()}),[c]),(0,i.useEffect)((()=>{const e=()=>{c()};return window.addEventListener("auth-token-processed",e),()=>{window.removeEventListener("auth-token-processed",e)}}),[c]);const u=(0,i.useCallback)((async e=>{s(!0),l(null);try{const n=await mr.post("/auth/login",e);if(n.data&&n.data.token){localStorage.setItem("token",n.data.token);const e=yr(n.data.token);let t=e;mr.defaults.headers.common.Authorization="Bearer ".concat(n.data.token);try{const n=await mr.get("/auth/profile");if(n.data&&"success"===n.data.status){const r=n.data.data.user;t=qe(qe({},e),r)}}catch(a){console.error("AuthContext: Failed to fetch full profile after login",a)}return r(t),localStorage.setItem("userEmail",t.email),t.namaLengkap&&localStorage.setItem("userName",t.namaLengkap),localStorage.setItem("userRole",t.role),s(!1),t}var t;return l((null===(t=n.data)||void 0===t?void 0:t.message)||"Login failed: No token received"),s(!1),null}catch(o){var n,i;console.error("Login error:",o);const e=(null===(n=o.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||o.message||"An unknown error occurred during login.";return l(e),s(!1),null}}),[r,s,l]),d=(0,i.useCallback)((()=>{localStorage.removeItem("token"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),r(null),delete mr.defaults.headers.common.Authorization}),[r]),h=(0,i.useCallback)((()=>{l(null)}),[l]),f=(0,i.useMemo)((()=>({user:n,setUser:r,isAuthenticated:!!n,login:u,logout:d,loadingAuth:a,errorAuth:o,clearAuthError:h})),[n,r,a,u,d,o,h]);return(0,br.jsx)(xr.Provider,{value:f,children:!a&&t})},_r=()=>{const e=(0,i.useContext)(xr);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return null===e?{user:null,setUser:()=>{},isAuthenticated:!1,loadingAuth:!0,errorAuth:null,login:async()=>!1,logout:()=>{},clearAuthError:()=>{}}:e},kr=(0,i.createContext)(),Er=e=>{let{children:t}=e;const{user:n}=_r(),[r,a]=(0,i.useState)(null),[s,o]=(0,i.useState)(""),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(new Set),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(null),[x,w]=(0,i.useState)(null),_=e=>e.find((e=>"PRE_TEST_QUIZ"===e.type)),k=(0,i.useCallback)((async e=>{if(!n||!e)return c([]),d(new Set),f(null),m(!1),a(null),o(""),void w(null);v(!0),b(null);try{var t,r,i;console.log("[CourseProgressContext] fetchCourseProgressAndModules: Called with identifierToFetchBy = ".concat(e));const n=null===(t=(await mr.get("/courses/".concat(e,"/progress"))).data)||void 0===t?void 0:t.data;console.log("[CourseProgressContext] fetchCourseProgressAndModules: Raw responseData for ".concat(e,":"),n);const s=n?n.courseId:void 0;console.log("[CourseProgressContext] fetchCourseProgressAndModules: Extracted numericCourseIdFromResponse: ".concat(s)),console.log("[CourseProgressContext] fetchCourseProgressAndModules: Attempting to set currentCourseId with: ".concat(s)),a(s),o((null===n||void 0===n?void 0:n.courseTitle)||""),console.log("[CourseProgressContext] fetchCourseProgressAndModules: Setting fetchedByIdentifier to ".concat(e)),w(e);const l=(null===n||void 0===n||null===(r=n.modules)||void 0===r?void 0:r.sort(((e,t)=>e.order-t.order)))||[];c(l);const u=(null===n||void 0===n?void 0:n.userProgress)||[],h=new Set;let p=null,g=null;u.forEach((e=>{if(e.completedAt&&h.add(e.moduleId),e.lastAccessedAt){const t=new Date(e.lastAccessedAt);(!p||t>p)&&(p=t,g=e.moduleId)}})),d(h),f(g||(null===(i=l[0])||void 0===i?void 0:i.id)||null);const v=_(l);v&&h.has(v.id)?m(!0):m(!1)}catch(u){var s,l;console.error("Error fetching course progress and modules:",u),b((null===(s=u.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Gagal memuat progres kursus."),c([]),d(new Set),f(null),m(!1),a(null),o(""),w(null)}finally{v(!1)}}),[n]),E=(0,i.useCallback)((async e=>{if(!n||!r||!e)return;const t=new Set(u);t.add(e),d(t),f(e);const i=_(l);i&&i.id===e&&m(!0);try{await mr.post("/courses/".concat(r,"/modules/").concat(e,"/complete"),{})}catch(o){var a,s;console.error("Error marking module as completed:",o),b((null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Gagal menyimpan progres.");const t=new Set(u);t.delete(e),d(t)}}),[n,r,l,u]),A=(0,i.useCallback)((async(e,t)=>{if(!n||!r||!e||"number"!==typeof t)return console.error("Invalid arguments for recordAndMarkTestAsCompleted",{user:n,currentCourseId:r,moduleId:e,score:t}),void b("Gagal menyimpan skor tes: argumen tidak valid.");const i=new Set(u);i.add(e),d(i),f(e);const a=_(l);a&&a.id===e&&m(!0);try{await mr.post("/courses/".concat(r,"/modules/").concat(e,"/record-score"),{score:t})}catch(c){var s,o;console.error("Error recording test score:",c);const t=(null===(s=c.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Gagal menyimpan skor tes.";b(t);const n=new Set(u);if(n.delete(e),d(n),a&&a.id===e){l.some((t=>t.id===e&&u.has(t.id)&&t.id!==e))||m(!1)}throw c}}),[n,r,l,u]),S=(0,i.useCallback)((()=>{c([]),d(new Set),f(null),m(!1),a(null),o(""),w(null),b(null),v(!1)}),[]),j={currentCourseId:r,courseTitle:s,fetchedByIdentifier:x,modules:l,completedModuleIds:u,lastAccessedModuleId:h,isPreTestCompleted:p,isLoading:g,error:y,fetchCourseProgressAndModules:k,markModuleAsCompleted:E,isModuleCompleted:e=>u.has(e),getFirstIntroModule:()=>l.find((e=>0===e.order&&"PAGE"===e.type)),getPreTestModule:()=>_(l),getPostTestModule:()=>l.find((e=>"POST_TEST_QUIZ"===e.type)),recordAndMarkTestAsCompleted:A,resetProgressForCourse:S};return(0,br.jsx)(kr.Provider,{value:j,children:t})},Ar=()=>{const e=(0,i.useContext)(kr);if(void 0===e)throw new Error("useCourseProgress must be used within a CourseProgressProvider");return e},Sr=()=>(0,br.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,br.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"#4C4C4D"}),(0,br.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.32341 11.4467C2.81066 6.97571 7.02791 3.75 12.0005 3.75C16.9708 3.75 21.1864 6.97271 22.6755 11.4405C22.7959 11.8015 22.796 12.1922 22.6759 12.5533C21.1886 17.0243 16.9714 20.25 11.9988 20.25C7.02847 20.25 2.81284 17.0273 1.32374 12.5595C1.2034 12.1985 1.20328 11.8078 1.32341 11.4467ZM17.25 12C17.25 14.8995 14.8995 17.25 12 17.25C9.1005 17.25 6.75 14.8995 6.75 12C6.75 9.1005 9.1005 6.75 12 6.75C14.8995 6.75 17.25 9.1005 17.25 12Z",fill:"#4C4C4D"})]}),jr=()=>(0,br.jsxs)("svg",{width:"30",height:"31",viewBox:"0 0 30 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,br.jsxs)("g",{clipPath:"url(#clip0_2_271)",children:[(0,br.jsx)("path",{d:"M29.7073 15.8453C29.7073 14.8257 29.6247 13.8005 29.4483 12.7974H15.2998V18.5736H23.402C23.0658 20.4365 21.9855 22.0845 20.4036 23.1317V26.8797H25.2374C28.0759 24.2671 29.7073 20.409 29.7073 15.8453Z",fill:"#4285F4"}),(0,br.jsx)("path",{d:"M15.2999 30.5012C19.3454 30.5012 22.7572 29.1728 25.2429 26.88L20.4092 23.1321C19.0644 24.047 17.3282 24.5651 15.3054 24.5651C11.3921 24.5651 8.07409 21.925 6.88357 18.3755H1.89551V22.2392C4.4419 27.3044 9.62838 30.5012 15.2999 30.5012V30.5012Z",fill:"#34A853"}),(0,br.jsx)("path",{d:"M6.87798 18.3754C6.24965 16.5124 6.24965 14.4952 6.87798 12.6322V8.76855H1.89543C-0.232071 13.007 -0.232071 18.0006 1.89543 22.2391L6.87798 18.3754V18.3754Z",fill:"#FBBC04"}),(0,br.jsx)("path",{d:"M15.2999 6.43708C17.4384 6.40401 19.5053 7.20871 21.0541 8.68583L25.3366 4.40327C22.6249 1.85688 19.0258 0.456918 15.2999 0.501011C9.62838 0.501011 4.4419 3.69778 1.89551 8.76851L6.87805 12.6322C8.06306 9.07716 11.3866 6.43708 15.2999 6.43708V6.43708Z",fill:"#EA4335"})]}),(0,br.jsx)("defs",{children:(0,br.jsx)("clipPath",{id:"clip0_2_271",children:(0,br.jsx)("rect",{width:"30",height:"30",fill:"white",transform:"translate(0 0.5)"})})})]}),Cr=e=>{let{className:t=""}=e;return(0,br.jsxs)("a",{href:"https://e-learning-unesa.netlify.app/.netlify/functions/auth/google/callback",className:"box-border flex gap-3 justify-center items-center p-3 md:p-4 w-full rounded-md border border-teraplus-text-default bg-teraplus-primary no-underline hover:bg-teraplus-primary-hover focus:outline-none focus:ring-2 focus:ring-teraplus-accent focus:ring-opacity-50 transition-colors ".concat(t),children:[(0,br.jsx)(jr,{className:"w-5 h-5 md:w-6 md:h-6"}),(0,br.jsxs)("span",{className:"text-sm md:text-base font-medium text-teraplus-text-default",children:[" ","Masuk dengan Google"]})]})},Nr=e=>{let{onSubmit:t}=e;const[n,r]=(0,i.useState)(!1),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)("");return(0,br.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u("");try{await t({email:a,password:o})}catch(i){var n,r;u((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||i.message||"Login gagal. Silakan coba lagi.")}},noValidate:!0,className:"flex flex-col gap-6 items-start p-8 w-full bg-teraplus-card-bg rounded-xl shadow-3xl max-w-md",children:[(0,br.jsxs)("div",{className:"flex flex-col gap-2 justify-center items-start w-full",children:[(0,br.jsxs)("h1",{className:"w-full text-2xl md:text-3xl font-bold text-left text-teraplus-text-default",children:[" ","Masuk Akun"]}),(0,br.jsx)("p",{className:"w-full text-sm md:text-base text-left text-teraplus-text-default opacity-70",children:"Masuk ke akun TERAPLUS Anda untuk melanjutkan."})]}),(0,br.jsx)(Cr,{className:"w-full py-3 text-sm md:text-base"}),(0,br.jsxs)("div",{className:"flex gap-3 justify-center items-center w-full",children:[(0,br.jsx)("div",{className:"h-px bg-gray-300 flex-grow"})," ",(0,br.jsxs)("span",{className:"text-xs md:text-sm leading-7 text-center text-teraplus-text-default opacity-60",children:[" ","Atau Masuk dengan Email"]}),(0,br.jsx)("div",{className:"h-px bg-gray-300 flex-grow"})," "]}),(0,br.jsxs)("div",{className:"flex flex-col gap-4 items-start w-full",children:[(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsxs)("label",{htmlFor:"email",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:[" ","Email"]}),(0,br.jsx)("input",{type:"email",id:"email",value:a,onChange:e=>s(e.target.value),placeholder:"Tuliskan alamat email Anda",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue sm:text-sm text-teraplus-text-default",required:!0})]}),(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsx)("label",{htmlFor:"password",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:"Password"}),(0,br.jsxs)("div",{className:"mt-1 flex w-full rounded-md shadow-sm border border-gray-300 focus-within:border-teraplus-brand-blue focus-within:ring-1 focus-within:ring-teraplus-brand-blue",children:[" ",(0,br.jsx)("input",{type:n?"text":"password",id:"password",value:o,onChange:e=>l(e.target.value),placeholder:"Tuliskan password Anda",className:"flex-1 px-3 py-2 block w-full rounded-none rounded-l-md sm:text-sm border-0 focus:ring-0 text-teraplus-text-default placeholder-gray-400",required:!0}),(0,br.jsx)("button",{type:"button",onClick:()=>r(!n),className:"inline-flex items-center px-3 rounded-r-md border-l-0 border-gray-300 bg-gray-50 text-gray-500 hover:bg-gray-100","aria-label":n?"Hide password":"Show password",children:(0,br.jsx)(Sr,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),(0,br.jsxs)("div",{className:"w-full text-right text-xs md:text-sm mt-1",children:[(0,br.jsx)(Oe,{to:"/request-password-reset",className:"text-teraplus-text-default hover:underline opacity-80",children:"Lupa Password?"})," "]}),c&&(0,br.jsx)("p",{className:"text-red-500 text-sm mt-2 text-center w-full",children:c}),(0,br.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-teraplus-accent rounded-md shadow-sm text-sm font-medium text-teraplus-accent bg-transparent hover:bg-teraplus-accent hover:text-teraplus-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teraplus-accent mt-2 transition-colors duration-150",children:"Login"})]}),(0,br.jsx)("div",{className:"flex gap-1 justify-center items-center w-full mt-3",children:(0,br.jsxs)("p",{className:"text-xs md:text-sm leading-7 text-center text-teraplus-text-default opacity-80",children:["Belum punya akun? ",(0,br.jsx)(Oe,{to:"/register",className:"font-semibold text-teraplus-text-default hover:underline",children:"Daftar"})," "]})})]})};const Tr=function(){const e=ee(),{login:t,errorAuth:n}=_r();return(0,br.jsxs)("div",{className:"min-h-screen flex bg-teraplus-page-bg",children:[" ",(0,br.jsxs)("div",{className:"hidden lg:flex lg:w-3/5 xl:w-1/2 bg-teraplus-primary items-center justify-center p-12",children:[" ",(0,br.jsx)("img",{src:"/images/bg-login.png",alt:"Sports Massage Therapy Illustration",className:"w-full max-w-2xl mx-auto object-contain"})]}),(0,br.jsx)("div",{className:"w-full lg:w-2/5 xl:w-1/2 flex items-center justify-center p-6 sm:p-8 md:p-12",children:(0,br.jsx)(Nr,{onSubmit:async r=>{const i=await t(r);if(!i)throw new Error(n||"Login gagal. Silakan coba lagi.");"admin"===i.role?e("/admin"):e("/")}})})]})},Pr=e=>{let{onSubmit:t,formData:n,handleChange:r,error:a,success:s}=e;const[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);return(0,br.jsxs)("form",{onSubmit:t,noValidate:!0,className:"flex flex-col gap-6 items-start p-8 w-full bg-teraplus-card-bg rounded-xl shadow-3xl max-w-md",children:[(0,br.jsxs)("div",{className:"flex flex-col gap-2 justify-center items-start w-full",children:[(0,br.jsx)("h1",{className:"w-full text-2xl md:text-3xl font-bold text-left text-teraplus-text-default",children:"Buat Akun Baru"}),(0,br.jsx)("p",{className:"w-full text-sm md:text-base text-left text-teraplus-text-default opacity-70",children:"Isi detail di bawah untuk mendaftar ke TERAPLUS."})]}),a&&(0,br.jsx)("p",{className:"text-red-500 text-sm text-center w-full -mt-2",children:a}),s&&(0,br.jsx)("p",{className:"text-green-500 text-sm text-center w-full -mt-2",children:s}),(0,br.jsx)(Cr,{className:"w-full py-3 text-sm md:text-base"}),(0,br.jsxs)("div",{className:"flex gap-3 justify-center items-center w-full",children:[(0,br.jsx)("div",{className:"h-px bg-gray-300 flex-grow"}),(0,br.jsx)("span",{className:"text-xs md:text-sm leading-7 text-center text-teraplus-text-default opacity-60",children:"Atau Daftar dengan Email"}),(0,br.jsx)("div",{className:"h-px bg-gray-300 flex-grow"})]}),(0,br.jsxs)("div",{className:"flex flex-col gap-4 items-start w-full",children:[(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsx)("label",{htmlFor:"namaLengkap",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:"Nama Lengkap"}),(0,br.jsx)("input",{id:"namaLengkap",name:"namaLengkap",type:"text",required:!0,value:n.namaLengkap,onChange:r,placeholder:"Masukkan nama lengkap Anda",className:"mt-1 block w-full px-3 py-2 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue sm:text-sm text-teraplus-text-default border border-gray-300"})]}),(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsx)("label",{htmlFor:"email",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:"Email"}),(0,br.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:r,placeholder:"alamat.email@contoh.com",className:"mt-1 block w-full px-3 py-2 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue sm:text-sm text-teraplus-text-default border border-gray-300"})]}),(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsx)("label",{htmlFor:"affiliasi",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:"Affiliasi (Nama Instansi/Perusahaan/Pribadi)"}),(0,br.jsx)("input",{id:"affiliasi",name:"affiliasi",type:"text",required:!0,value:n.affiliasi,onChange:r,placeholder:"Masukkan affiliasi Anda",className:"mt-1 block w-full px-3 py-2 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue sm:text-sm text-teraplus-text-default border border-gray-300"})]}),(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsx)("label",{htmlFor:"noHp",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:"No. HP (WhatsApp Aktif)"}),(0,br.jsx)("input",{id:"noHp",name:"noHp",type:"tel",required:!0,value:n.noHp,onChange:r,placeholder:"Contoh: 081234567890",className:"mt-1 block w-full px-3 py-2 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue sm:text-sm text-teraplus-text-default border border-gray-300"})]}),(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsx)("label",{htmlFor:"password",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:"Password"}),(0,br.jsxs)("div",{className:"mt-1 flex w-full rounded-md shadow-sm border border-gray-300 focus-within:border-teraplus-brand-blue focus-within:ring-1 focus-within:ring-teraplus-brand-blue",children:[(0,br.jsx)("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:n.password,onChange:r,placeholder:"Minimal 8 karakter",className:"flex-1 block w-full rounded-none rounded-l-md border-0 px-3 py-2 placeholder-gray-400 focus:ring-0 sm:text-sm text-teraplus-text-default"}),(0,br.jsx)("button",{type:"button",onClick:()=>l(!o),className:"inline-flex items-center px-3 rounded-r-md border-l-0 border-gray-300 bg-gray-50 text-gray-500 hover:bg-gray-100","aria-label":o?"Hide password":"Show password",children:(0,br.jsx)(Sr,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),(0,br.jsxs)("div",{className:"flex flex-col gap-1.5 items-start w-full",children:[(0,br.jsx)("label",{htmlFor:"confirmPassword",className:"w-full text-sm md:text-base font-medium leading-7 text-teraplus-text-default",children:"Konfirmasi Password"}),(0,br.jsxs)("div",{className:"mt-1 flex w-full rounded-md shadow-sm border border-gray-300 focus-within:border-teraplus-brand-blue focus-within:ring-1 focus-within:ring-teraplus-brand-blue",children:[(0,br.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",required:!0,value:n.confirmPassword,onChange:r,placeholder:"Ulangi password Anda",className:"flex-1 block w-full rounded-none rounded-l-md border-0 px-3 py-2 placeholder-gray-400 focus:ring-0 sm:text-sm text-teraplus-text-default"}),(0,br.jsx)("button",{type:"button",onClick:()=>u(!c),className:"inline-flex items-center px-3 rounded-r-md border-l-0 border-gray-300 bg-gray-50 text-gray-500 hover:bg-gray-100","aria-label":c?"Hide password":"Show password",children:(0,br.jsx)(Sr,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),(0,br.jsx)("div",{className:"w-full text-right text-xs md:text-sm mt-1",children:(0,br.jsx)("a",{href:"/reset-password",className:"text-teraplus-text-default hover:underline opacity-80",children:"Lupa Password?"})}),(0,br.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-teraplus-accent rounded-md shadow-sm text-sm font-medium text-teraplus-accent bg-transparent hover:bg-teraplus-accent hover:text-teraplus-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teraplus-accent mt-2 transition-colors duration-150",children:"Daftar"})]}),(0,br.jsx)("div",{className:"flex gap-1 justify-center items-center w-full mt-3",children:(0,br.jsxs)("p",{className:"text-xs md:text-sm leading-7 text-center text-teraplus-text-default opacity-80",children:["Sudah punya akun?"," ",(0,br.jsx)(Oe,{to:"/login",className:"font-semibold text-teraplus-text-default hover:underline",children:"Masuk"})]})})]})},Or=()=>{const[e,t]=(0,i.useState)({namaLengkap:"",email:"",password:"",confirmPassword:"",affiliasi:"",noHp:""}),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),o=ee();return(0,br.jsxs)("div",{className:"min-h-screen flex bg-teraplus-page-bg",children:[(0,br.jsx)("div",{className:"hidden lg:flex lg:w-3/5 xl:w-1/2 bg-teraplus-primary items-center justify-center p-12",children:(0,br.jsx)("img",{src:"/images/bg-login.png",alt:"Sports Massage Therapy Illustration",className:"w-full max-w-2xl mx-auto object-contain"})}),(0,br.jsx)("div",{className:"w-full lg:w-2/5 xl:w-1/2 flex items-center justify-center p-6 sm:p-8 md:p-12",children:(0,br.jsx)(Pr,{onSubmit:async t=>{if(t.preventDefault(),r(""),s(""),e.password===e.confirmPassword)try{const t=await mr.post("/auth/register",{namaLengkap:e.namaLengkap,email:e.email,password:e.password,affiliasi:e.affiliasi,noHp:e.noHp}),n=t.data;if(n.error)throw new Error(n.message||"Registrasi gagal");if(201!==t.status&&200!==t.status)throw new Error(n.message||"Registrasi gagal dengan status: ".concat(t.status));s(n.message||"Registrasi berhasil! Anda akan diarahkan ke halaman login."),setTimeout((()=>{o("/login")}),2e3)}catch(a){var n,i;r((null===(n=a.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||a.message||"Terjadi kesalahan saat registrasi.")}else r("Password dan konfirmasi password tidak cocok")},formData:e,handleChange:n=>{t(qe(qe({},e),{},{[n.target.name]:n.target.value}))},error:n,success:a})})]})};function Mr(e){let{placeholder:t,onSearch:n,variant:r="default"}=e;const i="hero"===r,a=i?"flex items-center bg-white/20 border border-white/30 p-2 rounded-xl":"flex items-center bg-white p-2 rounded-xl shadow",s=i?"flex-grow px-3 py-2 bg-transparent text-white placeholder-gray-300 focus:outline-none rounded-l-xl":"flex-grow px-3 py-2 rounded-l-xl focus:outline-none text-gray-700 placeholder-gray-400",o=i?"p-2 text-gray-200 hover:text-white":"p-2 text-gray-600";return(0,br.jsxs)("div",{className:a,children:[(0,br.jsx)("input",{className:s,placeholder:t,onChange:e=>n(e.target.value)}),(0,br.jsx)("button",{className:o,children:"\ud83d\udd0d"})]})}const Lr=e=>{let{imageSrc:t,title:n="Judul Konten Default",category:r="Kategori",onViewClick:i}=e;const a=t||"https://via.placeholder.com/400x225.png?text=TERAPLUS+Konten";return(0,br.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden flex flex-col h-full border border-gray-200 hover:shadow-xl transition-shadow duration-300",onClick:i,style:{cursor:"pointer"},children:[(0,br.jsx)("img",{src:a,alt:n,className:"w-full h-40 sm:h-44 object-cover bg-gray-300"}),(0,br.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,br.jsx)("h3",{className:"text-base font-semibold text-gray-800 mb-1",children:n}),(0,br.jsxs)("p",{className:"text-xs text-gray-500 mb-3 flex-grow min-h-[2.5em]",children:[r," "]}),(0,br.jsx)("hr",{className:"border-gray-200 my-2"})]})]})},Rr=["Semua Area","Betis (Depan-Belakang)","Paha (Depan-Belakang)","Pinggang Punggung","Pundak Leher Bahu","Lengan","Dada","Perut"];function Ir(){const e=ee(),[t,n]=(0,i.useState)(Rr[0]),{user:r,loading:a}=_r(),[s,o]=(0,i.useState)(""),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!0),[h,f]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{d(!0),f("");const e=await mr.get("/courses");e.data&&"success"===e.data.status?c(e.data.data.courses):f("Gagal mengambil data kursus.")}catch(n){var e,t;console.error("Error fetching courses:",n),f((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Terjadi kesalahan server saat mengambil kursus.")}finally{d(!1)}})()}),[]);const p=r&&(r.namaLengkap||r.email)||"Pengguna",m=l.filter((e=>"Semua Area"===t||e.area===t)).filter((e=>e.judul.toLowerCase().includes(s.toLowerCase())));return a?(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-accent"})}):(0,br.jsxs)("div",{className:"w-full",children:[(0,br.jsx)("section",{className:"w-full py-16 md:py-24 lg:py-32",style:{backgroundImage:"url('/images/mockup.png')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,br.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,br.jsxs)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 text-white",children:["Selamat Datang, ",p]}),(0,br.jsx)("p",{className:"text-base sm:text-lg md:text-xl max-w-2xl mx-auto mb-8 md:mb-10 opacity-90 text-white",children:"Video panduan lengkap & materi terstruktur untuk pemulihan optimal Anda."}),(0,br.jsx)("div",{className:"max-w-xl mx-auto",children:(0,br.jsx)(Mr,{placeholder:"Cari video, teknik, atau area tubuh...",onSearch:e=>{o(e)},variant:"hero"})})]})}),(0,br.jsx)("section",{className:"py-12 md:py-16 lg:py-20",children:(0,br.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,br.jsx)("h2",{className:"text-2xl sm:text-3xl font-semibold text-teraplus-text-default mb-8 md:mb-12 text-center",children:"Jelajahi Course"}),(0,br.jsx)("div",{className:"mb-8 md:mb-10 flex flex-wrap justify-center items-center gap-2 sm:gap-3",children:Rr.map((e=>(0,br.jsx)("button",{onClick:()=>n(e),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-150 ease-in-out\n                  ".concat(t===e?"bg-teraplus-accent text-white shadow-md":"bg-teraplus-primary text-teraplus-text-default hover:bg-teraplus-secondary hover:text-teraplus-text-strong border border-teraplus-accent border-opacity-30"),children:e},e)))}),u?(0,br.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-teraplus-accent"})}):h?(0,br.jsx)("p",{className:"col-span-full text-center text-red-500",children:h}):(0,br.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:m.length>0?m.map((t=>(0,br.jsx)(Lr,{title:t.judul,category:"".concat(t.area||"General"),imageSrc:t.imageSrc||"https://via.placeholder.com/400x225.png?text=".concat(encodeURIComponent(t.judul)),onViewClick:()=>e("/course/".concat(t.slug||t.id))},t.id))):(0,br.jsx)("p",{className:"col-span-full text-center text-teraplus-text-default opacity-70",children:"Tidak ada kursus yang sesuai dengan filter Anda atau belum ada kursus yang tersedia."})})]})})]})}function Dr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Fr=["title","titleId"];function qr(e,t){let{title:n,titleId:r}=e,a=Dr(e,Fr);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Br=i.forwardRef(qr),Ur=["title","titleId"];function Wr(e,t){let{title:n,titleId:r}=e,a=Dr(e,Ur);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const zr=i.forwardRef(Wr),Hr=["title","titleId"];function Vr(e,t){let{title:n,titleId:r}=e,a=Dr(e,Hr);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Gr=i.forwardRef(Vr),Kr=["title","titleId"];function Xr(e,t){let{title:n,titleId:r}=e,a=Dr(e,Kr);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Yr=i.forwardRef(Xr),Qr=["title","titleId"];function Zr(e,t){let{title:n,titleId:r}=e,a=Dr(e,Qr);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const $r=i.forwardRef(Zr),Jr=["title","titleId"];function ei(e,t){let{title:n,titleId:r}=e,a=Dr(e,Jr);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const ti=i.forwardRef(ei),ni=["title","titleId"];function ri(e,t){let{title:n,titleId:r}=e,a=Dr(e,ni);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ii=i.forwardRef(ri),ai=["title","titleId"];function si(e,t){let{title:n,titleId:r}=e,a=Dr(e,ai);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const oi=i.forwardRef(si),li=()=>{const{user:e,setUser:t,loading:n}=_r(),[r,a]=(0,i.useState)(null),[s,o]=(0,i.useState)({namaLengkap:"",affiliasi:"",noHp:""}),[l,c]=(0,i.useState)(!0),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(null),[y,b]=(0,i.useState)(""),x=(0,i.useRef)(null);(0,i.useEffect)((()=>{(async()=>{try{c(!0),f(""),m("");const e=await mr.get("/auth/profile");if(e.data&&"success"===e.data.status){const n=e.data.data.user;a(n),o({namaLengkap:n.namaLengkap,affiliasi:n.affiliasi||"",noHp:n.noHp||""}),t((e=>qe(qe({},e),{},{namaLengkap:n.namaLengkap,profilePicture:n.profilePicture}))),n.profilePicture&&b(n.profilePicture.startsWith("http")?n.profilePicture:"".concat(mr.defaults.baseURL.replace("/api","")).concat(n.profilePicture))}else f("Gagal mengambil data profil pengguna.")}catch(r){var e,n;console.error("Error fetching user profile:",r),f((null===(e=r.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Terjadi kesalahan server. Coba lagi nanti.")}finally{c(!1)}})()}),[]);const w=e=>{const{name:t,value:n}=e.target;o((e=>qe(qe({},e),{},{[t]:n})))};if(l&&!r)return(0,br.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-200px)]",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-primary"})});if(h&&!r&&!u)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,br.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,br.jsx)("strong",{className:"font-bold",children:"Error!"}),(0,br.jsxs)("span",{className:"block sm:inline",children:[" ",h]})]})});if(!r)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center text-gray-500",children:"Tidak dapat memuat profil pengguna."});const _=r.profilePicture?r.profilePicture.startsWith("http")?r.profilePicture:"".concat(mr.defaults.baseURL.replace("/api","")).concat(r.profilePicture):null;return(0,br.jsxs)("div",{className:"min-h-screen bg-gray-100 py-8",children:[" ",(0,br.jsxs)("div",{className:"container mx-auto px-4 max-w-2xl",children:[" ",(0,br.jsxs)(Oe,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-800 mb-6 text-sm font-medium group",children:[(0,br.jsx)(Br,{className:"h-5 w-5 mr-2 transition-transform group-hover:-translate-x-1"}),"Kembali ke Beranda"]}),(0,br.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center md:text-left",children:"Profil Saya"})," ",h&&(0,br.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,br.jsx)("span",{className:"block sm:inline",children:h})}),p&&(0,br.jsx)("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:(0,br.jsx)("span",{className:"block sm:inline",children:p})}),(0,br.jsxs)("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8",children:[(0,br.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,br.jsxs)("div",{className:"relative",children:[y?(0,br.jsx)("img",{src:y,alt:"Pratinjau Profil",className:"h-32 w-32 rounded-full object-cover shadow-md"}):_?(0,br.jsx)("img",{src:_,alt:"Profil",className:"h-32 w-32 rounded-full object-cover shadow-md"}):(0,br.jsx)(zr,{className:"h-32 w-32 text-gray-300"}),(0,br.jsx)("button",{onClick:()=>x.current&&x.current.click(),className:"absolute -bottom-2 -right-2 bg-teraplus-accent hover:bg-teraplus-primary-darker text-white p-2 rounded-full shadow-md transition-colors",title:"Ubah foto profil",children:(0,br.jsx)(Gr,{className:"h-5 w-5"})}),(0,br.jsx)("input",{type:"file",ref:x,onChange:e=>{const t=e.target.files[0];if(t){v(t);const e=new FileReader;e.readAsDataURL(t),e.onloadend=()=>{b(e.result)},f(""),m("")}},accept:"image/jpeg,image/png",className:"hidden"})]}),g&&(0,br.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,br.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["File dipilih: ",g.name]}),(0,br.jsx)("button",{onClick:async()=>{if(!g)return void f("Pilih file gambar terlebih dahulu.");f(""),m(""),d(!0);const e=new FormData;e.append("profilePicture",g);try{const n=await mr.post("/auth/profile/picture",e,{headers:{"Content-Type":"multipart/form-data"}});if(n.data&&"success"===n.data.status){const e=n.data.data.user;a(e),t((t=>qe(qe({},t),{},{profilePicture:e.profilePicture}))),b(e.profilePicture.startsWith("http")?e.profilePicture:"".concat(mr.defaults.baseURL.replace("/api","")).concat(e.profilePicture)),v(null),m("Foto profil berhasil diunggah!")}else f(n.data.message||"Gagal mengunggah foto profil.")}catch(i){var n,r;console.error("Error uploading profile picture:",i),f((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Terjadi kesalahan server saat mengunggah.")}finally{d(!1)}},disabled:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teraplus-accent hover:bg-teraplus-primary-darker focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teraplus-accent disabled:opacity-50 transition-colors",children:u?(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Mengunggah..."]}):(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)(Yr,{className:"h-5 w-5 mr-2"}),"Unggah Foto Profil"]})})]})]}),(0,br.jsxs)("div",{className:"space-y-6",children:[(0,br.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,br.jsx)(zr,{className:"h-8 w-8 text-teraplus-primary"}),(0,br.jsxs)("div",{children:[(0,br.jsx)("p",{className:"text-sm text-gray-500",children:"Nama Lengkap"}),(0,br.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:r.namaLengkap})]})]}),(0,br.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,br.jsx)($r,{className:"h-7 w-7 text-teraplus-primary"}),(0,br.jsxs)("div",{children:[(0,br.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,br.jsx)("p",{className:"text-lg text-gray-700",children:r.email})]})]}),(0,br.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,br.jsx)(ti,{className:"h-7 w-7 text-teraplus-primary"}),(0,br.jsxs)("div",{children:[(0,br.jsx)("p",{className:"text-sm text-gray-500",children:"Tanggal Bergabung"}),(0,br.jsx)("p",{className:"text-lg text-gray-700",children:new Date(r.createdAt).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,br.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,br.jsx)(ii,{className:"h-7 w-7 text-teraplus-primary"}),(0,br.jsxs)("div",{children:[(0,br.jsx)("p",{className:"text-sm text-gray-500",children:"Afiliasi"}),(0,br.jsx)("p",{className:"text-lg text-gray-700",children:r.affiliasi||"-"})]})]}),(0,br.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,br.jsx)(oi,{className:"h-7 w-7 text-teraplus-primary"}),(0,br.jsxs)("div",{children:[(0,br.jsx)("p",{className:"text-sm text-gray-500",children:"No. HP"}),(0,br.jsx)("p",{className:"text-lg text-gray-700",children:r.noHp||"-"})]})]})]}),(0,br.jsx)("hr",{className:"my-8"}),(0,br.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f(""),m(""),s.namaLengkap.trim()&&s.affiliasi.trim()&&s.noHp.trim())try{c(!0);const e=await mr.put("/auth/profile",s);if(e.data&&"success"===e.data.status){const n=e.data.data.user;a(n),o({namaLengkap:n.namaLengkap,affiliasi:n.affiliasi||"",noHp:n.noHp||""}),t((e=>qe(qe({},e),{},{namaLengkap:n.namaLengkap}))),localStorage.setItem("userName",n.namaLengkap),m("Profil berhasil diperbarui!")}else f(e.data.message||"Gagal memperbarui profil.")}catch(i){var n,r;console.error("Error updating user profile:",i),f((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Terjadi kesalahan server saat memperbarui.")}finally{c(!1)}else f("Nama lengkap, Afiliasi, dan No. HP tidak boleh kosong.")},className:"space-y-6",children:[(0,br.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Ubah Data Profil"}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"namaLengkap",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),(0,br.jsx)("input",{type:"text",id:"namaLengkap",name:"namaLengkap",value:s.namaLengkap,onChange:w,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"affiliasi",className:"block text-sm font-medium text-gray-700 mb-1",children:"Afiliasi"}),(0,br.jsx)("input",{type:"text",id:"affiliasi",name:"affiliasi",value:s.affiliasi,onChange:w,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"noHp",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. HP"}),(0,br.jsx)("input",{type:"text",id:"noHp",name:"noHp",value:s.noHp,onChange:w,className:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsx)("div",{children:(0,br.jsx)("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-teraplus-accent hover:bg-teraplus-primary-darker focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teraplus-accent disabled:opacity-50 transition-colors",children:l?(0,br.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}):"Simpan Perubahan"})})]})]})]})]})},ci=()=>{const{setUser:e}=_r(),[t,n]=(0,i.useState)({namaLengkap:"",affiliasi:"",noHp:""}),[r,a]=(0,i.useState)(""),[s,o]=(0,i.useState)(!0),l=ee();(0,i.useEffect)((()=>{(async()=>{try{const e=(await mr.get("/auth/profile")).data.data.user;e.namaLengkap&&n((t=>qe(qe({},t),{},{namaLengkap:e.namaLengkap}))),e.affiliasi&&n((t=>qe(qe({},t),{},{affiliasi:e.affiliasi}))),e.noHp&&n((t=>qe(qe({},t),{},{noHp:e.noHp}))),o(!1)}catch(e){a("Gagal mengambil data profil."),o(!1)}})()}),[]);const c=e=>{n((t=>qe(qe({},t),{},{[e.target.name]:e.target.value})))};return s?(0,br.jsx)("div",{children:"Loading..."}):(0,br.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-teraplus-page-bg p-6",children:(0,br.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),a(""),t.namaLengkap.trim()&&t.affiliasi.trim()&&t.noHp.trim())try{const n=await mr.put("/auth/profile",{namaLengkap:t.namaLengkap.trim(),affiliasi:t.affiliasi.trim(),noHp:t.noHp.trim()});var r;if(n.data&&"success"===n.data.status&&n.data.data.user)e(n.data.data.user),n.data.data.user.namaLengkap&&localStorage.setItem("userName",n.data.data.user.namaLengkap),window.dispatchEvent(new CustomEvent("auth-profile-updated")),l("/");else a((null===(r=n.data)||void 0===r?void 0:r.message)||"Gagal memperbarui profil: Respon tidak sesuai.")}catch(o){var i,s;a((null===(i=o.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Gagal memperbarui profil.")}else a("Nama Lengkap, Affiliasi, dan No HP harus diisi.")},className:"bg-teraplus-card-bg p-8 rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 max-w-md w-full",children:[(0,br.jsx)("h2",{className:"text-2xl font-bold mb-6 text-teraplus-text-default",children:"Lengkapi Profil Anda"}),r&&(0,br.jsx)("p",{className:"text-red-500 mb-4",children:r}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"namaLengkap",className:"block mb-1 text-teraplus-text-default font-medium",children:"Nama Lengkap"}),(0,br.jsx)("input",{id:"namaLengkap",name:"namaLengkap",type:"text",value:t.namaLengkap,onChange:c,required:!0,className:"w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue",placeholder:"Masukkan nama lengkap Anda"})]}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"affiliasi",className:"block mb-1 text-teraplus-text-default font-medium",children:"Affiliasi (Nama Instansi/Perusahaan/Pribadi)"}),(0,br.jsx)("input",{id:"affiliasi",name:"affiliasi",type:"text",value:t.affiliasi,onChange:c,required:!0,className:"w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue",placeholder:"Masukkan affiliasi Anda"})]}),(0,br.jsxs)("div",{className:"mb-6",children:[(0,br.jsx)("label",{htmlFor:"noHp",className:"block mb-1 text-teraplus-text-default font-medium",children:"No. HP (WhatsApp Aktif)"}),(0,br.jsx)("input",{id:"noHp",name:"noHp",type:"tel",value:t.noHp,onChange:c,required:!0,className:"w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-teraplus-brand-blue focus:border-teraplus-brand-blue",placeholder:"Contoh: 081234567890"})]}),(0,br.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-teraplus-accent text-teraplus-primary font-semibold rounded hover:bg-teraplus-accent-dark transition",children:"Simpan"})]})})},ui=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1);return(0,br.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-teraplus-page-bg px-4 py-12",children:(0,br.jsxs)("div",{className:"w-full max-w-md bg-teraplus-card-bg p-8 rounded-xl shadow-2xl",children:[(0,br.jsxs)("div",{className:"text-center mb-8",children:[(0,br.jsx)("img",{src:"/logo.jpg",alt:"TERAPLUS Logo",className:"w-24 h-24 mx-auto mb-4 rounded-full"}),(0,br.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-teraplus-text-default",children:"Lupa Password?"}),(0,br.jsx)("p",{className:"text-teraplus-text-default opacity-70 mt-2",children:"Masukkan alamat email Anda di bawah ini. Jika terdaftar, kami akan mengirimkan instruksi untuk mereset password Anda."})]}),(0,br.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),r(""),s("");try{const t=await mr.post("/auth/request-password-reset",{email:e});t.data&&"success"===t.data.status?r(t.data.message):s(t.data.message||"Gagal mengirim permintaan reset password.")}catch(a){var n,i;console.error("Request password reset error:",a),s((null===(n=a.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}},className:"space-y-6",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-teraplus-text-default mb-1",children:"Alamat Email"}),(0,br.jsxs)("div",{className:"relative",children:[(0,br.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,br.jsx)($r,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,br.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm text-teraplus-text-default",placeholder:"you@example.com"})]})]}),n&&(0,br.jsx)("div",{className:"bg-green-50 border border-green-300 text-green-700 px-4 py-3 rounded-md text-sm",children:n}),a&&(0,br.jsx)("div",{className:"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-md text-sm",children:a}),(0,br.jsx)("div",{children:(0,br.jsx)("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-teraplus-brand-blue hover:bg-teraplus-brand-blue-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teraplus-brand-blue disabled:opacity-60 transition-colors",children:o?(0,br.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}):"Kirim Instruksi Reset"})})]}),(0,br.jsx)("div",{className:"mt-6 text-center",children:(0,br.jsxs)("p",{className:"text-sm text-teraplus-text-default opacity-80",children:["Ingat password Anda?"," ",(0,br.jsx)(Oe,{to:"/login",className:"font-medium text-teraplus-brand-blue hover:text-teraplus-brand-blue-dark hover:underline",children:"Masuk di sini"})]})})]})})},di=["title","titleId"];function hi(e,t){let{title:n,titleId:r}=e,a=Dr(e,di);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const fi=i.forwardRef(hi),pi=["title","titleId"];function mi(e,t){let{title:n,titleId:r}=e,a=Dr(e,pi);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const gi=i.forwardRef(mi),vi=["title","titleId"];function yi(e,t){let{title:n,titleId:r}=e,a=Dr(e,vi);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const bi=i.forwardRef(yi),xi=()=>{const{token:e}=ne(),t=ee(),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1);return(0,br.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-teraplus-page-bg px-4 py-12",children:(0,br.jsxs)("div",{className:"w-full max-w-md bg-teraplus-card-bg p-8 rounded-xl shadow-2xl",children:[(0,br.jsxs)("div",{className:"text-center mb-8",children:[(0,br.jsx)("img",{src:"/logo.jpg",alt:"TERAPLUS Logo",className:"w-24 h-24 mx-auto mb-4 rounded-full"}),(0,br.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-teraplus-text-default",children:"Reset Password Anda"}),(0,br.jsx)("p",{className:"text-teraplus-text-default opacity-70 mt-2",children:"Masukkan password baru Anda di bawah ini."})]}),(0,br.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),n===a)if(n.length<6)p("Password minimal harus 6 karakter.");else{g(!0),h(""),p("");try{const r=await mr.post("/auth/reset-password/".concat(e),{password:n,passwordConfirm:a});r.data&&"success"===r.data.status?(h(r.data.message+" Anda akan diarahkan ke halaman login."),setTimeout((()=>{t("/login")}),3e3)):p(r.data.message||"Gagal mereset password.")}catch(o){var i,s;console.error("Reset password error:",o),p((null===(i=o.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Token tidak valid, sudah kedaluwarsa, atau terjadi kesalahan.")}finally{g(!1)}}else p("Password dan konfirmasi password tidak cocok.")},className:"space-y-6",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-teraplus-text-default mb-1",children:"Password Baru"}),(0,br.jsxs)("div",{className:"relative",children:[(0,br.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,br.jsx)(fi,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,br.jsx)("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:n,onChange:e=>r(e.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm text-teraplus-text-default",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,br.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5 text-gray-500 hover:text-teraplus-primary","aria-label":o?"Sembunyikan password":"Tampilkan password",children:o?(0,br.jsx)(gi,{className:"h-5 w-5"}):(0,br.jsx)(bi,{className:"h-5 w-5"})})]})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"passwordConfirm",className:"block text-sm font-medium text-teraplus-text-default mb-1",children:"Konfirmasi Password Baru"}),(0,br.jsxs)("div",{className:"relative",children:[(0,br.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,br.jsx)(fi,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,br.jsx)("input",{id:"passwordConfirm",name:"passwordConfirm",type:c?"text":"password",required:!0,value:a,onChange:e=>s(e.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm text-teraplus-text-default",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,br.jsx)("button",{type:"button",onClick:()=>u(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5 text-gray-500 hover:text-teraplus-primary","aria-label":c?"Sembunyikan konfirmasi password":"Tampilkan konfirmasi password",children:c?(0,br.jsx)(gi,{className:"h-5 w-5"}):(0,br.jsx)(bi,{className:"h-5 w-5"})})]})]}),d&&(0,br.jsx)("div",{className:"bg-green-50 border border-green-300 text-green-700 px-4 py-3 rounded-md text-sm",children:d}),f&&(0,br.jsx)("div",{className:"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-md text-sm",children:f}),(0,br.jsx)("div",{children:(0,br.jsx)("button",{type:"submit",disabled:m||!!d,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-teraplus-brand-blue hover:bg-teraplus-brand-blue-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teraplus-brand-blue disabled:opacity-60 transition-colors",children:m?(0,br.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}):"Reset Password"})})]}),d&&(0,br.jsx)("div",{className:"mt-6 text-center",children:(0,br.jsx)(Oe,{to:"/login",className:"font-medium text-teraplus-primary hover:text-teraplus-accent hover:underline",children:"Kembali ke Login"})})]})})},wi=["title","titleId"];function _i(e,t){let{title:n,titleId:r}=e,a=Dr(e,wi);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ki=i.forwardRef(_i),Ei=["title","titleId"];function Ai(e,t){let{title:n,titleId:r}=e,a=Dr(e,Ei);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Si=i.forwardRef(Ai),ji=["title","titleId"];function Ci(e,t){let{title:n,titleId:r}=e,a=Dr(e,ji);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const Ni=i.forwardRef(Ci),Ti=e=>{let{title:t,value:n,icon:r,bgColor:a="bg-blue-500"}=e;return(0,br.jsx)("div",{className:"p-6 rounded-lg shadow-lg text-white ".concat(a),children:(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsx)("div",{className:"p-3 rounded-full bg-black bg-opacity-20 mr-4",children:i.createElement(r,{className:"h-8 w-8"})}),(0,br.jsxs)("div",{children:[(0,br.jsx)("p",{className:"text-sm font-medium uppercase tracking-wider",children:t}),(0,br.jsx)("p",{className:"text-3xl font-semibold",children:n})]})]})})},Pi=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async()=>{try{r(!0),s("");const e=await mr.get("/admin/dashboard-summary");e.data&&"success"===e.data.status?t(e.data.data.summary):s("Gagal mengambil data ringkasan.")}catch(i){var e,n;console.error("Error fetching dashboard summary:",i),s((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Terjadi kesalahan server. Coba lagi nanti.")}finally{r(!1)}})();(async()=>{try{u(!0),h("");const e=await mr.get("/admin/activities");e.data&&"success"===e.data.status?l(e.data.data.activities):h("Failed to load recent activities.")}catch(n){var e,t;console.error("Error fetching recent activities:",n),h((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Server error fetching activities.")}finally{u(!1)}})()}),[]),n||!e&&c?(0,br.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"})}):a&&!e?(0,br.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[(0,br.jsx)("strong",{className:"font-bold",children:"Error loading summary!"}),(0,br.jsxs)("span",{className:"block sm:inline",children:[" ",a]})]}):e||n||a?(0,br.jsxs)("div",{children:[(0,br.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mb-8",children:"Admin Dashboard"}),e&&(0,br.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,br.jsx)(Ti,{title:"Total Users",value:void 0!==e.totalUsers?e.totalUsers:"N/A",icon:ki,bgColor:"bg-sky-500"}),(0,br.jsx)(Ti,{title:"Total Courses",value:void 0!==e.totalCourses?e.totalCourses:"N/A",icon:Si,bgColor:"bg-emerald-500"}),(0,br.jsx)(Ti,{title:"Active Enrollments",value:void 0!==e.activeEnrollments?e.activeEnrollments:"N/A",icon:Ni,bgColor:"bg-amber-500"})]}),a&&e&&(0,br.jsxs)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,br.jsx)("strong",{className:"font-bold",children:"Summary Error!"}),(0,br.jsxs)("span",{className:"block sm:inline",children:[" ",a]})]}),(0,br.jsxs)("div",{className:"mt-12 bg-white p-6 rounded-lg shadow-lg",children:[(0,br.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Recent Activity"}),c&&(0,br.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-blue-500"})}),d&&(0,br.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,br.jsx)("strong",{className:"font-bold",children:"Error!"}),(0,br.jsxs)("span",{className:"block sm:inline",children:[" ",d]})]}),!c&&!d&&0===o.length&&(0,br.jsx)("p",{className:"text-gray-600",children:"No recent activity to display."}),!c&&!d&&o.length>0&&(0,br.jsxs)("ul",{className:"space-y-3 max-h-96 overflow-y-auto",children:[" ",o.map((e=>(0,br.jsxs)("li",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-md shadow-sm border border-gray-200",children:[(0,br.jsx)("p",{className:"text-sm text-gray-800",children:e.message}),(0,br.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]},e.id)))]})]})]}):(0,br.jsx)("p",{className:"text-center text-gray-500",children:"Tidak ada data ringkasan untuk ditampilkan."})};function Oi(e){let{children:t}=e;return!!localStorage.getItem("token")?t:(0,br.jsx)(ve,{to:"/login",replace:!0})}function Mi(){const e=ee();return(0,i.useEffect)((()=>{const t=new URLSearchParams(window.location.search).get("token");if(t){localStorage.setItem("token",t);const n=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(ik){return null}}(t);n&&n.email?localStorage.setItem("userEmail",n.email):n&&n.sub&&localStorage.setItem("userEmail",n.sub),n&&n.role&&localStorage.setItem("userRole",n.role),n&&"admin"===n.role?e("/admin",{replace:!0}):e("/",{replace:!0})}else e("/login",{replace:!0})}),[e]),null}const Li=["title","titleId"];function Ri(e,t){let{title:n,titleId:r}=e,a=Dr(e,Li);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ii=i.forwardRef(Ri),Di=["title","titleId"];function Fi(e,t){let{title:n,titleId:r}=e,a=Dr(e,Di);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const qi=i.forwardRef(Fi),Bi=["title","titleId"];function Ui(e,t){let{title:n,titleId:r}=e,a=Dr(e,Bi);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Wi=i.forwardRef(Ui),zi=["title","titleId"];function Hi(e,t){let{title:n,titleId:r}=e,a=Dr(e,zi);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const Vi=i.forwardRef(Hi),Gi=e=>{if(!e)return"";const t=e.split(" ");return t.length>1&&t[0]&&t[t.length-1]?"".concat(t[0][0]).concat(t[t.length-1][0]).toUpperCase():t[0]&&t[0][0]?t[0][0].toUpperCase():""},Ki=()=>{const e=ee(),[t,n]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),[s,o]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),{user:u,loading:d}=_r();(0,i.useEffect)((()=>{u?c(u.namaLengkap||u.email||"User"):d||c("")}),[u,d]);const h=()=>{localStorage.removeItem("token"),e("/login")};return(0,i.useEffect)((()=>{const e=e=>{const r=document.getElementById("profile-dropdown-button"),i=document.getElementById("profile-dropdown-menu");t&&r&&!r.contains(e.target)&&i&&!i.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[t]),d?(0,br.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-40",children:(0,br.jsx)("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,br.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,br.jsx)("div",{children:"Loading..."})})})}):(0,br.jsx)("header",{className:"bg-white shadow-md sticky top-0 z-40",children:(0,br.jsxs)("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,br.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,br.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,br.jsxs)(Oe,{to:"/",className:"flex items-center",children:[(0,br.jsx)("img",{className:"h-10 w-auto",src:"/logo-vert.png",alt:"Logo Teraplus"}),(0,br.jsx)("span",{className:"ml-3 text-xl font-semibold text-teraplus-primary",children:"TERAPLUS"})]})}),(0,br.jsxs)("div",{className:"flex items-center ml-auto",children:[" ",(0,br.jsx)("div",{className:"md:hidden mr-2",children:(0,br.jsx)("button",{onClick:()=>{a(!r)},className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-teraplus-primary p-2 rounded-md","aria-label":"Open main menu",children:r?(0,br.jsx)(Ii,{className:"block h-6 w-6","aria-hidden":"true"}):(0,br.jsx)(qi,{className:"block h-6 w-6","aria-hidden":"true"})})}),u?(0,br.jsxs)("div",{className:"relative ml-3",children:[(0,br.jsx)("div",{children:(0,br.jsxs)("button",{id:"profile-dropdown-button",onClick:()=>{n(!t)},className:"max-w-xs bg-gray-200 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teraplus-primary p-1 hover:bg-gray-300 transition-colors","aria-expanded":t,"aria-haspopup":"true","aria-label":"User menu",children:[u.profilePicture?(0,br.jsx)("img",{className:"h-8 w-8 rounded-full object-cover",src:u.profilePicture.startsWith("http")?u.profilePicture:"".concat(mr.defaults.baseURL.replace("/api","")).concat(u.profilePicture),alt:"Profile"}):(0,br.jsx)("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-teraplus-secondary",children:(0,br.jsx)("span",{className:"text-sm font-medium leading-none text-white",children:Gi(u.namaLengkap||u.email)})}),(0,br.jsx)("span",{className:"hidden md:block ml-2 text-sm font-medium text-gray-700",children:u.namaLengkap||u.email||""})]})}),t&&(0,br.jsxs)("div",{id:"profile-dropdown-menu",className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg py-1 bg-slate-50 ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"profile-dropdown-button",children:[(0,br.jsxs)("div",{className:"px-4 py-3 text-sm text-gray-700 border-b border-gray-200",children:[" ",(0,br.jsx)("p",{className:"font-medium",children:"Signed in as"}),(0,br.jsx)("p",{className:"truncate font-semibold",children:l}),u.role&&(0,br.jsxs)("p",{className:"text-xs text-gray-500 capitalize",children:["(",u.role,")"]})]}),(0,br.jsxs)(Oe,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-200 w-full text-left",role:"menuitem",children:[" ",(0,br.jsx)(zr,{className:"h-5 w-5 mr-3 text-gray-500"}),"Profile"]}),"admin"===u.role&&(0,br.jsxs)(Oe,{to:"/admin",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-200 w-full text-left",role:"menuitem",children:[" ",(0,br.jsx)(Wi,{className:"h-5 w-5 mr-3 text-gray-500"}),"Admin Panel"]}),(0,br.jsxs)("button",{onClick:h,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-200 w-full text-left",role:"menuitem",children:[(0,br.jsx)(Vi,{className:"h-5 w-5 mr-3 text-gray-500"}),"Logout"]})]})]}):(0,br.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,br.jsx)(Oe,{to:"/login",className:"text-gray-700 hover:text-teraplus-primary px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),(0,br.jsx)(Oe,{to:"/register",className:"bg-teraplus-primary text-white hover:bg-teraplus-accent px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Register"})]})]})]}),(0,br.jsx)("div",{className:"md:hidden ".concat(r?"block":"hidden"," absolute top-16 inset-x-0 bg-white shadow-lg z-30 rounded-b-md"),children:(0,br.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,br.jsx)(Mr,{onSearch:e=>{o(e),console.log("Search initiated for:",e)},placeholder:"Cari kursus..."}),(0,br.jsx)(Oe,{to:"/",onClick:()=>a(!1),className:"text-gray-700 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium",children:"Home"}),u&&"admin"===u.role&&(0,br.jsx)(Oe,{to:"/admin",onClick:()=>a(!1),className:"text-gray-700 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium",children:"Admin Panel"}),u?(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)(Oe,{to:"/profile",onClick:()=>a(!1),className:"text-gray-700 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium",children:"Profile"}),(0,br.jsx)("button",{onClick:()=>{h(),a(!1)},className:"text-gray-700 hover:bg-gray-100 block w-full text-left px-3 py-2 rounded-md text-base font-medium",children:"Logout"})]}):(0,br.jsxs)(br.Fragment,{children:[(0,br.jsx)(Oe,{to:"/login",onClick:()=>a(!1),className:"text-gray-700 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium",children:"Login"}),(0,br.jsx)(Oe,{to:"/register",onClick:()=>a(!1),className:"text-gray-700 hover:bg-gray-100 block px-3 py-2 rounded-md text-base font-medium",children:"Register"})]})]})})]})})},Xi=e=>{let{children:t}=e;const n=ee(),r=localStorage.getItem("userEmail")||"Pengguna";return(0,br.jsxs)("div",{className:"min-h-screen flex flex-col bg-teraplus-page-bg",children:[" ",(0,br.jsx)(Ki,{email:r,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("userEmail"),n("/login")}}),(0,br.jsxs)("main",{className:"flex-grow pb-8",children:[" ",t]})]})},Yi=["title","titleId"];function Qi(e,t){let{title:n,titleId:r}=e,a=Dr(e,Yi);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Zi=i.forwardRef(Qi),$i=["title","titleId"];function Ji(e,t){let{title:n,titleId:r}=e,a=Dr(e,$i);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ea=i.forwardRef(Ji),ta=["title","titleId"];function na(e,t){let{title:n,titleId:r}=e,a=Dr(e,ta);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const ra=i.forwardRef(na),ia=["title","titleId"];function aa(e,t){let{title:n,titleId:r}=e,a=Dr(e,ia);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const sa=i.forwardRef(aa),oa=()=>{const e=$(),[t,n]=(0,i.useState)(window.innerWidth>=768),r=[{name:"Dashboard",href:"/admin",icon:Zi},{name:"Users",href:"/admin/users",icon:ki},{name:"Courses",href:"/admin/courses",icon:Si},{name:"Content",href:"/admin/content",icon:ea},{name:"Settings",href:"/admin/settings",icon:ra}];return(0,i.useEffect)((()=>{const e=()=>{window.innerWidth<768?n(!1):n(!0)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),(0,i.useEffect)((()=>{window.innerWidth<768&&t&&n(!1)}),[e.pathname,t]),(0,br.jsxs)("div",{className:"min-h-screen flex bg-gray-100",children:[t&&window.innerWidth<768&&(0,br.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-30 md:hidden",onClick:()=>n(!1)}),(0,br.jsxs)("aside",{className:"fixed inset-y-0 left-0 bg-gray-800 text-white flex flex-col w-64 transform transition-transform duration-300 ease-in-out z-40\n          ".concat(t?"translate-x-0":"-translate-x-full","\n          md:relative md:translate-x-0 md:flex-shrink-0"),children:[(0,br.jsxs)("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[(0,br.jsx)(Oe,{to:"/admin",className:"text-2xl font-semibold hover:text-gray-300",children:"TeraPlus Admin"}),(0,br.jsx)("button",{onClick:()=>n(!1),className:"text-gray-300 hover:text-white focus:outline-none md:hidden","aria-label":"Close sidebar",children:(0,br.jsx)(Ii,{className:"h-6 w-6"})})]}),(0,br.jsx)("nav",{className:"flex-grow p-4 space-y-2 overflow-y-auto",children:r.map((t=>(0,br.jsxs)(Oe,{to:t.href,onClick:()=>{window.innerWidth<768&&n(!1)},className:"flex items-center px-3 py-2 rounded-md text-sm font-medium hover:bg-gray-700 hover:text-white\n                ".concat(e.pathname===t.href||"/admin"!==t.href&&e.pathname.startsWith(t.href)?"bg-gray-900 text-white":"text-gray-300"),children:[(0,br.jsx)(t.icon,{className:"h-5 w-5 mr-3","aria-hidden":"true"}),t.name]},t.name)))}),(0,br.jsxs)("div",{className:"mt-auto p-4 space-y-2 border-t border-gray-700",children:[(0,br.jsxs)(Oe,{to:"/",className:"flex items-center w-full px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:[(0,br.jsx)(sa,{className:"h-5 w-5 mr-3","aria-hidden":"true"}),"Go to Homepage"]}),(0,br.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),window.location.href="/login"},className:"flex items-center w-full px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:[(0,br.jsx)(Vi,{className:"h-5 w-5 mr-3","aria-hidden":"true"}),"Logout"]})]})]}),(0,br.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,br.jsxs)("header",{className:"bg-white shadow-sm p-3 sticky top-0 z-50",children:[" ",(0,br.jsxs)("button",{onClick:()=>n(!t),className:"text-gray-600 hover:text-gray-800 focus:outline-none","aria-label":t?"Collapse sidebar":"Expand sidebar",children:[t?(0,br.jsx)(Ii,{className:"h-6 w-6"}):(0,br.jsx)(qi,{className:"h-6 w-6"})," "]})]}),(0,br.jsxs)("main",{className:"flex-grow p-6 md:p-8 overflow-auto",children:[(0,br.jsx)(ye,{})," "]})]})]})},la=()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("userRole");return e?"admin"!==t?(alert("Anda tidak memiliki izin untuk mengakses halaman ini."),(0,br.jsx)(ve,{to:"/",replace:!0})):(0,br.jsx)(ye,{}):(0,br.jsx)(ve,{to:"/login",replace:!0})},ca=["title","titleId"];function ua(e,t){let{title:n,titleId:r}=e,a=Dr(e,ca);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const da=i.forwardRef(ua);var ha=n(8233);!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var fa=e=>"number"==typeof e&&!isNaN(e),pa=e=>"string"==typeof e,ma=e=>"function"==typeof e,ga=e=>(0,ha.isValidElement)(e)||pa(e)||ma(e)||fa(e);function va(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(e){let{children:s,position:o,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:h}=e,f=r?"".concat(t,"--").concat(o):t,p=r?"".concat(n,"--").concat(o):n,m=(0,ha.useRef)(0);return(0,ha.useLayoutEffect)((()=>{let e=u.current,t=f.split(" "),n=r=>{r.target===u.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,ha.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,a):c()};d||(l?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[d]),ha.createElement(ha.Fragment,null,s)}}var ya=1,ba=()=>"".concat(ya++);var xa=new Map,wa=[],_a=new Set,ka=()=>xa.size>0;function Ea(e,t){var n;if(t)return!(null==(n=xa.get(t))||!n.isToastActive(e));let r=!1;return xa.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function Aa(e){if(ka()){if(null==e||(e=>pa(e)||fa(e))(e))xa.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=xa.get(e.containerId);t?t.removeToast(e.id):xa.forEach((t=>{t.removeToast(e.id)}))}}else wa=wa.filter((t=>null!=e&&t.options.toastId!==e))}function Sa(e,t){ga(e)&&(ka()||wa.push({content:e,options:t}),xa.forEach((n=>{n.buildToast(e,t)})))}function ja(e,t){xa.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function Ca(e){return e&&(pa(e.toastId)||fa(e.toastId))?e.toastId:ba()}function Na(e,t){return Sa(e,t),t.toastId}function Ta(e,t){return qe(qe({},t),{},{type:t&&t.type||e,toastId:Ca(t)})}function Pa(e){return(t,n)=>Na(t,Ta(e,n))}function Oa(e,t){return Na(e,Ta("default",t))}Oa.loading=(e,t)=>Na(e,Ta("default",qe({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Oa.promise=function(e,t,n){let r,{pending:i,error:a,success:s}=t;i&&(r=pa(i)?Oa.loading(i,n):Oa.loading(i.render,qe(qe({},n),i)));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void Oa.dismiss(r);let a=qe(qe(qe({type:e},o),n),{},{data:i}),s=pa(t)?{render:t}:t;return r?Oa.update(r,qe(qe({},a),s)):Oa(s.render,qe(qe({},a),s)),i},c=ma(e)?e():e;return c.then((e=>l("success",s,e))).catch((e=>l("error",a,e))),c},Oa.success=Pa("success"),Oa.info=Pa("info"),Oa.error=Pa("error"),Oa.warning=Pa("warning"),Oa.warn=Oa.warning,Oa.dark=(e,t)=>Na(e,Ta("default",qe({theme:"dark"},t))),Oa.dismiss=function(e){Aa(e)},Oa.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xa.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},Oa.isActive=Ea,Oa.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=xa.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,a=qe(qe(qe({delay:100},r),t),{},{toastId:t.toastId||e,updateId:ba()});a.toastId!==e&&(a.staleId=e);let s=a.render||i;delete a.render,Na(s,a)}},Oa.done=e=>{Oa.update(e,{progress:1})},Oa.onChange=function(e){return _a.add(e),()=>{_a.delete(e)}},Oa.play=e=>ja(!0,e),Oa.pause=e=>ja(!1,e);"undefined"!=typeof window?ha.useLayoutEffect:ha.useEffect;var Ma=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}};va(Ma("bounce",!0)),va(Ma("slide",!0)),va(Ma("zoom")),va(Ma("flip"));const La=e=>{let{isOpen:t,onClose:n,title:r,children:i}=e;return t?(0,br.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex justify-center items-center",children:(0,br.jsxs)("div",{className:"relative mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,br.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,br.jsx)("h3",{className:"text-xl font-semibold text-gray-700",children:r}),(0,br.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,br.jsx)(Ii,{className:"h-6 w-6"})})]}),(0,br.jsx)("div",{children:i})]})}):null},Ra=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)({namaLengkap:"",email:"",password:"",role:"admin"}),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),[v,y]=(0,i.useState)(""),[b,x]=(0,i.useState)(!1),[w,_]=(0,i.useState)(null),[k,E]=(0,i.useState)(!1),[A,S]=(0,i.useState)(null),j=async()=>{try{r(!0),s("");const e=await mr.get("/admin/users");e.data&&"success"===e.data.status?t(e.data.data.users):s("Gagal mengambil data pengguna.")}catch(i){var e,n;console.error("Error fetching users:",i),s((null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Terjadi kesalahan server. Coba lagi nanti.")}finally{r(!1)}};(0,i.useEffect)((()=>{j()}),[]);const C=e=>{const{name:t,value:n}=e.target;u((e=>qe(qe({},e),{},{[t]:n})))},N=e=>{const{name:t,value:n}=e.target;g((e=>qe(qe({},e),{},{[t]:n})))};return n&&0===e.length?(0,br.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-primary"})}):a&&0===e.length?(0,br.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,br.jsx)("strong",{className:"font-bold",children:"Error! "}),(0,br.jsx)("span",{className:"block sm:inline",children:a})]}):(0,br.jsxs)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-md",children:[(0,br.jsxs)("div",{className:"flex flex-col items-start gap-4 sm:flex-row sm:justify-between sm:items-center mb-6",children:[(0,br.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold text-gray-800",children:"Manage Users"}),(0,br.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,br.jsxs)("button",{onClick:()=>{l(!0),h("")},className:"text-teraplus-brand-blue-dark bg-white border border-teraplus-brand-blue-dark hover:bg-teraplus-primary-hover font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 ease-in-out flex items-center",children:[(0,br.jsx)(da,{className:"h-5 w-5 mr-2 text-teraplus-brand-blue-dark"}),"Add User"]}),(0,br.jsxs)("button",{onClick:()=>{x(!0),S(null),_(null)},className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 ease-in-out flex items-center",children:[(0,br.jsx)(Yr,{className:"h-5 w-5 mr-2"}),"Multi Create User"]})]})]}),a&&e.length>0&&(0,br.jsxs)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,br.jsx)("strong",{className:"font-bold",children:"Error fetching users! "}),(0,br.jsxs)("span",{className:"block sm:inline",children:[a,". Displaying cached or partial data."]})]}),0!==e.length||n||a?e.length>0?(0,br.jsx)("div",{className:"overflow-x-auto",children:(0,br.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,br.jsx)("thead",{className:"bg-gray-50",children:(0,br.jsxs)("tr",{children:[(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Lengkap"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Affiliasi"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No. HP"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated At"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,br.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>(0,br.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.namaLengkap}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.email}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.affiliasi||"-"}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.noHp||"-"}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,br.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("admin"===e.role?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.role})}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(e.createdAt).toLocaleString()}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(e.updatedAt).toLocaleString()}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:e.lastLoginAt?new Date(e.lastLoginAt).toLocaleString():"Never"}),(0,br.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,br.jsx)("button",{onClick:()=>(e=>{g(qe(qe({},e),{},{password:""})),p(!0),y("")})(e),className:"text-teraplus-brand-blue hover:text-teraplus-brand-blue-dark mr-3 transition-colors duration-150",children:"Edit"}),(0,br.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete user "'.concat(t,'" (ID: ').concat(e,")? This action cannot be undone.")))try{await mr.delete("/admin/users/".concat(e)),j(),alert("User ".concat(t," (ID: ").concat(e,") deleted successfully."))}catch(i){var n,r;console.error("Error deleting user:",i),alert((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Server error while deleting user.")}})(e.id,e.namaLengkap),className:"text-red-600 hover:text-red-800 transition-colors duration-150",children:"Delete"})]})]},e.id)))})]})}):null:(0,br.jsx)("p",{className:"text-gray-500 text-center",children:"Tidak ada pengguna untuk ditampilkan."}),(0,br.jsx)(La,{isOpen:o,onClose:()=>l(!1),title:"Add New Admin User",children:(0,br.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),c.namaLengkap&&c.email&&c.password)try{const e=await mr.post("/admin/users",c);var t;if(e.data&&"success"===e.data.status)j(),l(!1),u({namaLengkap:"",email:"",password:"",role:"admin"}),alert("Pengguna baru berhasil ditambahkan!");else h((null===(t=e.data)||void 0===t?void 0:t.message)||"Gagal menambahkan pengguna.")}catch(i){var n,r;console.error("Error adding user:",i),h((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Terjadi kesalahan server saat menambahkan pengguna.")}else h("Semua field (Nama Lengkap, Email, Password) harus diisi.")},children:[d&&(0,br.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 border border-red-300 rounded-md",children:d}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"namaLengkap",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),(0,br.jsx)("input",{type:"text",name:"namaLengkap",id:"namaLengkap",value:c.namaLengkap,onChange:C,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,br.jsx)("input",{type:"email",name:"email",id:"email",value:c.email,onChange:C,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,br.jsx)("input",{type:"password",name:"password",id:"password",value:c.password,onChange:C,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsxs)("div",{className:"mb-6",children:[(0,br.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,br.jsxs)("select",{name:"role",id:"role",value:c.role,onChange:C,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",children:[(0,br.jsx)("option",{value:"admin",children:"Admin"}),(0,br.jsx)("option",{value:"user",children:"User"})]})]}),(0,br.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,br.jsx)("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md border border-gray-300",children:"Cancel"}),(0,br.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-teraplus-brand-blue-dark bg-white border border-teraplus-brand-blue-dark hover:bg-teraplus-primary-hover rounded-md shadow-sm",children:"Add User"})]})]})}),m&&(0,br.jsx)(La,{isOpen:f,onClose:()=>p(!1),title:"Edit User: ".concat(m.namaLengkap),children:(0,br.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y(""),!m||!m.namaLengkap||!m.email)return void y("Nama Lengkap and Email are required.");const t={namaLengkap:m.namaLengkap,email:m.email,role:m.role};m.password&&""!==m.password.trim()&&(t.password=m.password);try{const e=await mr.put("/admin/users/".concat(m.id),t);var n;if(e.data&&"success"===e.data.status)j(),p(!1),g(null),alert("User updated successfully!");else y((null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to update user.")}catch(a){var r,i;console.error("Error updating user:",a),y((null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Server error while updating user.")}},children:[v&&(0,br.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 border border-red-300 rounded-md",children:v}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"editNamaLengkap",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),(0,br.jsx)("input",{type:"text",name:"namaLengkap",id:"editNamaLengkap",value:m.namaLengkap,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"editEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,br.jsx)("input",{type:"email",name:"email",id:"editEmail",value:m.email,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",required:!0})]}),(0,br.jsxs)("div",{className:"mb-4",children:[(0,br.jsx)("label",{htmlFor:"editPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password (leave blank to keep current)"}),(0,br.jsx)("input",{type:"password",name:"password",id:"editPassword",value:m.password||"",onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm"})]}),(0,br.jsxs)("div",{className:"mb-6",children:[(0,br.jsx)("label",{htmlFor:"editRole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,br.jsxs)("select",{name:"role",id:"editRole",value:m.role,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teraplus-primary focus:border-teraplus-primary sm:text-sm",children:[(0,br.jsx)("option",{value:"admin",children:"Admin"}),(0,br.jsx)("option",{value:"user",children:"User"})]})]}),(0,br.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,br.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md border border-gray-300",children:"Cancel"}),(0,br.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-teraplus-brand-blue-dark bg-white border border-teraplus-brand-blue-dark hover:bg-teraplus-primary-hover rounded-md shadow-sm",children:"Save Changes"})]})]})}),(0,br.jsx)(La,{isOpen:b,onClose:()=>x(!1),title:"Bulk Create Users via Excel",children:(0,br.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!w)return void Oa.error("Please select a file to upload.");E(!0),S(null);const t=new FormData;t.append("userBulkFile",w);try{var n,r,i;const e=await(async e=>{try{return(await fr.post("/admin/users/bulk-create",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){var t;throw console.error("Error in bulkCreateUsersAdmin service call:",(null===(t=a.response)||void 0===t?void 0:t.data)||a.message),a}})(t);Oa.success(e.message||"".concat((null===(n=e.data)||void 0===n?void 0:n.successfullyCreated)||0," users processed.")),S({status:e.status||((null===(r=e.data)||void 0===r||null===(i=r.errors)||void 0===i?void 0:i.length)>0?"partial_success":"success"),message:e.message,data:e.data}),j()}catch(a){var s,o,l,c;console.error("Bulk upload error:",a);const t=(null===(s=a.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||a.message||"Bulk user creation failed.",n=null===(l=a.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.data;Oa.error(t),S({status:"fail",message:t,data:n})}finally{E(!1)}},className:"space-y-4",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"bulkUserFile",className:"block text-sm font-medium text-gray-700",children:"Upload Excel File (.xlsx, .xls, .csv)"}),(0,br.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Required columns: "namaLengkap", "email", "password", "role". Optional: "affiliasi", "noHp".'}),(0,br.jsx)("input",{type:"file",name:"bulkUserFile",id:"bulkUserFile",accept:".xlsx, .xls, .csv",onChange:e=>{_(e.target.files[0]),S(null)},required:!0,className:"mt-2 block w-full text-sm text-gray-500\r file:mr-4 file:py-2 file:px-4\r file:rounded-md file:border-0\r file:text-sm file:font-semibold\r file:bg-green-500 file:text-white\r hover:file:bg-green-600"})]}),A&&(0,br.jsxs)("div",{className:"p-4 rounded-md text-sm ".concat("success"===A.status?"bg-green-50 text-green-700 border border-green-200":"partial_success"===A.status?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"),children:[(0,br.jsx)("p",{className:"font-semibold",children:A.message}),A.data&&(0,br.jsxs)("ul",{className:"list-disc list-inside mt-2",children:["number"===typeof A.data.totalUsersInFile&&(0,br.jsxs)("li",{children:["Total users in file: ",A.data.totalUsersInFile]}),"number"===typeof A.data.successfullyCreated&&(0,br.jsxs)("li",{children:["Successfully created: ",A.data.successfullyCreated]}),"number"===typeof A.data.skippedOrFailed&&(0,br.jsxs)("li",{children:["Skipped/Failed: ",A.data.skippedOrFailed]}),A.data.errors&&A.data.errors.length>0&&(0,br.jsxs)("li",{children:["Errors:",(0,br.jsx)("ul",{className:"list-disc list-inside pl-5 max-h-32 overflow-y-auto",children:A.data.errors.map(((e,t)=>(0,br.jsxs)("li",{children:[e.email||"Row ".concat(e.row||t+2),": ",e.message]},t)))})]})]})]}),(0,br.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,br.jsx)("button",{type:"button",onClick:()=>{x(!1),_(null),S(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md border border-gray-300",disabled:k,children:"Cancel"}),(0,br.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",disabled:!w||k,children:k?"Uploading...":"Upload and Create Users"})]})]})})]})},Ia=()=>{const{identifier:e}=ne(),t=ee(),{user:n}=_r(),{modules:r,isModuleCompleted:a,isPreTestCompleted:s,fetchCourseProgressAndModules:o,getFirstIntroModule:l,getPreTestModule:c,isLoading:u,error:d,resetProgressForCourse:h,completedModules:f}=Ar(),[p,m]=(0,i.useState)(null),[g,v]=(0,i.useState)(!0),[y,b]=(0,i.useState)(""),[x,w]=(0,i.useState)("deskripsi"),[_,k]=(0,i.useState)(!1),[E,A]=(0,i.useState)(!1),[S,j]=(0,i.useState)(!1),[C,N]=(0,i.useState)(!1),[T,P]=(0,i.useState)(""),[O,M]=(0,i.useState)([]);(0,i.useEffect)((()=>()=>{}),[e]),(0,i.useEffect)((()=>{(async()=>{if(e){v(!0),b("");try{const r=await mr.get("/courses/".concat(e));if(r.data&&"success"===r.data.status&&r.data.data&&r.data.data.course){const e=r.data.data.course;m(qe(qe({},e),{},{deskripsiLengkap:e.deskripsi||"Deskripsi lengkap tidak tersedia.",syaratKetentuan:e.syaratDanKetentuan||e.syarat_ketentuan||"Syarat & ketentuan tidak tersedia.",shortDescriptionSidebar:e.deskripsi_singkat_sidebar||("string"===typeof e.deskripsi?e.deskripsi.substring(0,100)+"...":"Info singkat kursus.")})),n&&e.id?await o(e.id):n||h()}else{var t;b((null===(t=r.data)||void 0===t?void 0:t.message)||"Kursus tidak ditemukan atau format respons tidak sesuai."),m(null)}}catch(a){var r,i;console.error("Error fetching course details:",a),b((null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||"Terjadi kesalahan saat menghubungi server."),m(null)}finally{v(!1)}}else b("Identifier kursus tidak ditemukan di URL."),v(!1)})()}),[e,n,o,h]),(0,i.useEffect)((()=>{p&&p.id&&n&&(async()=>{if(p&&p.id&&n){N(!0),P(""),M([]);try{const e=await mr.get("/courses/".concat(p.id,"/certificate/eligibility"));e.data&&"success"===e.data.status?(A(e.data.eligible),!e.data.eligible&&e.data.reasons&&M(e.data.reasons)):P(e.data.message||"Gagal memeriksa kelayakan sertifikat.")}catch(r){var e,t;console.error("Error checking certificate eligibility:",r),P((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Terjadi kesalahan saat memeriksa kelayakan sertifikat.")}finally{N(!1),j(!0)}}else j(!1)})()}),[p,n,r,f]);const L=(0,i.useMemo)((()=>l()),[r,l]);(0,i.useMemo)((()=>c()),[r,c]),(0,i.useMemo)((()=>!L||a(L.id)),[L,a]);let R="Memuat...",I=()=>{};return n?u||g?R="Memuat...":p?(R="Mulai Course",I=()=>{if(k(!0),!p||!p.id&&!p.slug)return k(!1),void alert("Detail kursus belum dimuat sepenuhnya atau tidak valid.");try{const e=p.slug?"/course/".concat(p.slug,"/moduleslist"):"/course/".concat(p.id,"/moduleslist");t(e)}catch(e){console.error("Error navigating to modules list:",e),alert("Gagal memulai kursus. Silakan coba lagi.")}finally{k(!1)}}):(y||d)&&(R="Gagal Memuat Kursus",I=()=>window.location.reload()):(R="Login untuk Memulai",I=()=>t("/login")),g&&!p?(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-accent"})}):y&&!p?(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center text-red-500",children:y}):p||g?(d&&p&&console.error("Course Progress Error:",d),(0,br.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[(0,br.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-teraplus-text-default mb-6",children:p.judul}),(0,br.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,br.jsxs)("div",{className:"lg:w-2/3",children:[(0,br.jsx)("img",{src:p.imageSrc,alt:p.judul,className:"w-full rounded-lg shadow-lg mb-6"}),(0,br.jsx)("div",{className:"mb-4 border-b border-gray-200",children:(0,br.jsxs)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[(0,br.jsx)("button",{onClick:()=>w("deskripsi"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("deskripsi"===x?"border-teraplus-accent text-teraplus-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Deskripsi"}),(0,br.jsx)("button",{onClick:()=>w("syarat"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("syarat"===x?"border-teraplus-accent text-teraplus-accent":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Syarat & Ketentuan"})]})}),(0,br.jsxs)("div",{children:["deskripsi"===x&&(0,br.jsx)("div",{className:"prose max-w-none text-teraplus-text-default",children:(0,br.jsx)("p",{children:p.deskripsiLengkap})}),"syarat"===x&&(0,br.jsx)("div",{className:"prose max-w-none text-teraplus-text-default",children:(0,br.jsx)("p",{children:p.syaratKetentuan})})]})]}),(0,br.jsx)("div",{className:"lg:w-1/3",children:(0,br.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-200",children:[(0,br.jsx)("h2",{className:"text-xl font-semibold text-teraplus-text-default mb-3",children:p.judul}),(0,br.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:p.shortDescriptionSidebar}),(0,br.jsx)("button",{className:"w-full bg-teraplus-accent text-white font-semibold py-3 px-4 rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-teraplus-accent focus:ring-opacity-50 mb-4",disabled:_||u||g||!n&&"Login untuk Memulai"!==R,onClick:I,children:_?"Memproses...":R}),n&&S&&(0,br.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,br.jsx)("h3",{className:"text-lg font-semibold text-teraplus-text-default mb-2",children:"Sertifikat"}),C&&(0,br.jsx)("p",{className:"text-sm text-gray-500",children:"Memeriksa kelayakan..."}),T&&(0,br.jsx)("p",{className:"text-sm text-red-500",children:T}),!C&&!T&&(E?(0,br.jsx)("button",{onClick:async()=>{if(p&&p.id)try{var e;const t=await mr.get("/courses/".concat(p.id,"/certificate/download"),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n;const i=t.headers["content-disposition"];let a="sertifikat-".concat((null===p||void 0===p||null===(e=p.judul)||void 0===e?void 0:e.replace(/\s+/g,"_"))||"kursus",".pdf");if(i){const e=i.match(/filename="?(.+)"?/i);e&&2===e.length&&(a=e[1])}r.setAttribute("download",a),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r),window.URL.revokeObjectURL(n)}catch(t){console.error("Error downloading certificate:",t),alert("Gagal mengunduh sertifikat. Pastikan Anda memenuhi syarat.")}},className:"w-full bg-green-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-600 transition-opacity focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",children:"Unduh Sertifikat"}):(0,br.jsxs)("div",{children:[(0,br.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Anda belum memenuhi syarat untuk sertifikat."}),O.length>0&&(0,br.jsx)("ul",{className:"list-disc list-inside text-xs text-gray-500",children:O.map(((e,t)=>(0,br.jsx)("li",{children:e},t)))})]}))]})]})})]})]})):(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center",children:"Kursus tidak ditemukan."})},Da=()=>{const{identifier:e}=ne(),t=ee(),{modules:n,fetchCourseProgressAndModules:r,isLoading:a,currentCourseId:s,recordAndMarkTestAsCompleted:o,fetchedByIdentifier:l}=Ar(),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(0),[f,p]=(0,i.useState)({}),[m,g]=(0,i.useState)(!0),[v,y]=(0,i.useState)(""),[b,x]=(0,i.useState)(""),[w,_]=(0,i.useState)(""),[k,E]=(0,i.useState)(null);(0,i.useEffect)((()=>{e&&e!==l&&r(e)}),[e,l,r]);const A=(0,i.useMemo)((()=>{if(!n||0===n.length||a)return null;const e=["pre_test","PRE_TEST_QUIZ"],t=["PAGE","text","pdf","web","VIDEO","video"],r=n.findIndex((t=>e.includes(t.type)));if(-1===r)return{type:"course_detail"};if(r>0){for(let e=r-1;e>=0;e--){const r=n[e];if(t.includes(r.type))return{type:"module",data:r}}return{type:"course_detail"}}return{type:"course_detail"}}),[n,a]);(0,i.useEffect)((()=>{e&&(async()=>{try{g(!0),y("");const t=await mr.get("/courses/".concat(e,"/pre-test/questions"));if(t.data&&"success"===t.data.status){const e=(t.data.data.questions||[]).map((e=>{try{return qe(qe({},e),{},{options:"string"===typeof e.options?JSON.parse(e.options):e.options||[]})}catch(t){return console.error("Failed to parse options for question:",e.id,t),qe(qe({},e),{},{options:[]})}}));u(e),x(t.data.data.courseTitle||"Pre-Test"),_(t.data.data.moduleTitle||""),E(t.data.data.moduleId||null),0===e.length&&y("Tidak ada soal pre-test yang tersedia untuk kursus ini.")}else y(t.data.message||"Gagal mengambil soal pre-test.")}catch(r){var t,n;console.error("Error fetching pre-test questions:",r),y((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi kesalahan server saat mengambil soal.")}finally{g(!1)}})()}),[e]);if(m)return(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-accent"})});if(v)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center text-red-500",children:v});if(0===c.length)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center",children:"Tidak ada soal pre-test untuk ditampilkan."});const S=c[d];return(0,br.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[(0,br.jsx)("div",{className:"mb-6",children:(0,br.jsxs)(Oe,{to:"/courses/".concat(e,"/moduleslist"),className:"inline-flex items-center text-teraplus-accent hover:text-teraplus-hover focus:outline-none focus:ring-2 focus:ring-teraplus-accent-light rounded-md px-3 py-1 transition-colors duration-150",children:[(0,br.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Daftar Modul"]})}),(0,br.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-teraplus-text-default mb-2",children:w||"Pre-Test: ".concat(b)}),(0,br.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Soal ",d+1," dari ",c.length]}),(0,br.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-lg border border-gray-200",children:[(0,br.jsx)("h2",{className:"text-lg font-semibold text-teraplus-text-default mb-4",children:S.teksSoal}),(0,br.jsx)("div",{className:"space-y-3 mb-6",children:S.options.map((e=>(0,br.jsxs)("label",{className:"flex items-center p-3 border rounded-md hover:bg-gray-50 cursor-pointer",children:[(0,br.jsx)("input",{type:"radio",name:"question-".concat(S.id),value:e.id,checked:f[S.id]===e.id,onChange:()=>{return t=S.id,n=e.id,void p((e=>qe(qe({},e),{},{[t]:n})));var t,n},className:"form-radio h-5 w-5 text-teraplus-accent focus:ring-teraplus-accent"}),(0,br.jsx)("span",{className:"ml-3 text-teraplus-text-variant",children:e.text})]},e.id)))}),(0,br.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,br.jsx)("button",{onClick:()=>{if(0===d&&A)if("module"===A.type&&A.data){const r=n.findIndex((e=>e.id===A.data.id));t(-1!==r?"/course/".concat(e,"/content/").concat(r+1):"/course/".concat(e))}else t("/course/".concat(e));else d>0&&h((e=>e-1))},disabled:0===d&&!A||a,className:"w-full sm:w-auto px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 disabled:opacity-50 transition-colors",children:0===d&&A?"module"===A.type?"Kembali ke Modul":"Kembali ke Detail Kursus":"Sebelumnya"}),d===c.length-1?(0,br.jsx)("button",{onClick:async()=>{if(!k)return y("Module ID untuk pre-test tidak ditemukan. Tidak dapat mengirimkan hasil."),void console.error("Pre-test module ID is not set.");if(!s)return y("Informasi kursus tidak lengkap. Tidak dapat mengirimkan hasil. Silakan coba muat ulang halaman."),void console.error("Numeric Course ID from context (contextCourseIdForProgress) is not available for handleSubmit.");let n=0;const r=c.map((e=>{const t=f[e.id],r=t===e.correctOptionId;return r&&n++,{questionId:e.id,teksSoal:e.teksSoal,options:e.options,selectedOptionId:t,correctOptionId:e.correctOptionId,isCorrect:r,explanation:e.explanation||null}})),i=c.length>0?n/c.length*100:0;try{await o(k,i),t("/course/".concat(e,"/pretest-result"),{state:{results:r,score:n,totalQuestions:c.length,percentage:i,courseTitle:b,moduleTitle:w,questions:c}})}catch(u){var a,l;console.error("Error submitting pre-test results:",u),y((null===(a=u.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Gagal mengirimkan hasil pre-test.")}},disabled:Object.keys(f).length!==c.length,className:"w-full sm:w-auto px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Kumpulkan"}):(0,br.jsx)("button",{onClick:()=>{d<c.length-1&&h((e=>e+1))},disabled:d===c.length-1,className:"w-full sm:w-auto px-6 py-3 bg-teraplus-accent text-white font-semibold rounded-lg hover:opacity-90 disabled:opacity-50 transition-colors",children:"Selanjutnya"})]})]})]})},Fa=()=>{const e=$(),t=ee(),{identifier:n}=ne(),{markModuleAsCompleted:r,modules:a,fetchCourseProgressAndModules:s,currentCourseId:o,isModuleCompleted:l,getPreTestModule:c}=Ar(),[u,d]=(0,i.useState)(""),{results:h,score:f,totalQuestions:p,percentage:m,courseTitle:g,moduleTitle:v,questions:y}=e.state||{};if((0,i.useEffect)((()=>{!n||a&&0!==a.length&&n===String(o)||s(n)}),[n,a,o,s]),(0,i.useEffect)((()=>{(async()=>{if(h&&a&&a.length>0){const t=c();if(t&&!l(t.id))try{d(""),await r(t.id)}catch(e){console.error("Error marking pre-test as completed:",e),d("Terjadi kesalahan saat menyimpan progres pre-test Anda. Anda tetap dapat melanjutkan.")}}})()}),[h,a,c,l,r,n]),!h||!y)return(0,br.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,br.jsx)("p",{children:"Hasil pre-test tidak tersedia. Silakan coba kerjakan pre-test terlebih dahulu."}),(0,br.jsx)("button",{onClick:()=>t("/course/".concat(n,"/pretest")),className:"mt-4 px-6 py-2 bg-teraplus-accent text-white rounded-lg hover:opacity-90",children:"Kembali ke Pre-Test"})]});const b=(new Date).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short"});return(0,br.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:(0,br.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-lg border border-gray-200",children:[(0,br.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-teraplus-text-default",children:"Hasil Pre-Test"}),(0,br.jsx)("p",{className:"text-sm text-gray-500",children:v||g||"Kursus ".concat(n)})]}),(0,br.jsx)("button",{onClick:()=>t("/course/".concat(n,"/content")),className:"text-xl font-bold text-gray-400 hover:text-gray-600",title:"Lanjutkan ke Materi Kursus",children:"\xd7"})]}),u&&(0,br.jsx)("div",{className:"mb-4 p-3 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",children:(0,br.jsx)("p",{children:u})}),(0,br.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,br.jsxs)("div",{className:"md:col-span-1 p-4 border rounded-md bg-gray-50",children:[(0,br.jsxs)("p",{className:"text-sm text-gray-600",children:["Tanggal Ujian: ",b]}),(0,br.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Total Soal: ",p]}),(0,br.jsxs)("p",{className:"text-2xl font-bold mt-2",children:["Skor: ",f," ",(0,br.jsxs)("span",{className:"text-lg font-normal",children:["/ ",p]})," (",void 0!==m&&null!==m?m.toFixed(0):0,"%)"]}),(0,br.jsx)("p",{className:"mt-2 text-gray-700",children:"Ini adalah skor awal Anda. Gunakan hasil ini untuk fokus pada area yang perlu ditingkatkan selama kursus."})]}),(0,br.jsxs)("div",{className:"md:col-span-2",children:[(0,br.jsx)("h2",{className:"text-xl font-semibold text-teraplus-text-default mb-4",children:"Rincian Jawaban:"}),(0,br.jsx)("div",{className:"space-y-6 max-h-[500px] overflow-y-auto pr-2",children:h.map(((e,t)=>{const n=y.find((t=>t.id===e.questionId)),r=n?n.explanation:null;return(0,br.jsxs)("div",{className:"pb-4 border-b last:border-b-0",children:[(0,br.jsxs)("p",{className:"font-semibold text-teraplus-text-variant mb-2",children:[t+1,". ",e.teksSoal]}),(0,br.jsx)("div",{className:"space-y-1",children:e.options.map((t=>(0,br.jsxs)("div",{className:"p-2 rounded flex items-center\n                            ".concat(t.id===e.selectedOptionId&&e.isCorrect?"bg-green-100 border-l-4 border-green-500":"","\n                            ").concat(t.id!==e.selectedOptionId||e.isCorrect?"":"bg-red-100 border-l-4 border-red-500","\n                            ").concat(t.id===e.selectedOptionId?"font-semibold":"","\n                          "),children:[(0,br.jsx)("span",{className:"mr-2 w-5 h-5 flex items-center justify-center rounded-full border text-xs\n                            ".concat(t.id===e.selectedOptionId&&e.isCorrect?"bg-green-500 text-white border-green-500":"","\n                            ").concat(t.id!==e.selectedOptionId||e.isCorrect?"border-gray-300":"bg-red-500 text-white border-red-500","\n                          "),children:String.fromCharCode(65+e.options.indexOf(t))}),(0,br.jsx)("span",{children:t.text})]},t.id)))}),r&&(0,br.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 border-l-4 border-blue-400 text-sm text-blue-700",children:[(0,br.jsx)("strong",{children:"Penjelasan:"})," ",r]}),!e.selectedOptionId&&(0,br.jsx)("p",{className:"text-sm text-yellow-600 mt-1",children:"Tidak dijawab."})]},e.questionId)}))})]})]}),(0,br.jsx)("div",{className:"text-center mt-8",children:(0,br.jsx)("button",{onClick:()=>{if(!a||0===a.length)return void t("/course/".concat(n));const e=c();let r=0;if(e){const t=a.findIndex((t=>t.id===e.id));-1!==t&&(r=t+1)}let i=-1;for(let t=r;t<a.length;t++){const e=a[t];if(["PAGE","pdf","web","VIDEO","text","video"].includes(e.type)){i=t+1;break}}if(-1!==i)t("/course/".concat(n,"/content/").concat(i));else{const e=a.find((e=>"POST_TEST_QUIZ"===e.type||"post_test"===e.type));t(e?"/course/".concat(n,"/posttest"):"/course/".concat(n))}},className:"px-8 py-3 bg-teraplus-accent text-white font-semibold rounded-lg hover:opacity-90 transition-colors",children:"Lanjutkan ke Materi Kursus"})})]})})};var qa=n(5173),Ba=n.n(qa),Ua=n(122),Wa=n.n(Ua),za=n(7282),Ha=n.n(za),Va=Object.defineProperty,Ga=Object.defineProperties,Ka=Object.getOwnPropertyDescriptors,Xa=Object.getOwnPropertySymbols,Ya=Object.prototype.hasOwnProperty,Qa=Object.prototype.propertyIsEnumerable,Za=(e,t,n)=>t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$a=(e,t)=>{for(var n in t||(t={}))Ya.call(t,n)&&Za(e,n,t[n]);if(Xa)for(var n of Xa(t))Qa.call(t,n)&&Za(e,n,t[n]);return e},Ja=(e,t)=>Ga(e,Ka(t));function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ja($a({},e),{height:0,width:0,playerVars:Ja($a({},e.playerVars),{autoplay:0,start:0,end:0})})}var ts={videoId:Ba().string,id:Ba().string,className:Ba().string,iframeClassName:Ba().string,style:Ba().object,title:Ba().string,loading:Ba().oneOf(["lazy","eager"]),opts:Ba().objectOf(Ba().any),onReady:Ba().func,onError:Ba().func,onPlay:Ba().func,onPause:Ba().func,onEnd:Ba().func,onStateChange:Ba().func,onPlaybackRateChange:Ba().func,onPlaybackQualityChange:Ba().func},ns=class extends i.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,n;return null==(n=(t=this.props).onReady)?void 0:n.call(t,e)},this.onPlayerError=e=>{var t,n;return null==(n=(t=this.props).onError)?void 0:n.call(t,e)},this.onPlayerStateChange=e=>{var t,n,r,i,a,s,o,l;switch(null==(n=(t=this.props).onStateChange)||n.call(t,e),e.data){case ns.PlayerState.ENDED:null==(i=(r=this.props).onEnd)||i.call(r,e);break;case ns.PlayerState.PLAYING:null==(s=(a=this.props).onPlay)||s.call(a,e);break;case ns.PlayerState.PAUSED:null==(l=(o=this.props).onPause)||l.call(o,e)}},this.onPlayerPlaybackRateChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackRateChange)?void 0:n.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackQualityChange)?void 0:n.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if("undefined"===typeof document)return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const e=Ja($a({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Ha()(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;null==(e=this.internalPlayer)||e.getIframe().then((e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,n,r;if("undefined"===typeof this.props.videoId||null===this.props.videoId)return void(null==(e=this.internalPlayer)||e.stopVideo());let i=!1;const a={videoId:this.props.videoId};(null==(t=this.props.opts)?void 0:t.playerVars)&&(i=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),i?null==(n=this.internalPlayer)||n.loadVideoById(a):null==(r=this.internalPlayer)||r.cueVideoById(a)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return t=this,n=null,r=function*(){(function(e,t){var n,r,i,a;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(i=e.opts)?void 0:i.height)!==(null==(a=t.opts)?void 0:a.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title})(e,this.props)&&this.updatePlayer(),function(e,t){return e.videoId!==t.videoId||!Wa()(es(e.opts),es(t.opts))}(e,this.props)&&(yield this.resetPlayer()),function(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const i=(null==(n=e.opts)?void 0:n.playerVars)||{},a=(null==(r=t.opts)?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}(e,this.props)&&this.updateVideo()},new Promise(((e,i)=>{var a=e=>{try{o(r.next(e))}catch(ik){i(ik)}},s=e=>{try{o(r.throw(e))}catch(ik){i(ik)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,s);o((r=r.apply(t,n)).next())}));var t,n,r}componentWillUnmount(){this.destroyPlayer()}render(){return i.createElement("div",{className:this.props.className,style:this.props.style},i.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},rs=ns;rs.propTypes=ts,rs.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},rs.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var is,as,ss,os,ls,cs,us,ds,hs,fs,ps,ms,gs=rs;function vs(e,t,n){t||(t=[]);var r=t.length++;return Object.defineProperty({},"_",{set:function(i){t[r]=i,e.apply(n,t)}})}function ys(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bs(e,t){ys(e,t),t.add(e)}function xs(e,t,n){ys(e,t),t.set(e,n)}function ws(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function _s(e,t,n){return n(ws(e,t))}function ks(e,t){return e.get(ws(e,t))}function Es(e,t,n){return e.set(ws(e,t),n),n}var As={d:(e,t)=>{for(var n in t)As.o(t,n)&&!As.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},Ss=globalThis.pdfjsLib={};As.d(Ss,{AbortException:()=>qo,AnnotationEditorLayer:()=>nw,AnnotationEditorParamsType:()=>Us,AnnotationEditorType:()=>Bs,AnnotationEditorUIManager:()=>nu,AnnotationLayer:()=>dv,AnnotationMode:()=>qs,ColorPicker:()=>Uy,DOMSVGFactory:()=>Im,DrawLayer:()=>pw,FeatureTest:()=>zo,GlobalWorkerOptions:()=>Yh,ImageKind:()=>Ys,InvalidPDFException:()=>Ro,MissingPDFException:()=>Io,OPS:()=>wo,OutputScale:()=>jl,PDFDataRangeTransport:()=>Xp,PDFDateString:()=>xl,PDFWorker:()=>sm,PasswordResponses:()=>_o,PermissionFlag:()=>Ws,PixelsPerInch:()=>ll,RenderingCancelledException:()=>dl,TextLayer:()=>Ap,UnexpectedResponseException:()=>Do,Util:()=>Vo,VerbosityLevel:()=>xo,XfaLayer:()=>Dm,build:()=>Pm,createValidAbsoluteUrl:()=>To,fetchData:()=>cl,getDocument:()=>Hp,getFilenameFromUrl:()=>pl,getPdfFilenameFromUrl:()=>ml,getXfaPageViewport:()=>_l,isDataScheme:()=>hl,isPdfFile:()=>fl,noContextMenu:()=>yl,normalizeUnicode:()=>Qo,setLayerDimensions:()=>Sl,shadow:()=>Po,version:()=>Tm});const js="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Cs=[1,0,0,1,0,0],Ns=[.001,0,0,.001,0,0],Ts=1.35,Ps=1,Os=2,Ms=4,Ls=16,Rs=32,Is=64,Ds=128,Fs=256,qs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Bs={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Us={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Ws={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},zs=0,Hs=1,Vs=2,Gs=3,Ks=3,Xs=4,Ys={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Qs=1,Zs=2,$s=3,Js=4,eo=5,to=6,no=7,ro=8,io=9,ao=10,so=11,oo=12,lo=13,co=14,uo=15,ho=16,fo=17,po=20,mo=1,go=2,vo=3,yo=4,bo=5,xo={ERRORS:0,WARNINGS:1,INFOS:5},wo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},_o={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ko=xo.WARNINGS;function Eo(e){Number.isInteger(e)&&(ko=e)}function Ao(){return ko}function So(e){ko>=xo.INFOS&&console.log("Info: ".concat(e))}function jo(e){ko>=xo.WARNINGS&&console.log("Warning: ".concat(e))}function Co(e){throw new Error(e)}function No(e,t){e||Co(t)}function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(r){}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(i){}return null}function Po(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Oo=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class Mo extends Oo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Lo extends Oo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ro extends Oo{constructor(e){super(e,"InvalidPDFException")}}class Io extends Oo{constructor(e){super(e,"MissingPDFException")}}class Do extends Oo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Fo extends Oo{constructor(e){super(e,"FormatError")}}class qo extends Oo{constructor(e){super(e,"AbortException")}}function Bo(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||Co("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function Uo(e){"string"!==typeof e&&Co("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function Wo(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t}class zo{static get isLittleEndian(){return Po(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return Po(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return Po(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){var e,t;return"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.platform)?Po(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&navigator.userAgent.includes("Firefox")}):Po(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Po(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Ho=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class Vo{static makeHexColor(e,t,n){return"#".concat(Ho[e]).concat(Ho[t]).concat(Ho[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],s=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-i*r))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,r,a]}static bezierBoundingBox(e,t,n,r,i,a,s,o,l){return l?(l[0]=Math.min(l[0],e,s),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,s),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,s),Math.min(t,o),Math.max(e,s),Math.max(t,o)],ws(Vo,this,Ko).call(this,e,n,i,s,t,r,a,o,3*(3*(n-i)-e+s),6*(e-2*n+i),3*(n-e),l),ws(Vo,this,Ko).call(this,e,n,i,s,t,r,a,o,3*(3*(r-a)-t+o),6*(t-2*r+a),3*(r-t),l),l}}function Go(e,t,n,r,i,a,s,o,l,c){if(l<=0||l>=1)return;const u=1-l,d=l*l,h=d*l,f=u*(u*(u*e+3*l*t)+3*d*n)+h*r,p=u*(u*(u*i+3*l*a)+3*d*s)+h*o;c[0]=Math.min(c[0],f),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],f),c[3]=Math.max(c[3],p)}function Ko(e,t,n,r,i,a,s,o,l,c,u,d){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&ws(is,this,Go).call(this,e,t,n,r,i,a,s,o,-u/c,d));const h=c**2-4*u*l;if(h<0)return;const f=Math.sqrt(h),p=2*l;ws(is,this,Go).call(this,e,t,n,r,i,a,s,o,(-c+f)/p,d),ws(is,this,Go).call(this,e,t,n,r,i,a,s,o,(-c-f)/p,d)}is=Vo;let Xo=null,Yo=null;function Qo(e){return Xo||(Xo=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,Yo=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Xo,((e,t,n)=>t?t.normalize("NFKC"):Yo.get(n)))}const Zo="pdfjs_internal_id_",$o=0,Jo=1,el=2,tl=3,nl=4,rl=5,il=6,al=7,sl=8;const ol="http://www.w3.org/2000/svg";class ll{}async function cl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(vl(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)}))}as=ll,De(ll,"CSS",96),De(ll,"PDF",72),De(ll,"PDF_TO_CSS_UNITS",as.CSS/as.PDF);class ul{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=a;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,d,h,f,p,m,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,h=-h),0===c?(f=Math.abs(l-t[1])*n+i,p=Math.abs(o-t[0])*n+a,m=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(f=Math.abs(o-t[0])*n+i,p=Math.abs(l-t[1])*n+a,m=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[c*n,u*n,d*n,h*n,f-c*n*o-d*n*l,p-u*n*o-h*n*l],this.width=m,this.height=g}get rawDims(){const{viewBox:e}=this;return Po(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ul({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return Vo.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Vo.applyTransform([e[0],e[1]],this.transform),n=Vo.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Vo.applyInverseTransform([e,t],this.transform)}}class dl extends Oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function hl(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function fl(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function pl(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function ml(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(hl(e))return jo('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(a){}return i||t}class gl{constructor(){De(this,"started",Object.create(null)),De(this,"times",[])}time(e){e in this.started&&jo("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||jo("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-r,"ms\n"));return e.join("")}}function vl(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(n){return!1}}function yl(e){e.preventDefault()}function bl(e){console.log("Deprecated API usage: "+e)}class xl{static toDateObject(e){if(!e||"string"!==typeof e)return null;ws(xl,this,wl)._||(wl._=ws(xl,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=ws(xl,this,wl)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(a+=c,s+=u):"+"===l&&(a-=c,s-=u),new Date(Date.UTC(n,r,i,a,s,o))}}var wl={_:void 0};function _l(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:a}=e.attributes.style,s=[0,0,parseInt(i),parseInt(a)];return new ul({viewBox:s,scale:n,rotation:r})}function kl(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(jo('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function El(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform();return[t,n,r,i,a,s]}function Al(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform().invertSelf();return[t,n,r,i,a,s]}function Sl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof ul){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:a}=e,s=zo.isCSSRoundSupported,o="var(--scale-factor) * ".concat(r,"px"),l="var(--scale-factor) * ".concat(i,"px"),c=s?"round(down, ".concat(o,", var(--scale-round-x, 1px))"):"calc(".concat(o,")"),u=s?"round(down, ".concat(l,", var(--scale-round-y, 1px))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(a.width=u,a.height=c):(a.width=c,a.height=u)}r&&e.setAttribute("data-main-rotation",t.rotation)}class jl{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}var Cl=new WeakMap,Nl=new WeakMap,Tl=new WeakMap,Pl=new WeakMap,Ol=new WeakMap,Ml=new WeakSet;class Ll{constructor(e){bs(this,Ml),xs(this,Cl,null),xs(this,Nl,null),xs(this,Tl,void 0),xs(this,Pl,null),xs(this,Ol,null),Es(Tl,this,e),Ul._||(Ul._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=Es(Cl,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=ks(Tl,this)._uiManager._signal;e.addEventListener("contextmenu",yl,{signal:t}),e.addEventListener("pointerdown",Rl,{signal:t});const n=Es(Pl,this,document.createElement("div"));n.className="buttons",e.append(n);const r=ks(Tl,this).toolbarPosition;if(r){const{style:t}=e,n="ltr"===ks(Tl,this)._uiManager.direction?1-r[0]:r[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*r[1],"% + var(--editor-toolbar-vert-offset))")}return ws(Ml,this,ql).call(this),e}get div(){return ks(Cl,this)}hide(){var e;ks(Cl,this).classList.add("hidden"),null===(e=ks(Nl,this))||void 0===e||e.hideDropdown()}show(){var e;ks(Cl,this).classList.remove("hidden"),null===(e=ks(Ol,this))||void 0===e||e.shown()}async addAltText(e){const t=await e.render();ws(Ml,this,Fl).call(this,t),ks(Pl,this).prepend(t,_s(Ml,this,Bl)),Es(Ol,this,e)}addColorPicker(e){Es(Nl,this,e);const t=e.renderButton();ws(Ml,this,Fl).call(this,t),ks(Pl,this).prepend(t,_s(Ml,this,Bl))}remove(){var e;ks(Cl,this).remove(),null===(e=ks(Nl,this))||void 0===e||e.destroy(),Es(Nl,this,null)}}function Rl(e){e.stopPropagation()}function Il(e){ks(Tl,this)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}function Dl(e){ks(Tl,this)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}function Fl(e){const t=ks(Tl,this)._uiManager._signal;e.addEventListener("focusin",ws(Ml,this,Il).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ws(Ml,this,Dl).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",yl,{signal:t})}function ql(){const{editorType:e,_uiManager:t}=ks(Tl,this),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",Ul._[e]),ws(Ml,this,Fl).call(this,n),n.addEventListener("click",(e=>{t.delete()}),{signal:t._signal}),ks(Pl,this).append(n)}function Bl(e){const t=document.createElement("div");return t.className="divider",t}var Ul={_:null},Wl=new WeakMap,zl=new WeakMap,Hl=new WeakMap,Vl=new WeakSet;class Gl{constructor(e){bs(this,Vl),xs(this,Wl,null),xs(this,zl,null),xs(this,Hl,void 0),Es(Hl,this,e)}show(e,t,n){const[r,i]=ws(Vl,this,Xl).call(this,t,n),{style:a}=ks(zl,this)||Es(zl,this,ws(Vl,this,Kl).call(this));e.append(ks(zl,this)),a.insetInlineEnd="".concat(100*r,"%"),a.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){ks(zl,this).remove()}}function Kl(){const e=Es(zl,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",yl,{signal:ks(Hl,this)._signal});const t=Es(Wl,this,document.createElement("div"));return t.className="buttons",e.append(t),ws(Vl,this,Yl).call(this),e}function Xl(e,t){let n=0,r=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const a=i.x+(t?i.width:0);e>n?(r=a,n=e):t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,n]}function Yl(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=ks(Hl,this)._signal;e.addEventListener("contextmenu",yl,{signal:n}),e.addEventListener("click",(()=>{ks(Hl,this).highlightSelection("floating_button")}),{signal:n}),ks(Wl,this).append(e)}function Ql(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}var Zl=new WeakMap;class $l{constructor(){xs(this,Zl,0)}get id(){var e,t;return"".concat("pdfjs_internal_editor_").concat((Es(Zl,this,(e=ks(Zl,this),t=e++,e)),t))}}var Jl=new WeakMap,ec=new WeakMap,tc=new WeakMap,nc=new WeakSet;class rc{constructor(){bs(this,nc),xs(this,Jl,function(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(n);else for(let r=0;r<32;r++)n[r]=Math.floor(255*Math.random());return Bo(n)}()),xs(this,ec,0),xs(this,tc,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Po(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return ws(nc,this,ic).call(this,"".concat(t,"_").concat(n,"_").concat(r,"_").concat(i),e)}async getFromUrl(e){return ws(nc,this,ic).call(this,e,e)}async getFromBlob(e,t){const n=await t;return ws(nc,this,ic).call(this,e,n)}async getFromId(e){ks(tc,this)||Es(tc,this,new Map);const t=ks(tc,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,r,i;ks(tc,this)||Es(tc,this,new Map);let a=ks(tc,this).get(e);if(null!==(i=a)&&void 0!==i&&i.bitmap)return a.refCounter+=1,a;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),a={bitmap:s.transferToImageBitmap(),id:"image_".concat(ks(Jl,this),"_").concat((Es(ec,this,(n=ks(ec,this),r=n++,n)),r)),refCounter:1,isSvg:!1},ks(tc,this).set(e,a),ks(tc,this).set(a.id,a),a}getSvgUrl(e){const t=ks(tc,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;ks(tc,this)||Es(tc,this,new Map);const n=ks(tc,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:r}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(r.width,r.height);e.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=e.convertToBlob()}null===(t=r.close)||void 0===t||t.call(r),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(ks(Jl,this),"_"))}}async function ic(e,t){var n;ks(tc,this)||Es(tc,this,new Map);let r=ks(tc,this).get(e);if(null===r)return null;if(null!==(n=r)&&void 0!==n&&n.bitmap)return r.refCounter+=1,r;try{var i,a;let e;if(r||(r={bitmap:null,id:"image_".concat(ks(Jl,this),"_").concat((Es(ec,this,(i=ks(ec,this),a=i++,i)),a)),refCounter:0,isSvg:!1}),"string"===typeof t?(r.url=t,e=await cl(t,"blob")):t instanceof File?e=r.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=ss._isSVGFittingCanvas,n=new FileReader,i=new Image,a=new Promise(((e,a)=>{i.onload=()=>{r.bitmap=i,r.isSvg=!0,e()},n.onload=async()=>{const e=r.svgUrl=n.result;i.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},i.onerror=n.onerror=a}));n.readAsDataURL(e),await a}else r.bitmap=await createImageBitmap(e);r.refCounter=1}catch(ik){console.error(ik),r=null}return ks(tc,this).set(e,r),r&&ks(tc,this).set(r.id,r),r}ss=rc;var ac=new WeakMap,sc=new WeakMap,oc=new WeakMap,lc=new WeakMap;class cc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;xs(this,ac,[]),xs(this,sc,!1),xs(this,oc,void 0),xs(this,lc,-1),Es(oc,this,e)}add(e){let{cmd:t,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}=e;if(i&&t(),ks(sc,this))return;const l={cmd:t,undo:n,post:r,type:a};if(-1===ks(lc,this))return ks(ac,this).length>0&&(ks(ac,this).length=0),Es(lc,this,0),void ks(ac,this).push(l);if(s&&ks(ac,this)[ks(lc,this)].type===a)return o&&(l.undo=ks(ac,this)[ks(lc,this)].undo),void(ks(ac,this)[ks(lc,this)]=l);const c=ks(lc,this)+1;c===ks(oc,this)?ks(ac,this).splice(0,1):(Es(lc,this,c),c<ks(ac,this).length&&ks(ac,this).splice(c)),ks(ac,this).push(l)}undo(){if(-1===ks(lc,this))return;Es(sc,this,!0);const{undo:e,post:t}=ks(ac,this)[ks(lc,this)];e(),null===t||void 0===t||t(),Es(sc,this,!1),Es(lc,this,ks(lc,this)-1)}redo(){if(ks(lc,this)<ks(ac,this).length-1){Es(lc,this,ks(lc,this)+1),Es(sc,this,!0);const{cmd:e,post:t}=ks(ac,this)[ks(lc,this)];e(),null===t||void 0===t||t(),Es(sc,this,!1)}}hasSomethingToUndo(){return-1!==ks(lc,this)}hasSomethingToRedo(){return ks(lc,this)<ks(ac,this).length-1}destroy(){Es(ac,this,null)}}var uc=new WeakSet;class dc{constructor(e){bs(this,uc),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=zo.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(ws(uc,this,hc).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:a=[],checker:s=null}}=n;s&&!s(e,t)||(r.bind(e,...a,t)(),i||(t.stopPropagation(),t.preventDefault()))}}function hc(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class fc{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,kl(r))}t.remove()}(e),Po(this,"_colors",e)}convert(e){const t=kl(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return fc._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Vo.makeHexColor(...t):e}}De(fc,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var pc=new WeakMap,mc=new WeakMap,gc=new WeakMap,vc=new WeakMap,yc=new WeakMap,bc=new WeakMap,xc=new WeakMap,wc=new WeakMap,_c=new WeakMap,kc=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,Sc=new WeakMap,jc=new WeakMap,Cc=new WeakMap,Nc=new WeakMap,Tc=new WeakMap,Pc=new WeakMap,Oc=new WeakMap,Mc=new WeakMap,Lc=new WeakMap,Rc=new WeakMap,Ic=new WeakMap,Dc=new WeakMap,Fc=new WeakMap,qc=new WeakMap,Bc=new WeakMap,Uc=new WeakMap,Wc=new WeakMap,zc=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,$c=new WeakMap,Jc=new WeakMap,eu=new WeakMap,tu=new WeakSet;class nu{static get _keyboardManager(){const e=nu.prototype,t=e=>ks($c,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Po(this,"_keyboardManager",new dc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&ks($c,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&ks($c,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,r,i,a,s,o,l,c,u){bs(this,tu),xs(this,pc,new AbortController),xs(this,mc,null),xs(this,gc,new Map),xs(this,vc,new Map),xs(this,yc,null),xs(this,bc,null),xs(this,xc,null),xs(this,wc,new cc),xs(this,_c,null),xs(this,kc,0),xs(this,Ec,new Set),xs(this,Ac,null),xs(this,Sc,null),xs(this,jc,new Set),xs(this,Cc,!1),xs(this,Nc,!1),xs(this,Tc,!1),xs(this,Pc,null),xs(this,Oc,null),xs(this,Mc,null),xs(this,Lc,null),xs(this,Rc,!1),xs(this,Ic,null),xs(this,Dc,new $l),xs(this,Fc,!1),xs(this,qc,!1),xs(this,Bc,null),xs(this,Uc,null),xs(this,Wc,null),xs(this,zc,null),xs(this,Hc,Bs.NONE),xs(this,Vc,new Set),xs(this,Gc,null),xs(this,Kc,null),xs(this,Xc,null),xs(this,Yc,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),xs(this,Qc,[0,0]),xs(this,Zc,null),xs(this,$c,null),xs(this,Jc,null),xs(this,eu,null);const d=this._signal=ks(pc,this).signal;Es($c,this,e),Es(Jc,this,t),Es(yc,this,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:d}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:d}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:d}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:d}),r._on("setpreference",this.onSetPreference.bind(this),{signal:d}),r._on("switchannotationeditorparams",(e=>this.updateParams(e.type,e.value)),{signal:d}),ws(tu,this,lu).call(this),ws(tu,this,mu).call(this),ws(tu,this,du).call(this),Es(bc,this,i.annotationStorage),Es(Pc,this,i.filterFactory),Es(Kc,this,a),Es(Lc,this,s||null),Es(Cc,this,o),Es(Nc,this,l),Es(Tc,this,c),Es(zc,this,u||null),this.viewParameters={realScale:ll.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){var e,t,n,r;null===(e=ks(eu,this))||void 0===e||e.resolve(),Es(eu,this,null),null===(t=ks(pc,this))||void 0===t||t.abort(),Es(pc,this,null),this._signal=null;for(const i of ks(vc,this).values())i.destroy();ks(vc,this).clear(),ks(gc,this).clear(),ks(jc,this).clear(),Es(mc,this,null),ks(Vc,this).clear(),ks(wc,this).destroy(),null===(n=ks(yc,this))||void 0===n||n.destroy(),null===(r=ks(Ic,this))||void 0===r||r.hide(),Es(Ic,this,null),ks(Oc,this)&&(clearTimeout(ks(Oc,this)),Es(Oc,this,null)),ks(Zc,this)&&(clearTimeout(ks(Zc,this)),Es(Zc,this,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return ks(zc,this)}get useNewAltTextFlow(){return ks(Nc,this)}get useNewAltTextWhenAddingImage(){return ks(Tc,this)}get hcmFilter(){return Po(this,"hcmFilter",ks(Kc,this)?ks(Pc,this).addHCMFilter(ks(Kc,this).foreground,ks(Kc,this).background):"none")}get direction(){return Po(this,"direction",getComputedStyle(ks($c,this)).direction)}get highlightColors(){return Po(this,"highlightColors",ks(Lc,this)?new Map(ks(Lc,this).split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return Po(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){Es(Wc,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=ks(yc,this))||void 0===t||t.editAltText(this,e,n)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)Es(Tc,this,n)}onPageChanging(e){let{pageNumber:t}=e;Es(kc,this,t-1)}focusMainContainer(){ks($c,this).focus()}findParent(e,t){for(const n of ks(vc,this).values()){const{x:r,y:i,width:a,height:s}=n.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=i&&t<=i+s)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ks(Jc,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){ks(jc,this).add(e)}removeShouldRescale(e){ks(jc,this).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*ll.PDF_TO_CSS_UNITS;for(const n of ks(jc,this))n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t,s=t.toString(),o=ws(tu,this,ru).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=ws(tu,this,iu).call(this,o),u=ks(Hc,this)===Bs.NONE,d=()=>{null===c||void 0===c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a,text:s}),u&&this.showAllEditors("highlight",!0,!0)};u?this.switchToMode(Bs.HIGHLIGHT,d):d()}addToAnnotationStorage(e){e.isEmpty()||!ks(bc,this)||ks(bc,this).has(e.id)||ks(bc,this).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,ks(Rc,this)&&(Es(Rc,this,!1),ws(tu,this,ou).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of ks(Vc,this))if(t.div.contains(e)){Es(Uc,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!ks(Uc,this))return;const[e,t]=ks(Uc,this);Es(Uc,this,null),t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ws(tu,this,du).call(this),ws(tu,this,fu).call(this)}removeEditListeners(){ws(tu,this,hu).call(this),ws(tu,this,pu).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of ks(Sc,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of ks(Sc,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=ks(mc,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of ks(Vc,this)){const e=r.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of ks(Sc,this))if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void jo('paste: "'.concat(i.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const a of n){const t=await r.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)ws(tu,this,xu).call(this,t);ws(tu,this,ku).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){jo('paste: "'.concat(i.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),ks(Hc,this)===Bs.NONE||this.isEditorHandlingKeyboard||nu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,ks(Rc,this)&&(Es(Rc,this,!1),ws(tu,this,ou).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?(ws(tu,this,cu).call(this),ws(tu,this,fu).call(this),ws(tu,this,gu).call(this,{isEditing:ks(Hc,this)!==Bs.NONE,isEmpty:ws(tu,this,_u).call(this),hasSomethingToUndo:ks(wc,this).hasSomethingToUndo(),hasSomethingToRedo:ks(wc,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(ws(tu,this,uu).call(this),ws(tu,this,pu).call(this),ws(tu,this,gu).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!ks(Sc,this)){Es(Sc,this,e);for(const e of ks(Sc,this))ws(tu,this,vu).call(this,e.defaultPropertiesToUpdate)}}getId(){return ks(Dc,this).id}get currentLayer(){return ks(vc,this).get(ks(kc,this))}getLayer(e){return ks(vc,this).get(e)}get currentPageIndex(){return ks(kc,this)}addLayer(e){ks(vc,this).set(e.pageIndex,e),ks(Fc,this)?e.enable():e.disable()}removeLayer(e){ks(vc,this).delete(e.pageIndex)}async updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ks(Hc,this)!==e&&(!ks(eu,this)||(await ks(eu,this).promise,ks(eu,this)))){if(Es(eu,this,Promise.withResolvers()),Es(Hc,this,e),e===Bs.NONE)return this.setEditingState(!1),ws(tu,this,bu).call(this),void ks(eu,this).resolve();this.setEditingState(!0),await ws(tu,this,yu).call(this),this.unselectAll();for(const t of ks(vc,this).values())t.updateMode(e);if(!t)return n&&this.addNewEditorFromKeyboard(),void ks(eu,this).resolve();for(const e of ks(gc,this).values())e.annotationElementId===t?(this.setSelected(e),e.enterInEditMode()):e.unselect();ks(eu,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==ks(Hc,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(ks(Sc,this)){switch(e){case Us.CREATE:return void this.currentLayer.addNewEditor();case Us.HIGHLIGHT_DEFAULT_COLOR:null===(n=ks(Wc,this))||void 0===n||n.updateColor(t);break;case Us.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(ks(Xc,this)||Es(Xc,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const n of ks(Vc,this))n.updateParams(e,t);for(const n of ks(Sc,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,r;for(const i of ks(gc,this).values())i.editorType===e&&i.show(t);(null===(n=null===(r=ks(Xc,this))||void 0===r?void 0:r.get(Us.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&ws(tu,this,vu).call(this,[[Us.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(ks(qc,this)!==e){Es(qc,this,e);for(const t of ks(vc,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of ks(gc,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return ks(gc,this).get(e)}addEditor(e){ks(gc,this).set(e.id,e)}removeEditor(e){var t;(e.div.contains(document.activeElement)&&(ks(Oc,this)&&clearTimeout(ks(Oc,this)),Es(Oc,this,setTimeout((()=>{this.focusMainContainer(),Es(Oc,this,null)}),0))),ks(gc,this).delete(e.id),this.unselect(e),e.annotationElementId&&ks(Ec,this).has(e.annotationElementId))||(null===(t=ks(bc,this))||void 0===t||t.remove(e.id))}addDeletedAnnotationElement(e){ks(Ec,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return ks(Ec,this).has(e)}removeDeletedAnnotationElement(e){ks(Ec,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){ks(mc,this)!==e&&(Es(mc,this,e),e&&ws(tu,this,vu).call(this,e.propertiesToUpdate))}updateUI(e){_s(tu,this,wu)===e&&ws(tu,this,vu).call(this,e.propertiesToUpdate)}toggleSelected(e){if(ks(Vc,this).has(e))return ks(Vc,this).delete(e),e.unselect(),void ws(tu,this,gu).call(this,{hasSelectedEditor:this.hasSelection});ks(Vc,this).add(e),e.select(),ws(tu,this,vu).call(this,e.propertiesToUpdate),ws(tu,this,gu).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of ks(Vc,this))t!==e&&t.unselect();ks(Vc,this).clear(),ks(Vc,this).add(e),e.select(),ws(tu,this,vu).call(this,e.propertiesToUpdate),ws(tu,this,gu).call(this,{hasSelectedEditor:!0})}isSelected(e){return ks(Vc,this).has(e)}get firstSelectedEditor(){return ks(Vc,this).values().next().value}unselect(e){e.unselect(),ks(Vc,this).delete(e),ws(tu,this,gu).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==ks(Vc,this).size}get isEnterHandled(){return 1===ks(Vc,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){ks(wc,this).undo(),ws(tu,this,gu).call(this,{hasSomethingToUndo:ks(wc,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ws(tu,this,_u).call(this)})}redo(){ks(wc,this).redo(),ws(tu,this,gu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ks(wc,this).hasSomethingToRedo(),isEmpty:ws(tu,this,_u).call(this)})}addCommands(e){ks(wc,this).add(e),ws(tu,this,gu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ws(tu,this,_u).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...ks(Vc,this)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)ws(tu,this,xu).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=ks(mc,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return ks(mc,this)||this.hasSelection}selectAll(){for(const e of ks(Vc,this))e.commit();ws(tu,this,ku).call(this,ks(gc,this).values())}unselectAll(){if((!ks(mc,this)||(ks(mc,this).commitOrRemove(),ks(Hc,this)===Bs.NONE))&&this.hasSelection){for(const e of ks(Vc,this))e.unselect();ks(Vc,this).clear(),ws(tu,this,gu).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;ks(Qc,this)[0]+=e,ks(Qc,this)[1]+=t;const[n,r]=ks(Qc,this),i=[...ks(Vc,this)];ks(Zc,this)&&clearTimeout(ks(Zc,this)),Es(Zc,this,setTimeout((()=>{Es(Zc,this,null),ks(Qc,this)[0]=ks(Qc,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)ks(gc,this).has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of i)ks(gc,this).has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3));for(const a of i)a.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Es(Ac,this,new Map);for(const e of ks(Vc,this))ks(Ac,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!ks(Ac,this))return!1;this.disableUserSelect(!1);const e=ks(Ac,this);Es(Ac,this,null);let t=!1;for(const[{x:r,y:i,pageIndex:a},s]of e)s.newX=r,s.newY=i,s.newPageIndex=a,t||(t=r!==s.savedX||i!==s.savedY||a!==s.savedPageIndex);if(!t)return!1;const n=(e,t,n,r)=>{if(ks(gc,this).has(e.id)){const i=ks(vc,this).get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:a}]of e)n(t,r,i,a)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:a}]of e)n(t,r,i,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(ks(Ac,this))for(const n of ks(Ac,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===ks(Vc,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return ks(mc,this)===e}getActive(){return ks(mc,this)}getMode(){return ks(Hc,this)}get imageManager(){return Po(this,"imageManager",new rc)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(e,t,s,o)=>({x:(t-r)/a,y:1-(e+s-n)/i,width:o/a,height:s/i});break;case"180":s=(e,t,s,o)=>({x:1-(e+s-n)/i,y:1-(t+o-r)/a,width:s/i,height:o/a});break;case"270":s=(e,t,s,o)=>({x:1-(t+o-r)/a,y:(e-n)/i,width:o/a,height:s/i});break;default:s=(e,t,s,o)=>({x:(e-n)/i,y:(t-r)/a,width:s/i,height:o/a})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:r,height:i}of e.getClientRects())0!==r&&0!==i&&o.push(s(t,n,r,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(ks(xc,this)||Es(xc,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=ks(xc,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=ks(xc,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const r=ks(bc,this).getRawValue(n);r&&(ks(Hc,this)!==Bs.NONE||r.hasBeenModified)&&r.renderAnnotationElement(e)}}function ru(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function iu(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of ks(vc,this).values())if(n.hasTextLayer(e))return n;return null}function au(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=ws(tu,this,ru).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(ks(Ic,this)||Es(Ic,this,new Gl(this)),ks(Ic,this).show(t,n,"ltr"===this.direction))}function su(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(ks(Gc,this))null===(n=ks(Ic,this))||void 0===n||n.hide(),Es(Gc,this,null),ws(tu,this,gu).call(this,{hasSelectedText:!1});return}const{anchorNode:r}=t;if(r===ks(Gc,this))return;const i=ws(tu,this,ru).call(this,t).closest(".textLayer");var a;if(i){if(null===(e=ks(Ic,this))||void 0===e||e.hide(),Es(Gc,this,r),ws(tu,this,gu).call(this,{hasSelectedText:!0}),(ks(Hc,this)===Bs.HIGHLIGHT||ks(Hc,this)===Bs.NONE)&&(ks(Hc,this)===Bs.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Es(Rc,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=ks(Hc,this)===Bs.HIGHLIGHT?ws(tu,this,iu).call(this,i):null;null===e||void 0===e||e.toggleDrawing();const t=new AbortController,n=this.combinedSignal(t),r=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&ws(tu,this,ou).call(this,"main_toolbar"))};window.addEventListener("pointerup",r,{signal:n}),window.addEventListener("blur",r,{signal:n})}}else ks(Gc,this)&&(null===(a=ks(Ic,this))||void 0===a||a.hide(),Es(Gc,this,null),ws(tu,this,gu).call(this,{hasSelectedText:!1}))}function ou(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";ks(Hc,this)===Bs.HIGHLIGHT?this.highlightSelection(e):ks(Cc,this)&&ws(tu,this,au).call(this)}function lu(){document.addEventListener("selectionchange",ws(tu,this,su).bind(this),{signal:this._signal})}function cu(){if(ks(Mc,this))return;Es(Mc,this,new AbortController);const e=this.combinedSignal(ks(Mc,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function uu(){var e;null===(e=ks(Mc,this))||void 0===e||e.abort(),Es(Mc,this,null)}function du(){if(ks(Bc,this))return;Es(Bc,this,new AbortController);const e=this.combinedSignal(ks(Bc,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function hu(){var e;null===(e=ks(Bc,this))||void 0===e||e.abort(),Es(Bc,this,null)}function fu(){if(ks(_c,this))return;Es(_c,this,new AbortController);const e=this.combinedSignal(ks(_c,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function pu(){var e;null===(e=ks(_c,this))||void 0===e||e.abort(),Es(_c,this,null)}function mu(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function gu(e){Object.entries(e).some((e=>{let[t,n]=e;return ks(Yc,this)[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ks(Yc,this),e)}),ks(Hc,this)===Bs.HIGHLIGHT&&!1===e.hasSelectedEditor&&ws(tu,this,vu).call(this,[[Us.HIGHLIGHT_FREE,!0]]))}function vu(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function yu(){if(!ks(Fc,this)){Es(Fc,this,!0);const e=[];for(const t of ks(vc,this).values())e.push(t.enable());await Promise.all(e);for(const t of ks(gc,this).values())t.enable()}}function bu(){if(this.unselectAll(),ks(Fc,this)){Es(Fc,this,!1);for(const e of ks(vc,this).values())e.disable();for(const e of ks(gc,this).values())e.disable()}}function xu(e){const t=ks(vc,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function wu(e){let t=null;for(t of ks(Vc,e));return t}function _u(){if(0===ks(gc,this).size)return!0;if(1===ks(gc,this).size)for(const e of ks(gc,this).values())return e.isEmpty();return!1}function ku(e){for(const t of ks(Vc,this))t.unselect();ks(Vc,this).clear();for(const t of e)t.isEmpty()||(ks(Vc,this).add(t),t.select());ws(tu,this,gu).call(this,{hasSelectedEditor:this.hasSelection})}De(nu,"TRANSLATE_SMALL",1),De(nu,"TRANSLATE_BIG",10);var Eu=new WeakMap,Au=new WeakMap,Su=new WeakMap,ju=new WeakMap,Cu=new WeakMap,Nu=new WeakMap,Tu=new WeakMap,Pu=new WeakMap,Ou=new WeakMap,Mu=new WeakMap,Lu=new WeakMap,Ru=new WeakMap,Iu=new WeakSet;class Du{constructor(e){bs(this,Iu),xs(this,Eu,null),xs(this,Au,!1),xs(this,Su,null),xs(this,ju,null),xs(this,Cu,null),xs(this,Nu,null),xs(this,Tu,!1),xs(this,Pu,null),xs(this,Ou,null),xs(this,Mu,null),xs(this,Lu,null),xs(this,Ru,!1),Es(Ou,this,e),Es(Ru,this,e._uiManager.useNewAltTextFlow),Bu._||(Bu._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=Du._l10n)&&void 0!==t||(Du._l10n=e)}async render(){const e=Es(Su,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=Es(ju,this,document.createElement("span"));e.append(t),ks(Ru,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",Bu._.missing),t.setAttribute("data-l10n-id",Bu._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=ks(Ou,this)._uiManager._signal;e.addEventListener("contextmenu",yl,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const r=e=>{e.preventDefault(),ks(Ou,this)._uiManager.editAltText(ks(Ou,this)),ks(Ru,this)&&ks(Ou,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:_s(Iu,this,Fu)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(Es(Tu,this,!0),r(t))}),{signal:n}),await ws(Iu,this,qu).call(this),e}finish(){ks(Su,this)&&(ks(Su,this).focus({focusVisible:ks(Tu,this)}),Es(Tu,this,!1))}isEmpty(){return ks(Ru,this)?null===ks(Eu,this):!ks(Eu,this)&&!ks(Au,this)}hasData(){return ks(Ru,this)?null!==ks(Eu,this)||!!ks(Mu,this):this.isEmpty()}get guessedText(){return ks(Mu,this)}async setGuessedText(e){null===ks(Eu,this)&&(Es(Mu,this,e),Es(Lu,this,await Du._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ws(Iu,this,qu).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!ks(Ru,this)||ks(Eu,this))return null===(t=ks(Pu,this))||void 0===t||t.remove(),void Es(Pu,this,null);if(!ks(Pu,this)){const e=Es(Pu,this,document.createElement("div"));e.className="noAltTextBadge",ks(Ou,this).div.append(e)}ks(Pu,this).classList.toggle("hidden",!e)}serialize(e){let t=ks(Eu,this);return e||ks(Mu,this)!==t||(t=ks(Lu,this)),{altText:t,decorative:ks(Au,this),guessedText:ks(Mu,this),textWithDisclaimer:ks(Lu,this)}}get data(){return{altText:ks(Eu,this),decorative:ks(Au,this)}}set data(e){let{altText:t,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}=e;r&&(Es(Mu,this,r),Es(Lu,this,i)),ks(Eu,this)===t&&ks(Au,this)===n||(a||(Es(Eu,this,t),Es(Au,this,n)),ws(Iu,this,qu).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ks(Su,this)&&(!e&&ks(Nu,this)&&(clearTimeout(ks(Nu,this)),Es(Nu,this,null)),ks(Su,this).disabled=!e)}shown(){ks(Ou,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:_s(Iu,this,Fu)}})}destroy(){var e,t;null===(e=ks(Su,this))||void 0===e||e.remove(),Es(Su,this,null),Es(ju,this,null),Es(Cu,this,null),null===(t=ks(Pu,this))||void 0===t||t.remove(),Es(Pu,this,null)}}function Fu(e){return(ks(Eu,e)?"added":null===ks(Eu,e)&&e.guessedText&&"review")||"missing"}async function qu(){const e=ks(Su,this);if(!e)return;if(ks(Ru,this)){var t,n;if(e.classList.toggle("done",!!ks(Eu,this)),e.setAttribute("data-l10n-id",Bu._[_s(Iu,this,Fu)]),null===(t=ks(ju,this))||void 0===t||t.setAttribute("data-l10n-id",Bu._["".concat(_s(Iu,this,Fu),"-label")]),!ks(Eu,this))return void(null===(n=ks(Cu,this))||void 0===n||n.remove())}else{var r;if(!ks(Eu,this)&&!ks(Au,this))return e.classList.remove("done"),void(null===(r=ks(Cu,this))||void 0===r||r.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=ks(Cu,this);if(!i){Es(Cu,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(ks(Ou,this).id);const t=100,n=ks(Ou,this)._uiManager._signal;n.addEventListener("abort",(()=>{clearTimeout(ks(Nu,this)),Es(Nu,this,null)}),{once:!0}),e.addEventListener("mouseenter",(()=>{Es(Nu,this,setTimeout((()=>{Es(Nu,this,null),ks(Cu,this).classList.add("show"),ks(Ou,this)._reportTelemetry({action:"alt_text_tooltip"})}),t))}),{signal:n}),e.addEventListener("mouseleave",(()=>{var e;ks(Nu,this)&&(clearTimeout(ks(Nu,this)),Es(Nu,this,null)),null===(e=ks(Cu,this))||void 0===e||e.classList.remove("show")}),{signal:n})}ks(Au,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=ks(Eu,this)),i.parentNode||e.append(i);const a=ks(Ou,this).getImageForAltText();null===a||void 0===a||a.setAttribute("aria-describedby",i.id)}var Bu={_:null};De(Du,"_l10n",null);var Uu=new WeakMap,Wu=new WeakMap,zu=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,Ku=new WeakMap,Xu=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,Zu=new WeakMap,$u=new WeakMap,Ju=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,id=new WeakMap,ad=new WeakMap,sd=new WeakMap,od=new WeakSet;class ld{static get _resizerKeyboardManager(){const e=ld.prototype._resizeWithKeyboard,t=nu.TRANSLATE_SMALL,n=nu.TRANSLATE_BIG;return Po(this,"_resizerKeyboardManager",new dc([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ld.prototype._stopResizingWithKeyboard]]))}constructor(e){bs(this,od),xs(this,Uu,null),xs(this,Wu,null),xs(this,zu,null),xs(this,Hu,!1),xs(this,Vu,!1),xs(this,Gu,null),xs(this,Ku,null),xs(this,Xu,null),xs(this,Yu,""),xs(this,Qu,!1),xs(this,Zu,null),xs(this,$u,!1),xs(this,Ju,!1),xs(this,ed,!1),xs(this,td,null),xs(this,nd,0),xs(this,rd,0),xs(this,id,null),De(this,"_editToolbar",null),De(this,"_initialOptions",Object.create(null)),De(this,"_initialData",null),De(this,"_isVisible",!0),De(this,"_uiManager",null),De(this,"_focusEventsAllowed",!0),xs(this,ad,!1),xs(this,sd,ld._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,a];const[s,o]=this.parentDimensions;this.x=e.x/s,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Po(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Ed({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=ld._l10n)&&void 0!==n||(ld._l10n=e),ld._l10nResizer||(ld._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==ld._borderLineWidth)return;const r=getComputedStyle(document.documentElement);ld._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Co("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return ks(ad,this)}set _isDraggable(e){var t;Es(ad,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ks(sd,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ws(od,this,kd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(ks(Qu,this)?Es(Qu,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/a,this.fixAndSetPosition()}translate(e,t){ws(od,this,cd).call(this,this.parentDimensions,e,t)}translateInPage(e,t){ks(Zu,this)||Es(Zu,this,[this.x,this.y]),ws(od,this,cd).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){ks(Zu,this)||Es(Zu,this,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:a}=this;const[s,o]=this.getBaseTranslation();i+=s,a+=o,this.div.style.left="".concat((100*i).toFixed(2),"%"),this.div.style.top="".concat((100*a).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!ks(Zu,this)&&(ks(Zu,this)[0]!==this.x||ks(Zu,this)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=ld,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:r,y:i,width:a,height:s}=this;if(a*=t,s*=n,r*=t,i*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),i=Math.max(0,Math.min(n-s,i));break;case 90:r=Math.max(0,Math.min(t-s,r)),i=Math.min(n,Math.max(a,i));break;case 180:r=Math.min(t,Math.max(a,r)),i=Math.min(n,Math.max(s,i));break;case 270:r=Math.min(t,Math.max(s,r)),i=Math.max(0,Math.min(n-a,i))}this.x=r/=t,this.y=i/=n;const[o,l]=this.getBaseTranslation();r+=o,i+=l;const{style:c}=this.div;c.left="".concat((100*r).toFixed(2),"%"),c.top="".concat((100*i).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return ud.call(ld,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return ud.call(ld,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width="".concat((100*e/n).toFixed(2),"%"),ks(Vu,this)||(this.div.style.height="".concat((100*t/r).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!ks(Vu,this)&&t.endsWith("%");if(r&&i)return;const[a,s]=this.parentDimensions;r||(e.width="".concat((100*parseFloat(n)/a).toFixed(2),"%")),ks(Vu,this)||i||(e.height="".concat((100*parseFloat(t)/s).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}altTextFinish(){var e;null===(e=ks(zu,this))||void 0===e||e.finish()}async addEditToolbar(){return this._editToolbar||ks(Ju,this)||(this._editToolbar=new Ll(this),this.div.append(this._editToolbar.render()),ks(zu,this)&&await this._editToolbar.addAltText(ks(zu,this))),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=ks(zu,this))||void 0===e||e.destroy())}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){ks(zu,this)||(Du.initialize(ld._l10n),Es(zu,this,new Du(this)),ks(Uu,this)&&(ks(zu,this).data=ks(Uu,this),Es(Uu,this,null)),await this.addEditToolbar())}get altTextData(){var e;return null===(e=ks(zu,this))||void 0===e?void 0:e.data}set altTextData(e){ks(zu,this)&&(ks(zu,this).data=e)}get guessedAltText(){var e;return null===(e=ks(zu,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=ks(zu,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=ks(zu,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!ks(zu,this)&&!ks(zu,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=ks(zu,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=ks(Hu,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ws(od,this,yd).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[n,r]=this.getInitialTranslation();return this.translate(n,r),Ql(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=zo.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(Es(Qu,this,!0),this._isDraggable?ws(od,this,vd).call(this,e):ws(od,this,gd).call(this,e))}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){ks(td,this)&&clearTimeout(ks(td,this)),Es(td,this,setTimeout((()=>{var e;Es(td,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}),0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,a]=this.pageDimensions,[s,o]=this.pageTranslation,l=e/r,c=t/r,u=this.x*i,d=this.y*a,h=this.width*i,f=this.height*a;switch(n){case 0:return[u+l+s,a-d-c-f+o,u+l+h+s,a-d-c+o];case 90:return[u+c+s,a-d+l+o,u+c+f+s,a-d+l+h+o];case 180:return[u-l-h+s,a-d+c+o,u-l+s,a-d+c+f+o];case 270:return[u-c-f+s,a-d-l-h+o,u-c+s,a-d-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,a]=e,s=i-n,o=a-r;switch(this.rotation){case 0:return[n,t-a,s,o];case 90:return[n,t-r,o,s];case 180:return[i,t-r,s,o];case 270:return[i,t-a,o,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Es(Ju,this,!0)}disableEditMode(){Es(Ju,this,!1)}isInEditMode(){return ks(Ju,this)}shouldGetKeyboardEvents(){return ks(ed,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){ws(od,this,yd).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){Co("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,Es(Uu,r,e.accessibilityData);const[i,a]=r.pageDimensions,[s,o,l,c]=r.getRectInCurrentCoords(e.rect,a);return r.x=s/i,r.y=o/a,r.width=l/i,r.height=c/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e;if(null===(e=ks(Xu,this))||void 0===e||e.abort(),Es(Xu,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),ks(td,this)&&(clearTimeout(ks(td,this)),Es(td,this,null)),ws(od,this,kd).call(this),this.removeEditToolbar(),ks(id,this)){for(const e of ks(id,this).values())clearTimeout(e);Es(id,this,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(ws(od,this,hd).call(this),ks(Gu,this).classList.remove("hidden"),Ql(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),Es(Ku,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=ks(Gu,this).children;if(!ks(Wu,this)){Es(Wu,this,Array.from(t));const e=ws(od,this,bd).bind(this),n=ws(od,this,xd).bind(this),r=this._uiManager._signal;for(const t of ks(Wu,this)){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:r}),t.addEventListener("blur",n,{signal:r}),t.addEventListener("focus",ws(od,this,wd).bind(this,i),{signal:r}),t.setAttribute("data-l10n-id",ld._l10nResizer[i])}}const n=ks(Wu,this)[0];let r=0;for(const a of t){if(a===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(ks(Wu,this).length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)ks(Gu,this).append(ks(Gu,this).firstChild);else if(i>r)for(let t=0;t<i-r;t++)ks(Gu,this).firstChild.before(ks(Gu,this).lastChild);let e=0;for(const n of t){const t=ks(Wu,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",ld._l10nResizer[t])}}ws(od,this,_d).call(this,0),Es(ed,this,!0),ks(Gu,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){ks(ed,this)&&ws(od,this,md).call(this,ks(Yu,this),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){ws(od,this,kd).call(this),this.div.focus()}select(){var e,t,n;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=ks(zu,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())}))}unselect(){var e,t,n,r,i;null===(e=ks(Gu,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(r=this._editToolbar)||void 0===r||r.hide(),null===(i=ks(zu,this))||void 0===i||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return ks($u,this)}set isEditing(e){Es($u,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){Es(Vu,this,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){ks(id,this)||Es(id,this,new Map);const{action:t}=e;let n=ks(id,this).get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),ks(id,this).delete(t),0===ks(id,this).size&&Es(id,this,null)}),ld._telemetryTimeout),void ks(id,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),Es(Hu,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),Es(Hu,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function cd(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this.fixAndSetPosition()}function ud(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function dd(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function hd(){if(ks(Gu,this))return;Es(Gu,this,document.createElement("div")),ks(Gu,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");ks(Gu,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",ws(od,this,fd).bind(this,n),{signal:t}),e.addEventListener("contextmenu",yl,{signal:t}),e.tabIndex=-1}this.div.prepend(ks(Gu,this))}function fd(e,t){var n;t.preventDefault();const{isMac:r}=zo.platform;if(0!==t.button||t.ctrlKey&&r)return;null===(n=ks(zu,this))||void 0===n||n.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ws(od,this,md).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("contextmenu",yl,{signal:s});const o=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var e;a.abort(),this.parent.togglePointerEvents(!0),null===(e=ks(zu,this))||void 0===e||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=d,this.div.style.cursor=h,ws(od,this,pd).call(this,o,l,c,u)};window.addEventListener("pointerup",f,{signal:s}),window.addEventListener("blur",f,{signal:s})}function pd(e,t,n,r){const i=this.x,a=this.y,s=this.width,o=this.height;i===e&&a===t&&s===n&&o===r||this.addCommands({cmd:()=>{this.width=s,this.height=o,this.x=i,this.y=a;const[e,t]=this.parentDimensions;this.setDims(e*s,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*n,a*r),this.fixAndSetPosition()},mustExec:!0})}function md(e,t){const[n,r]=this.parentDimensions,i=this.x,a=this.y,s=this.width,o=this.height,l=os.MIN_SIZE/n,c=os.MIN_SIZE/r,u=e=>Math.round(1e4*e)/1e4,d=ws(od,this,dd).call(this,this.rotation),h=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],f=ws(od,this,dd).call(this,360-this.rotation);let p,m,g=!1,v=!1;switch(e){case"topLeft":g=!0,p=(e,t)=>[0,0],m=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],m=(e,t)=>[e/2,t];break;case"topRight":g=!0,p=(e,t)=>[e,0],m=(e,t)=>[0,t];break;case"middleRight":v=!0,p=(e,t)=>[e,t/2],m=(e,t)=>[0,t/2];break;case"bottomRight":g=!0,p=(e,t)=>[e,t],m=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],m=(e,t)=>[e/2,0];break;case"bottomLeft":g=!0,p=(e,t)=>[0,t],m=(e,t)=>[e,0];break;case"middleLeft":v=!0,p=(e,t)=>[0,t/2],m=(e,t)=>[e,t/2]}const y=p(s,o),b=m(s,o);let x=h(...b);const w=u(i+x[0]),_=u(a+x[1]);let k=1,E=1,[A,S]=this.screenToPageTranslation(t.movementX,t.movementY);if([A,S]=((e,t)=>[f[0]*e+f[2]*t,f[1]*e+f[3]*t])(A/n,S/r),g){const e=Math.hypot(s,o);k=E=Math.max(Math.min(Math.hypot(b[0]-y[0]-A,b[1]-y[1]-S)/e,1/s,1/o),l/s,c/o)}else v?k=Math.max(l,Math.min(1,Math.abs(b[0]-y[0]-A)))/s:E=Math.max(c,Math.min(1,Math.abs(b[1]-y[1]-S)))/o;const j=u(s*k),C=u(o*E);x=h(...m(j,C));const N=w-x[0],T=_-x[1];this.width=j,this.height=C,this.x=N,this.y=T,this.setDims(n*j,r*C),this.fixAndSetPosition()}function gd(e){const{isMac:t}=zo.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function vd(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),Es(nd,this,e.clientX),Es(rd,this,e.clientY);const t=e=>{const{clientX:t,clientY:n}=e,[r,i]=this.screenToPageTranslation(t-ks(nd,this),n-ks(rd,this));Es(nd,this,t),Es(rd,this,n),this._uiManager.dragSelectedEditors(r,i)};window.addEventListener("pointermove",t,{passive:!0,capture:!0,signal:r})}const i=()=>{n.abort(),t&&this.div.classList.remove("moving"),Es(Qu,this,!1),this._uiManager.endDragSession()||ws(od,this,gd).call(this,e)};window.addEventListener("pointerup",i,{signal:r}),window.addEventListener("blur",i,{signal:r})}function yd(){if(ks(Xu,this)||!this.div)return;Es(Xu,this,new AbortController);const e=this._uiManager.combinedSignal(ks(Xu,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function bd(e){os._resizerKeyboardManager.exec(this,e)}function xd(e){var t;ks(ed,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==ks(Gu,this)&&ws(od,this,kd).call(this)}function wd(e){Es(Yu,this,ks(ed,this)?e:"")}function _d(e){if(ks(Wu,this))for(const t of ks(Wu,this))t.tabIndex=e}function kd(){if(Es(ed,this,!1),ws(od,this,_d).call(this,-1),ks(Ku,this)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=ks(Ku,this);ws(od,this,pd).call(this,e,t,n,r),Es(Ku,this,null)}}os=ld,De(ld,"_l10n",null),De(ld,"_l10nResizer",null),De(ld,"_borderLineWidth",-1),De(ld,"_colorManager",new fc),De(ld,"_zIndex",1),De(ld,"_telemetryTimeout",1e3);class Ed extends ld{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Ad=3285377520,Sd=4294901760,jd=65535;class Cd{constructor(e){this.h1=e?4294967295&e:Ad,this.h2=e?4294967295&e:Ad}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const r=n>>2,i=n-4*r,a=new Uint32Array(t.buffer,0,r);let s=0,o=0,l=this.h1,c=this.h2;const u=3432918353,d=461845907,h=11601,f=13715;for(let p=0;p<r;p++)1&p?(s=a[p],s=s*u&Sd|s*h&jd,s=s<<15|s>>>17,s=s*d&Sd|s*f&jd,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[p],o=o*u&Sd|o*h&jd,o=o<<15|o>>>17,o=o*d&Sd|o*f&jd,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,i){case 3:s^=t[4*r+2]<<16;case 2:s^=t[4*r+1]<<8;case 1:s^=t[4*r],s=s*u&Sd|s*h&jd,s=s<<15|s>>>17,s=s*d&Sd|s*f&jd,1&r?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Sd|36045*e&jd,t=4283543511*t&Sd|(2950163797*(t<<16|e>>>16)&Sd)>>>16,e^=t>>>1,e=444984403*e&Sd|60499*e&jd,t=3301882366*t&Sd|(3120437893*(t<<16|e>>>16)&Sd)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Nd=Object.freeze({map:null,hash:"",transfer:void 0});var Td=new WeakMap,Pd=new WeakMap,Od=new WeakMap,Md=new WeakSet;class Ld{constructor(){bs(this,Md),xs(this,Td,!1),xs(this,Pd,null),xs(this,Od,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=ks(Od,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return ks(Od,this).get(e)}remove(e){if(ks(Od,this).delete(e),0===ks(Od,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of ks(Od,this).values())if(e instanceof ld)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=ks(Od,this).get(e);let r=!1;if(void 0!==n)for(const[i,a]of Object.entries(t))n[i]!==a&&(r=!0,n[i]=a);else r=!0,ks(Od,this).set(e,t);r&&ws(Md,this,Rd).call(this),t instanceof ld&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return ks(Od,this).has(e)}getAll(){return ks(Od,this).size>0?Wo(ks(Od,this)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return ks(Od,this).size}resetModified(){ks(Td,this)&&(Es(Td,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Dd(this)}get serializable(){if(0===ks(Od,this).size)return Nd;const e=new Map,t=new Cd,n=[],r=Object.create(null);let i=!1;for(const[a,s]of ks(Od,this)){const n=s instanceof ld?s.serialize(!1,r):s;n&&(e.set(a,n),t.update("".concat(a,":").concat(JSON.stringify(n))),i||(i=!!n.bitmap))}if(i)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Nd}get editorStats(){let e=null;const t=new Map;for(const i of ks(Od,this).values()){var n;if(!(i instanceof ld))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:s}=a;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=(n=e)[s]||(n[s]=new Map);for(const[e,t]of Object.entries(a)){var r;if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const i=null!==(r=n.get(t))&&void 0!==r?r:0;n.set(t,i+1)}}for(const[i,a]of t)e[i]=a.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){Es(Pd,this,null)}get modifiedIds(){if(ks(Pd,this))return ks(Pd,this);const e=[];for(const t of ks(Od,this).values())t instanceof ld&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return Es(Pd,this,{ids:new Set(e),hash:e.join(",")})}}function Rd(){ks(Td,this)||(Es(Td,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var Id=new WeakMap;class Dd extends Ld{constructor(e){super(),xs(this,Id,void 0);const{map:t,hash:n,transfer:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);Es(Id,this,{map:i,hash:n,transfer:r})}get print(){Co("Should not call PrintAnnotationStorage.print")}get serializable(){return ks(Id,this)}get modifiedIds(){return Po(this,"modifiedIds",{ids:new Set,hash:""})}}var Fd=new WeakMap;class qd{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;xs(this,Fd,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),ks(Fd,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!ks(Fd,this).has(t.loadedName))if(No(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:i,style:a}=t,s=new FontFace(e,i,a);this.addNativeFontFace(s);try{await s.load(),ks(Fd,this).add(e),null===n||void 0===n||n(t)}catch(r){jo("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(s)}}else Co("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw jo("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){var e;return Po(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){var e;let t=!1;return(js||"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Po(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(No(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return Po(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let i,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=r(u,976,c.length,c);const d=1482184792;let h=n(u,16);for(i=0,a=c.length-3;i<a;i+=4)h=h-d+n(c,i)|0;var f;i<c.length&&(h=h-d+n(c+"XXX",i)|0),u=r(u,16,4,(f=h,String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f)));const p="url(data:font/opentype;base64,".concat(btoa(u),");"),m='@font-face {font-family:"'.concat(c,'";src:').concat(p,"}");this.insertRule(m);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return jo("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{g.remove(),t.complete()}))}}class Bd{constructor(e,t){let{disableFontFace:n=!1,inspectFont:r=null}=t;this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=!0===n,this._inspectFont=r}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat((n=this.data,Uint8Array.prototype.toBase64?n.toBase64():btoa(Bo(n))),");");var n;let r;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),r='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else r='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){jo('getPathGenerator - ignoring character: "'.concat(i,'".'))}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const r=[];for(let a=0,s=n.length;a<s;)switch(n[a++]){case $o:{const[e,t,i,s,o,l]=n.slice(a,a+6);r.push((n=>n.bezierCurveTo(e,t,i,s,o,l))),a+=6}break;case Jo:{const[e,t]=n.slice(a,a+2);r.push((n=>n.moveTo(e,t))),a+=2}break;case el:{const[e,t]=n.slice(a,a+2);r.push((n=>n.lineTo(e,t))),a+=2}break;case tl:{const[e,t,i,s]=n.slice(a,a+4);r.push((n=>n.quadraticCurveTo(e,t,i,s))),a+=4}break;case nl:r.push((e=>e.restore()));break;case rl:r.push((e=>e.save()));break;case il:No(2===r.length,"Scale command is only valid at the third position.");break;case al:{const[e,t,i,s,o,l]=n.slice(a,a+6);r.push((n=>n.transform(e,t,i,s,o,l))),a+=6}break;case sl:{const[e,t]=n.slice(a,a+2);r.push((n=>n.translate(e,t))),a+=2}}return this.compiledGlyphs[t]=function(e,t){r[0](e),r[1](e),e.scale(t,-t);for(let n=2,i=r.length;n<i;n++)r[n](e)}}}var Ud=new WeakMap;class Wd{constructor(e){let{enableHWA:t=!1}=e;xs(this,Ud,!1),Es(Ud,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!ks(Ud,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Co("Abstract method `_createCanvas` called.")}}class zd{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then((e=>({cMapData:e,isCompressed:this.isCompressed}))).catch((e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}async _fetch(e){Co("Abstract method `_fetch` called.")}}class Hd extends zd{async _fetch(e){const t=await cl(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Uo(t)}}class Vd{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,i){return"none"}destroy(){}}var Gd=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,$d=new WeakMap,Jd=new WeakSet;function eh(e){return ks(Kd,e)||Es(Kd,e,new Map)}function th(e){return ks(Zd,e)||Es(Zd,e,new Map)}function nh(e){if(!ks(Xd,e)){const t=ks(Qd,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=ks(Qd,e).createElementNS(ol,"svg");r.setAttribute("width",0),r.setAttribute("height",0),Es(Xd,e,ks(Qd,e).createElementNS(ol,"defs")),t.append(r),r.append(ks(Xd,e)),ks(Qd,e).body.append(t)}return ks(Xd,e)}function rh(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const r=n.join(",");return[r,r,r]}const[t,n,r]=e,i=new Array(256),a=new Array(256),s=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,a[o]=n[o]/255,s[o]=r[o]/255;return[i.join(","),a.join(","),s.join(",")]}function ih(e){if(void 0===ks(Gd,this)){Es(Gd,this,"");const e=ks(Qd,this).URL;e!==ks(Qd,this).baseURI&&(hl(e)?jo('#createUrl: ignore "data:"-URL for performance reasons.'):Es(Gd,this,e.split("#",1)[0]))}return"url(".concat(ks(Gd,this),"#").concat(e,")")}function ah(e){const t=ks(Qd,this).createElementNS(ol,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function sh(e){const t=ks(Qd,this).createElementNS(ol,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function oh(e){const t=ks(Qd,this).createElementNS(ol,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),_s(Jd,this,nh).append(t),t}function lh(e,t,n){const r=ks(Qd,this).createElementNS(ol,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function ch(e,t,n,r){const i=ks(Qd,this).createElementNS(ol,"feComponentTransfer");r.append(i),ws(Jd,this,lh).call(this,i,"feFuncR",e),ws(Jd,this,lh).call(this,i,"feFuncG",t),ws(Jd,this,lh).call(this,i,"feFuncB",n)}function uh(e,t){const n=ks(Qd,this).createElementNS(ol,"feComponentTransfer");t.append(n),ws(Jd,this,lh).call(this,n,"feFuncA",e)}function dh(e){return _s(Jd,this,nh).style.color=e,kl(getComputedStyle(_s(Jd,this,nh)).getPropertyValue("color"))}class hh{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch((e=>{throw new Error("Unable to load font data at: ".concat(n))}))}async _fetch(e){Co("Abstract method `_fetch` called.")}}class fh extends hh{async _fetch(e){const t=await cl(e,"arraybuffer");return new Uint8Array(t)}}if(js){var ph=Promise.withResolvers(),mh=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),r=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:undefined,path2d:undefined}))})().then((e=>{mh=e,ph.resolve()}),(e=>{jo("loadPackages: ".concat(e)),mh=new Map,ph.resolve()}))}class gh{static get promise(){return ph.promise}static get(e){var t;return null===(t=mh)||void 0===t?void 0:t.get(e)}}async function vh(e){const t=gh.get("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}const yh="Fill",bh="Stroke",xh="Shading";function wh(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class _h{getPattern(){Co("Abstract method `getPattern` called.")}}class kh extends _h{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let i;if(r===bh||r===yh){const a=t.current.getClippedPathBoundingBox(r,El(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",s,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=Vo.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),wh(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);i.setTransform(u)}else wh(e,this._bbox),i=this._createGradient(e);return i}}function Eh(e,t,n,r,i,a,s,o){const l=t.coords,c=t.colors,u=e.data,d=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h);const f=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,y=(l[i+1]+t.offsetY)*t.scaleY;if(p>=y)return;const b=c[a],x=c[a+1],w=c[a+2],_=c[s],k=c[s+1],E=c[s+2],A=c[o],S=c[o+1],j=c[o+2],C=Math.round(p),N=Math.round(y);let T,P,O,M,L,R,I,D;for(let F=C;F<=N;F++){if(F<g){const e=F<p?0:(p-F)/(p-g);T=f-(f-m)*e,P=b-(b-_)*e,O=x-(x-k)*e,M=w-(w-E)*e}else{let e;e=F>y?1:g===y?0:(g-F)/(g-y),T=m-(m-v)*e,P=_-(_-A)*e,O=k-(k-S)*e,M=E-(E-j)*e}let e;e=F<p?0:F>y?1:(p-F)/(p-y),L=f-(f-v)*e,R=b-(b-A)*e,I=x-(x-S)*e,D=w-(w-j)*e;const t=Math.round(Math.min(T,L)),n=Math.round(Math.max(T,L));let r=d*F+4*t;for(let i=t;i<=n;i++)e=(T-i)/(T-L),e<0?e=0:e>1&&(e=1),u[r++]=P-(P-R)*e|0,u[r++]=O-(O-I)*e|0,u[r++]=M-(M-D)*e|0,u[r++]=255}}function Ah(e,t,n){const r=t.coords,i=t.colors;let a,s;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)Eh(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),Eh(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)Eh(e,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class Sh extends _h{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=a/o,u=s/l,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},h=o+4,f=l+4,p=n.getCanvas("mesh",h,f),m=p.context,g=m.createImageData(o,l);if(t){const e=g.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)Ah(g,v,d);m.putImageData(g,2,2);return{canvas:p.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,r){let i;if(wh(e,this._bbox),r===xh)i=Vo.singularValueDecompose2dScale(El(e));else if(i=Vo.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=Vo.singularValueDecompose2dScale(this.matrix);i=[i[0]*e[0],i[1]*e[1]]}const a=this._createMeshCanvas(i,r===xh?null:this._background,t.cachedCanvases);return r!==xh&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class jh extends _h{getPattern(){return"hotpink"}}const Ch=1,Nh=2;class Th{constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:i,color:a,canvasGraphicsFactory:s}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),So("TilingType: "+i);const c=t[0],u=t[1],d=t[2],h=t[3],f=d-c,p=h-u,m=Vo.singularValueDecompose2dScale(this.matrix),g=Vo.singularValueDecompose2dScale(this.baseTransform),v=m[0]*g[0],y=m[1]*g[1];let b=f,x=p,w=!1,_=!1;const k=Math.ceil(o*v),E=Math.ceil(l*y);k>=Math.ceil(f*v)?b=o:w=!0,E>=Math.ceil(p*y)?x=l:_=!0;const A=this.getSizeAndScale(b,this.ctx.canvas.width,v),S=this.getSizeAndScale(x,this.ctx.canvas.height,y),j=e.cachedCanvases.getCanvas("pattern",A.size,S.size),C=j.context,N=s.createCanvasGraphics(C);if(N.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(N,r,a),C.translate(-A.scale*c,-S.scale*u),N.transform(A.scale,0,0,S.scale,0,0),C.save(),this.clipBbox(N,c,u,d,h),N.baseTransform=El(N.ctx),N.executeOperatorList(n),N.endDrawing(),C.restore(),w||_){const t=j.canvas;w&&(b=o),_&&(x=l);const n=this.getSizeAndScale(b,this.ctx.canvas.width,v),r=this.getSizeAndScale(x,this.ctx.canvas.height,y),i=n.size,a=r.size,s=e.cachedCanvases.getCanvas("pattern-workaround",i,a),d=s.context,h=w?Math.floor(f/o):0,m=_?Math.floor(p/l):0;for(let e=0;e<=h;e++)for(let n=0;n<=m;n++)d.drawImage(t,i*e,a*n,i,a,0,0,i,a);return{canvas:s.canvas,scaleX:n.scale,scaleY:r.scale,offsetX:c,offsetY:u}}return{canvas:j.canvas,scaleX:A.scale,scaleY:S.scale,offsetX:c,offsetY:u}}getSizeAndScale(e,t,n){const r=Math.max(Th.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,i){const a=r-t,s=i-n;e.ctx.rect(t,n,a,s),e.current.updateRectMinMax(El(e.ctx),[t,n,r,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,i=e.current;switch(t){case Ch:const e=this.ctx;r.fillStyle=e.fillStyle,r.strokeStyle=e.strokeStyle,i.fillColor=e.fillStyle,i.strokeColor=e.strokeStyle;break;case Nh:const a=Vo.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new Fo("Unsupported paint type: ".concat(t))}}getPattern(e,t,n,r){let i=n;r!==xh&&(i=Vo.transform(i,t.baseTransform),this.matrix&&(i=Vo.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let s=new DOMMatrix(i);s=s.translate(a.offsetX,a.offsetY),s=s.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(s),o}}function Ph(e){let{src:t,srcPos:n=0,dest:r,width:i,height:a,nonBlackColor:s=4294967295,inverseDecode:o=!1}=e;const l=zo.isLittleEndian?4278190080:255,[c,u]=o?[s,l]:[l,s],d=i>>3,h=7&i,f=t.length;r=new Uint32Array(r.buffer);let p=0;for(let m=0;m<a;m++){for(const i=n+d;n<i;n++){const e=n<f?t[n]:255;r[p++]=128&e?u:c,r[p++]=64&e?u:c,r[p++]=32&e?u:c,r[p++]=16&e?u:c,r[p++]=8&e?u:c,r[p++]=4&e?u:c,r[p++]=2&e?u:c,r[p++]=1&e?u:c}if(0===h)continue;const e=n<f?t[n++]:255;for(let t=0;t<h;t++)r[p++]=e&1<<7-t?u:c}return{srcPos:n,destPos:p}}De(Th,"MAX_PATTERN_SIZE",3e3);const Oh=16;class Mh{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Lh(e,t,n,r,i,a,s,o,l,c){const[u,d,h,f,p,m]=El(e);if(0===d&&0===h){const g=s*u+p,v=Math.round(g),y=o*f+m,b=Math.round(y),x=(s+l)*u+p,w=Math.abs(Math.round(x)-v)||1,_=(o+c)*f+m,k=Math.abs(Math.round(_)-b)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(f),v,b),e.drawImage(t,n,r,i,a,0,0,w,k),e.setTransform(u,d,h,f,p,m),[w,k]}if(0===u&&0===f){const g=o*h+p,v=Math.round(g),y=s*d+m,b=Math.round(y),x=(o+c)*h+p,w=Math.abs(Math.round(x)-v)||1,_=(s+l)*d+m,k=Math.abs(Math.round(_)-b)||1;return e.setTransform(0,Math.sign(d),Math.sign(h),0,v,b),e.drawImage(t,n,r,i,a,0,0,k,w),e.setTransform(u,d,h,f,p,m),[k,w]}e.drawImage(t,n,r,i,a,s,o,l,c);return[Math.hypot(u,d)*l,Math.hypot(h,f)*c]}class Rh{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Cs,this.textMatrixScale=1,this.fontMatrix=Ns,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=zs,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Vo.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Vo.applyTransform(t,e),r=Vo.applyTransform(t.slice(2),e),i=Vo.applyTransform([t[0],t[3]],e),a=Vo.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],i[0],a[0]),this.minY=Math.min(this.minY,n[1],r[1],i[1],a[1]),this.maxX=Math.max(this.maxX,n[0],r[0],i[0],a[0]),this.maxY=Math.max(this.maxY,n[1],r[1],i[1],a[1])}updateScalingPathMinMax(e,t){Vo.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,i,a,s,o,l,c){const u=Vo.bezierBoundingBox(t,n,r,i,a,s,o,l,c);c||this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yh,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===bh){t||Co("Stroke bounding box must include transform.");const e=Vo.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,i=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=i,n[2]+=r,n[3]+=i}return n}updateClipFromPath(){const e=Vo.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yh,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Vo.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Ih(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,r=t.width,i=n%Oh,a=(n-i)/Oh,s=0===i?a:a+1,o=e.createImageData(r,Oh);let l,c=0;const u=t.data,d=o.data;let h,f,p,m;if(t.kind===Ys.GRAYSCALE_1BPP){const t=u.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),m=n.length,g=r+7>>3,v=4294967295,y=zo.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(p=h<a?Oh:i,l=0,f=0;f<p;f++){const e=t-c;let i=0;const a=e>g?r:8*e-7,s=-8&a;let o=0,d=0;for(;i<s;i+=8)d=u[c++],n[l++]=128&d?v:y,n[l++]=64&d?v:y,n[l++]=32&d?v:y,n[l++]=16&d?v:y,n[l++]=8&d?v:y,n[l++]=4&d?v:y,n[l++]=2&d?v:y,n[l++]=1&d?v:y;for(;i<a;i++)0===o&&(d=u[c++],o=128),n[l++]=d&o?v:y,o>>=1}for(;l<m;)n[l++]=0;e.putImageData(o,0,h*Oh)}}else if(t.kind===Ys.RGBA_32BPP){for(f=0,m=r*Oh*4,h=0;h<a;h++)d.set(u.subarray(c,c+m)),c+=m,e.putImageData(o,0,f),f+=Oh;h<s&&(m=r*i*4,d.set(u.subarray(c,c+m)),e.putImageData(o,0,f))}else{if(t.kind!==Ys.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(p=Oh,m=r*p,h=0;h<s;h++){for(h>=a&&(p=i,m=r*p),l=0,f=m;f--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;e.putImageData(o,0,h*Oh)}}}function Dh(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%Oh,a=(n-i)/Oh,s=0===i?a:a+1,o=e.createImageData(r,Oh);let l=0;const c=t.data,u=o.data;for(let d=0;d<s;d++){const t=d<a?Oh:i;({srcPos:l}=Ph({src:c,srcPos:l,dest:u,width:r,height:t,nonBlackColor:0})),e.putImageData(o,0,d*Oh)}}function Fh(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function qh(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!js){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function Bh(e,t){if(t)return!0;const n=Vo.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*ll.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const Uh=["butt","round","square"],Wh=["miter","round","bevel"],zh={},Hh={};var Vh=new WeakSet;class Gh{constructor(e,t,n,r,i,a,s,o){let{optionalContentConfig:l,markedContentStack:c=null}=a;bs(this,Vh),this.ctx=e,this.current=new Rh(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Mh(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:i=null}=e;const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const e=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...El(this.compositeCtx))}this.ctx.save(),qh(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=El(this.ctx)}executeOperatorList(e,t,n,r){const i=e.argsArray,a=e.fnArray;let s=t||0;const o=i.length;if(o===s)return s;const l=o-s>10&&"function"===typeof n,c=l?Date.now()+15:0;let u=0;const d=this.commonObjs,h=this.objs;let f;for(;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if(f=a[s],f!==wo.dependency)this[f].apply(this,i[s]);else for(const e of i[s]){const t=e.startsWith("g_")?d:h;if(!t.has(e))return t.get(e,n),s}if(s++,s===o)return s;if(l&&++u>10){if(Date.now()>c)return n(),s;u=0}}}endDrawing(){ws(Vh,this,Kh).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ws(Vh,this,Xh).call(this)}_scaleImage(e,t){var n,r;const i=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,a=null!==(r=e.height)&&void 0!==r?r:e.displayHeight;let s,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),u=i,d=a,h="prescale1";for(;l>2&&u>1||c>2&&d>1;){let t=u,n=d;l>2&&u>1&&(t=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/t),c>2&&d>1&&(n=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/n),s=this.cachedCanvases.getCanvas(h,t,n),o=s.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,u,d,0,0,t,n),e=s.canvas,u=t,d=n,h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,i=this.current.fillColor,a=this.current.patternFill,s=El(t);let o,l,c,u;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?s:[s.slice(0,4),i]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!a){return{canvas:n,offsetX:Math.round(Math.min(s[0],s[2])+s[4]),offsetY:Math.round(Math.min(s[1],s[3])+s[5])}}c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,r),Dh(u.context,e));let d=Vo.transform(s,[1/n,0,0,-1/r,0,0]);d=Vo.transform(d,[1,0,0,1,0,-r]);const[h,f,p,m]=Vo.getAxialAlignedBoundingBox([0,0,n,r],d),g=Math.round(p-h)||1,v=Math.round(m-f)||1,y=this.cachedCanvases.getCanvas("fillCanvas",g,v),b=y.context,x=h,w=f;b.translate(-x,-w),b.transform(...d),c||(c=this._scaleImage(u.canvas,Al(b)),c=c.img,o&&a&&o.set(l,c)),b.imageSmoothingEnabled=Bh(El(b),e.interpolate),Lh(b,c,0,0,c.width,c.height,0,0,n,r),b.globalCompositeOperation="source-in";const _=Vo.transform(Al(b),[1,0,0,1,-x,-w]);return b.fillStyle=a?i.getPattern(t,this,_,yh):i,b.fillRect(0,0,n,r),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(x),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Uh[e]}setLineJoin(e){this.ctx.lineJoin=Wh[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const i=this.ctx;i.setTransform(...El(this.suspendedCtx)),Fh(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,a,s){t.transform(e,n,r,i,a,s),this.__originalTransform(e,n,r,i,a,s)},e.setTransform=function(e,n,r,i,a,s){t.setTransform(e,n,r,i,a,s),this.__originalSetTransform(e,n,r,i,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,a,s){t.bezierCurveTo(e,n,r,i,a,s),this.__originalBezierCurveTo(e,n,r,i,a,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Fh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const i=r[0],a=r[1],s=r[2]-i,o=r[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,i,a,s,o,l,c,u){let d=e.canvas,h=o-c,f=l-u;if(a){const t=Vo.makeHexColor(...a);if(h<0||f<0||h+n>d.width||f+r>d.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,r),i=e.context;i.drawImage(d,-h,-f),i.globalCompositeOperation="destination-atop",i.fillStyle=t,i.fillRect(0,0,n,r),i.globalCompositeOperation="source-over",d=e.canvas,h=f=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const i=new Path2D;i.rect(h,f,n,r),e.clip(i),e.globalCompositeOperation="destination-atop",e.fillStyle=t,e.fillRect(h,f,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(s));const p=new Path2D;p.rect(o,l,n,r),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(d,h,f,n,r,o,l,n,r),t.restore()}save(){this.inSMaskMode?(Fh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Fh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,i=this.current;let a,s,o=i.x,l=i.y;const c=El(r),u=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],d=u?n.slice(0):null;for(let h=0,f=0,p=e.length;h<p;h++)switch(0|e[h]){case wo.rectangle:o=t[f++],l=t[f++];const e=t[f++],n=t[f++],h=o+e,p=l+n;r.moveTo(o,l),0===e||0===n?r.lineTo(h,p):(r.lineTo(h,l),r.lineTo(h,p),r.lineTo(o,p)),u||i.updateRectMinMax(c,[o,l,h,p]),r.closePath();break;case wo.moveTo:o=t[f++],l=t[f++],r.moveTo(o,l),u||i.updatePathMinMax(c,o,l);break;case wo.lineTo:o=t[f++],l=t[f++],r.lineTo(o,l),u||i.updatePathMinMax(c,o,l);break;case wo.curveTo:a=o,s=l,o=t[f+4],l=t[f+5],r.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],o,l),i.updateCurvePathMinMax(c,a,s,t[f],t[f+1],t[f+2],t[f+3],o,l,d),f+=6;break;case wo.curveTo2:a=o,s=l,r.bezierCurveTo(o,l,t[f],t[f+1],t[f+2],t[f+3]),i.updateCurvePathMinMax(c,a,s,o,l,t[f],t[f+1],t[f+2],t[f+3],d),o=t[f+2],l=t[f+3],f+=4;break;case wo.curveTo3:a=o,s=l,o=t[f+2],l=t[f+3],r.bezierCurveTo(t[f],t[f+1],o,l,o,l),i.updateCurvePathMinMax(c,a,s,t[f],t[f+1],o,l,o,l,d),f+=4;break;case wo.closePath:r.closePath()}u&&i.updateScalingPathMinMax(c,d),i.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,Al(t),bh),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,Al(t),yh),r=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=zh}eoClip(){this.pendingClip=Hh}beginText(){this.current.textMatrix=Cs,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=r.fontMatrix||Ns,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||jo("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const a=r.loadedName||"sans-serif",s=(null===(n=r.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(a,'", ').concat(r.fallbackName);let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(s)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const i=this.ctx,a=this.current,s=a.font,o=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,c=o&Ks,u=!!(o&Xs),d=a.patternFill&&!s.missingFile;let h;if((s.disableFontFace||u||d)&&(h=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace||d?(i.save(),i.translate(t,n),i.beginPath(),h(i,l),r&&i.setTransform(...r),c!==zs&&c!==Vs||i.fill(),c!==Hs&&c!==Vs||i.stroke(),i.restore()):(c!==zs&&c!==Vs||i.fillText(e,t,n),c!==Hs&&c!==Vs||i.strokeText(e,t,n)),u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:El(i),x:t,y:n,fontSize:l,addToPath:h})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Po(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const i=this.ctx,a=t.fontSizeScale,s=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=e.length,d=n.vertical,h=d?1:-1,f=n.defaultVMetrics,p=r*t.fontMatrix[0],m=t.textRenderingMode===zs&&!n.disableFontFace&&!t.patternFill;let g;if(i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),l>0?i.scale(c,-1):i.scale(c,1),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,Al(i),yh);g=El(i),i.restore(),i.fillStyle=e}let v=t.lineWidth;const y=t.textMatrixScale;if(0===y||0===v){const e=t.textRenderingMode&Ks;e!==Hs&&e!==Vs||(v=this.getSinglePixelWidth())}else v/=y;if(1!==a&&(i.scale(a,a),v/=a),i.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return i.fillText(n.join(""),0,0),t.x+=r*p*c,i.restore(),void this.compose()}let b,x=0;for(b=0;b<u;++b){const t=e[b];if("number"===typeof t){x+=h*t*r/1e3;continue}let c=!1;const u=(t.isSpace?o:0)+s,v=t.fontChar,y=t.accent;let w,_,k=t.width;if(d){const e=t.vmetric||f,n=-(t.vmetric?e[1]:.5*k)*p,r=e[2]*p;k=e?-e[0]:k,w=n/a,_=(x+r)/a}else w=x/a,_=0;if(n.remeasure&&k>0){const e=1e3*i.measureText(v).width/r*a;if(k<e&&this.isFontSubpixelAAEnabled){const t=k/e;c=!0,i.save(),i.scale(t,1),w/=t}else k!==e&&(w+=(k-e)/2e3*r/a)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(m&&!y)i.fillText(v,w,_);else if(this.paintChar(v,w,_,g),y){const e=w+r*y.offset.x/a,t=_-r*y.offset.y/a;this.paintChar(y.fontChar,e,t,g)}x+=d?k*p-u*l:k*p+u*l,c&&i.restore()}d?t.y-=x:t.x+=x*c,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,i=n.fontSize,a=n.fontDirection,s=r.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,u=n.fontMatrix||Ns,d=e.length;let h,f,p,m;if(!(n.textRenderingMode===Gs)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,a),h=0;h<d;++h){if(f=e[h],"number"===typeof f){m=s*f*i/1e3,this.ctx.translate(m,0),n.x+=m*c;continue}const a=(f.isSpace?l:0)+o,d=r.charProcOperatorList[f.operatorListId];if(!d){jo('Type3 character "'.concat(f.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=f,this.save(),t.scale(i,i),t.transform(...u),this.executeOperatorList(d),this.restore());p=Vo.applyTransform([f.width,0],u)[0]*i+a,t.translate(p,0),n.x+=p*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||El(this.ctx),i={createCanvasGraphics:e=>new Gh(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Th(e,n,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Vo.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Vo.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new kh(e);case"Mesh":return new Sh(e);case"Dummy":return new jh}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Al(t),xh);const r=Al(t);if(r){const{width:e,height:n}=t.canvas,[i,a,s,o]=Vo.getAxialAlignedBoundingBox([0,0,e,n],r);this.ctx.fillRect(i,a,s-i,o-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Co("Should not call beginInlineImage")}beginImageData(){Co("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=El(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(El(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||So("TODO: Support non-isolated groups."),e.knockout&&jo("Knockout groups not supported.");const n=El(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Vo.getAxialAlignedBoundingBox(e.bbox,El(t));const i=[0,0,t.canvas.width,t.canvas.height];r=Vo.intersect(r,i)||[0,0,0,0];const a=Math.floor(r[0]),s=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-a,1),l=Math.max(Math.ceil(r[3])-s,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,o,l),d=u.context;d.translate(-a,-s),d.transform(...n),e.smask?this.smaskStack.push({canvas:u.canvas,context:d,offsetX:a,offsetY:s,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,s),t.save()),Fh(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=El(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Vo.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,r,i){if(ws(Vh,this,Kh).call(this),qh(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const r=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=r,t[3]=a;const[i,s]=Vo.singularValueDecompose2dScale(El(this.ctx)),{viewportScale:o}=this,l=Math.ceil(r*this.outputScaleX*o),c=Math.ceil(a*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:u,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(e,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(i,0,0,-s,0,a*s),qh(this.ctx)}else qh(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],r,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new Rh(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ws(Vh,this,Xh).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let a,s,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),d=0;for(const m of e.data){let e=128;for(;e>0;)u[d++]=m&e?0:255,e>>=1}let h=0;for(d=0,0!==u[d]&&(l[0]=1,++h),s=1;s<t;s++)u[d]!==u[d+1]&&(l[s]=u[d]?2:1,++h),d++;for(0!==u[d]&&(l[s]=2,++h),a=1;a<n;a++){d=a*c,o=a*i,u[d-c]!==u[d]&&(l[o]=u[d]?1:8,++h);let e=(u[d]?4:0)+(u[d-c]?8:0);for(s=1;s<t;s++)e=(e>>2)+(u[d+1]?4:0)+(u[d-c+1]?8:0),r[e]&&(l[o+s]=r[e],++h),d++;if(u[d-c]!==u[d]&&(l[o+s]=u[d]?2:4,++h),h>1e3)return null}for(d=c*(n-1),o=a*i,0!==u[d]&&(l[o]=8,++h),s=1;s<t;s++)u[d]!==u[d+1]&&(l[o+s]=u[d]?4:8,++h),d++;if(0!==u[d]&&(l[o+s]=4,++h),h>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),p=new Path2D;for(a=0;h&&a<=n;a++){let e=a*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;p.moveTo(e%i,a);const r=e;let s=l[e];do{const t=f[s];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(s=n,l[e]=0):(s=n&51*s>>4,l[e]&=s>>2|s<<2),p.lineTo(e%i,e/i|0),l[e]||--h}while(r!==e);--a}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(p),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const s=this.ctx;s.save();const o=El(s);s.transform(t,n,r,i,0,0);const l=this._createMaskCanvas(e);s.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,u=a.length;c<u;c+=2){const e=Vo.transform(o,[t,n,r,i,a[c],a[c+1]]),[u,d]=Vo.applyTransform([0,0],e);s.drawImage(l.canvas,u,d)}s.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:e,width:a,height:s,transform:o}=i,l=this.cachedCanvases.getCanvas("maskCanvas",a,s),c=l.context;c.save();Dh(c,this.getObject(e,i)),c.globalCompositeOperation="source-in",c.fillStyle=r?n.getPattern(c,this,Al(t),yh):n,c.fillRect(0,0,a,s),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),Lh(t,l.canvas,0,0,a,s,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):jo("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void jo("Dependent image isn't ready yet");const a=i.width,s=i.height,o=[];for(let l=0,c=r.length;l<c;l+=2)o.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(i,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!js){const{filter:e}=r;"none"!==e&&""!==e&&(r.filter="none")}let i;if(r.scale(1/t,-1/n),e.bitmap)i=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)i=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Ih(r,e),i=this.applyTransferMapsToCanvas(r)}const a=this._scaleImage(i,Al(r));r.imageSmoothingEnabled=Bh(El(r),e.interpolate),Lh(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Ih(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),Lh(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===Hh?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=El(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let a,s;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)a=s=1/n;else{const t=n*e;a=s=t<1?1/t:1}else if(0===e)a=1/n,s=1/r;else{const t=n*e,i=r*e;a=t<1?1/t:1,s=i<1?1/i:1}}else{const o=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)a=c/o,s=l/o;else{const t=e*o;a=c>t?c/t:1,s=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===i)return void t.stroke();const a=t.getLineDash();if(e&&t.save(),t.scale(r,i),a.length>0){const e=Math.max(r,i);t.setLineDash(a.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function Kh(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Xh(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}for(const n in wo)void 0!==Gh.prototype[n]&&(Gh.prototype[wo[n]]=Gh.prototype[n]);class Yh{static get workerPort(){return ws(Yh,this,Qh)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");Qh._=ws(Yh,this,e)}static get workerSrc(){return ws(Yh,this,Zh)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");Zh._=ws(Yh,this,e)}}var Qh={_:null},Zh={_:""};const $h=1,Jh=2,ef=1,tf=2,nf=3,rf=4,af=5,sf=6,of=7,lf=8;function cf(e){switch(e instanceof Error||"object"===typeof e&&null!==e||Co('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new qo(e.message);case"MissingPDFException":return new Io(e.message);case"PasswordException":return new Mo(e.message,e.code);case"UnexpectedResponseException":return new Do(e.message,e.status);case"UnknownErrorException":return new Lo(e.message,e.details);default:return new Lo(e.message,e.toString())}}var uf=new WeakMap,df=new WeakSet;class hf{constructor(e,t,n){bs(this,df),xs(this,uf,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ws(df,this,ff).bind(this),{signal:ks(uf,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,n,r){const i=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:e,streamId:i,data:t,desiredSize:n.desiredSize},r),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:a,targetName:s,stream:sf,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{No(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:ef,streamId:i,reason:cf(e)}),t.promise}},n)}destroy(){var e;null===(e=ks(uf,this))||void 0===e||e.abort(),Es(uf,this,null)}}function ff(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void ws(df,this,mf).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===$h)n.resolve(t.data);else{if(t.callback!==Jh)throw new Error("Unexpected callback case");n.reject(cf(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,r=t.sourceName,i=this.comObj;new Promise((function(e){e(n(t.data))})).then((function(n){i.postMessage({sourceName:e,targetName:r,callback:$h,callbackId:t.callbackId,data:n})}),(function(n){i.postMessage({sourceName:e,targetName:r,callback:Jh,callbackId:t.callbackId,reason:cf(n)})}))}else t.streamId?ws(df,this,pf).call(this,t):n(t.data)}function pf(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this,s=this.actionHandler[e.action],o={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:rf,streamId:t,chunk:e},s)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:nf,streamId:t}),delete a.streamSinks[t])},error(e){No(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:af,streamId:t,reason:cf(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(s(e.data,o))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:lf,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:lf,streamId:t,reason:cf(e)})}))}function mf(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case lf:e.success?a.startCall.resolve():a.startCall.reject(cf(e.reason));break;case of:e.success?a.pullCall.resolve():a.pullCall.reject(cf(e.reason));break;case sf:if(!s){i.postMessage({sourceName:n,targetName:r,stream:of,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,new Promise((function(e){var t;e(null===(t=s.onPull)||void 0===t?void 0:t.call(s))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:of,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:of,streamId:t,reason:cf(e)})}));break;case rf:if(No(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case nf:if(No(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),ws(df,this,gf).call(this,a,t);break;case af:No(a,"error should have stream controller"),a.controller.error(cf(e.reason)),ws(df,this,gf).call(this,a,t);break;case tf:e.success?a.cancelCall.resolve():a.cancelCall.reject(cf(e.reason)),ws(df,this,gf).call(this,a,t);break;case ef:if(!s)break;new Promise((function(t){var n;t(null===(n=s.onCancel)||void 0===n?void 0:n.call(s,cf(e.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:tf,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:tf,streamId:t,reason:cf(e)})})),s.sinkCapability.reject(cf(e.reason)),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function gf(e,t){var n,r,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(r=e.pullCall)||void 0===r?void 0:r.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}var vf=new WeakMap,yf=new WeakMap;class bf{constructor(e){let{parsedData:t,rawData:n}=e;xs(this,vf,void 0),xs(this,yf,void 0),Es(vf,this,t),Es(yf,this,n)}getRaw(){return ks(yf,this)}get(e){var t;return null!==(t=ks(vf,this).get(e))&&void 0!==t?t:null}getAll(){return Wo(ks(vf,this))}has(e){return ks(vf,this).has(e)}}const xf=Symbol("INTERNAL");var wf=new WeakMap,_f=new WeakMap,kf=new WeakMap,Ef=new WeakMap;class Af{constructor(e,t){let{name:n,intent:r,usage:i,rbGroups:a}=t;xs(this,wf,!1),xs(this,_f,!1),xs(this,kf,!1),xs(this,Ef,!0),Es(wf,this,!!(e&Os)),Es(_f,this,!!(e&Ms)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(ks(kf,this))return ks(Ef,this);if(!ks(Ef,this))return!1;const{print:e,view:t}=this.usage;return ks(wf,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!ks(_f,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==xf&&Co("Internal method `_setVisible` called."),Es(kf,this,n),Es(Ef,this,t)}}var Sf=new WeakMap,jf=new WeakMap,Cf=new WeakMap,Nf=new WeakMap,Tf=new WeakSet;class Pf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os;if(bs(this,Tf),xs(this,Sf,null),xs(this,jf,new Map),xs(this,Cf,null),xs(this,Nf,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,Es(Nf,this,e.order);for(const n of e.groups)ks(jf,this).set(n.id,new Af(t,n));if("OFF"===e.baseState)for(const e of ks(jf,this).values())e._setVisible(xf,!1);for(const t of e.on)ks(jf,this).get(t)._setVisible(xf,!0);for(const t of e.off)ks(jf,this).get(t)._setVisible(xf,!1);Es(Cf,this,this.getHash())}}isVisible(e){if(0===ks(jf,this).size)return!0;if(!e)return So("Optional content group not defined."),!0;if("OCG"===e.type)return ks(jf,this).has(e.id)?ks(jf,this).get(e.id).visible:(jo("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return ws(Tf,this,Of).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!ks(jf,this).has(t))return jo("Optional content group not found: ".concat(t)),!0;if(ks(jf,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!ks(jf,this).has(t))return jo("Optional content group not found: ".concat(t)),!0;if(!ks(jf,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!ks(jf,this).has(t))return jo("Optional content group not found: ".concat(t)),!0;if(!ks(jf,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!ks(jf,this).has(t))return jo("Optional content group not found: ".concat(t)),!0;if(ks(jf,this).get(t).visible)return!1}return!0}return jo("Unknown optional content policy ".concat(e.policy,".")),!0}return jo("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ks(jf,this).get(e);if(r){if(n&&t&&r.rbGroups.length)for(const t of r.rbGroups)for(const n of t){var i;if(n!==e)null===(i=ks(jf,this).get(n))||void 0===i||i._setVisible(xf,!1,!0)}r._setVisible(xf,!!t,!0),Es(Sf,this,null)}else jo("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:r}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=ks(jf,this).get(i);if(e)switch(t){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!e.visible,r)}}Es(Sf,this,null)}get hasInitialVisibility(){return null===ks(Cf,this)||this.getHash()===ks(Cf,this)}getOrder(){return ks(jf,this).size?ks(Nf,this)?ks(Nf,this).slice():[...ks(jf,this).keys()]:null}getGroups(){return ks(jf,this).size>0?Wo(ks(jf,this)):null}getGroup(e){return ks(jf,this).get(e)||null}getHash(){if(null!==ks(Sf,this))return ks(Sf,this);const e=new Cd;for(const[t,n]of ks(jf,this))e.update("".concat(t,":").concat(n.visible));return Es(Sf,this,e.hexdigest())}}function Of(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let i;if(Array.isArray(t))i=ws(Tf,this,Of).call(this,t);else{if(!ks(jf,this).has(t))return jo("Optional content group not found: ".concat(t)),!0;i=ks(jf,this).get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}class Mf{constructor(e,t){let{disableRange:n=!1,disableStream:r=!1}=t;No(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(null===a||void 0===a?void 0:a.length)>0){const e=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{No(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(r),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){No(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Lf(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Rf(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Lf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=fl(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Rf{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function If(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const r in t){const e=t[r];void 0!==e&&n.append(r,e)}return n}function Df(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(s))return a;if(a.suggestedLength=s,s<=2*r)return a;if(i||!n)return a;if("bytes"!==t.get("Accept-Ranges"))return a;return"identity"!==(t.get("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function Ff(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=s(n);return e=unescape(e),e=o(e),e=l(e),a(e)}if(n=function(e){const t=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const a=[];for(let r=0;r<t.length&&r in t;++r){let[e,n]=t[r];n=s(n),e&&(n=unescape(n),0===r&&(n=o(n))),a.push(n)}return a.join("")}(e),n)return a(l(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=s(n);return e=l(e),a(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),i=Uo(n);n=r.decode(i),t=!1}catch(r){}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function s(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return i(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(a){}return i(t,r)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(fl(e))return e}return null}function qf(e,t){return 404===e||0===e&&t.startsWith("file:")?new Io('Missing PDF "'+t+'".'):new Do("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function Bf(e){return 200===e||206===e}function Uf(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Wf(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(jo("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class zf{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=If(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return No(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Hf(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Vf(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Hf{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,Uf(n,this._withCredentials,this._abortController)).then((t=>{if(!Bf(t.status))throw qf(t.status,r);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:i,suggestedLength:a}=Df({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=a||this._contentLength,this._filename=Ff(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new qo("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Wf(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Vf{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range","bytes=".concat(t,"-").concat(n-1));const a=r.url;fetch(a,Uf(i,this._withCredentials,this._abortController)).then((e=>{if(!Bf(e.status))throw qf(e.status,a);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:Wf(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Gf{constructor(e){let{url:t,httpHeaders:n,withCredentials:r}=e;this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=If(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;var i;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void(null===(i=n.onError)||void 0===i||i.call(n,r.status));const a=r.status||200;var s;if(!(200===a&&206===n.expectedStatus)&&a!==n.expectedStatus)return void(null===(s=n.onError)||void 0===s||s.call(n,r.status));const o=function(e){const t=e.response;return"string"!==typeof t?t:Uo(t).buffer}(r);if(206===a){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:o})}else if(o)n.onDone({begin:0,chunk:o});else{var l;null===(l=n.onError)||void 0===l||l.call(n,r.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Kf{constructor(e){this._source=e,this._manager=new Gf(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return No(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Xf(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Yf(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Xf{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map((e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}))),{allowRangeRequests:r,suggestedLength:i}=Df({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=Ff(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=qf(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Yf{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=qf(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Qf=/^[a-z][a-z0-9\-+.]+:/i;function Zf(e,t,n){if("http:"===e.protocol){return gh.get("http").request(e,{headers:t},n)}return gh.get("https").request(e,{headers:t},n)}class $f{constructor(e){this.source=e,this.url=function(e){if(Qf.test(e))return new URL(e);const t=gh.get("url");return new URL(t.pathToFileURL(e))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=If(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return No(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new rp(this):new tp(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new ip(this,e,t):new np(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Jf{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new qo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ep{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}class tp extends Jf{constructor(e){super(e);const t=Object.fromEntries(e.headers);this._request=Zf(this._url,t,(t=>{if(404===t.statusCode){const e=new Io('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:i}=Df({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=Ff(n)})),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class np extends ep{constructor(e,t,n){super(e);const r=Object.fromEntries(e.headers);r.Range="bytes=".concat(t,"-").concat(n-1);this._request=Zf(this._url,r,(e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new Io('Missing PDF "'.concat(this._url,'".'));this._storedError=e}})),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class rp extends Jf{constructor(e){super(e);const t=gh.get("fs");t.promises.lstat(this._url).then((e=>{this._contentLength=e.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new Io('Missing PDF "'.concat(this._url,'".'))),this._storedError=e,this._headersCapability.reject(e)}))}}class ip extends ep{constructor(e,t,n){super(e);const r=gh.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}}const ap=30;var sp=new WeakMap,op=new WeakMap,lp=new WeakMap,cp=new WeakMap,up=new WeakMap,dp=new WeakMap,hp=new WeakMap,fp=new WeakMap,pp=new WeakMap,mp=new WeakMap,gp=new WeakMap,vp=new WeakMap,yp=new WeakMap,bp=new WeakMap,xp=new WeakMap,wp=new WeakMap,_p=new WeakMap,kp=new WeakMap,Ep=new WeakSet;class Ap{constructor(e){var t;let{textContentSource:n,container:r,viewport:i}=e;if(bs(this,Ep),xs(this,sp,Promise.withResolvers()),xs(this,op,null),xs(this,lp,!1),xs(this,cp,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),xs(this,up,null),xs(this,dp,null),xs(this,hp,0),xs(this,fp,0),xs(this,pp,null),xs(this,mp,null),xs(this,gp,0),xs(this,vp,0),xs(this,yp,Object.create(null)),xs(this,bp,[]),xs(this,xp,null),xs(this,wp,[]),xs(this,_p,new WeakMap),xs(this,kp,null),n instanceof ReadableStream)Es(xp,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');Es(xp,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}Es(op,this,Es(mp,this,r)),Es(vp,this,i.scale*(globalThis.devicePixelRatio||1)),Es(gp,this,i.rotation),Es(dp,this,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:s,pageX:o,pageY:l}=i.rawDims;Es(kp,this,[1,0,0,-1,-o,l+s]),Es(fp,this,a),Es(hp,this,s),Pp.call(Ap),Sl(r,i),ks(sp,this).promise.finally((()=>{Dp._.delete(this),Es(dp,this,null),Es(yp,this,null)})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=zo.platform;return Po(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{ks(pp,this).read().then((t=>{var n;let{value:r,done:i}=t;i?ks(sp,this).resolve():(null!==(n=ks(up,this))&&void 0!==n||Es(up,this,r.lang),Object.assign(ks(yp,this),r.styles),ws(Ep,this,Sp).call(this,r.items),e())}),ks(sp,this).reject)};return Es(pp,this,ks(xp,this).getReader()),Dp._.add(this),e(),ks(sp,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const r=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==ks(gp,this)&&(null===n||void 0===n||n(),Es(gp,this,i),Sl(ks(mp,this),{rotation:i})),r!==ks(vp,this)){null===n||void 0===n||n(),Es(vp,this,r);const e={div:null,properties:null,ctx:Np.call(Ap,ks(up,this))};for(const t of ks(wp,this))e.properties=ks(_p,this).get(t),e.div=t,ws(Ep,this,Cp).call(this,e)}}cancel(){var e;const t=new qo("TextLayer task cancelled.");null===(e=ks(pp,this))||void 0===e||e.cancel(t).catch((()=>{})),Es(pp,this,null),ks(sp,this).reject(t)}get textDivs(){return ks(wp,this)}get textContentItemsStr(){return ks(bp,this)}static cleanup(){if(!(ws(Ap,this,Dp)._.size>0)){ws(Ap,this,Mp)._.clear();for(const{canvas:e}of ws(Ap,this,Lp)._.values())e.remove();ws(Ap,this,Lp)._.clear()}}}function Sp(e){var t,n;if(ks(lp,this))return;null!==(n=(t=ks(dp,this)).ctx)&&void 0!==n||(t.ctx=Np.call(ls,ks(up,this)));const r=ks(wp,this),i=ks(bp,this);for(const a of e){if(r.length>1e5)return jo("Ignoring additional textDivs for performance reasons."),void Es(lp,this,!0);if(void 0!==a.str)i.push(a.str),ws(Ep,this,jp).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const e=ks(op,this);Es(op,this,document.createElement("span")),ks(op,this).classList.add("markedContent"),null!==a.id&&ks(op,this).setAttribute("id","".concat(a.id)),e.append(ks(op,this))}else"endMarkedContent"===a.type&&Es(op,this,ks(op,this).parentNode)}}function jp(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};ks(wp,this).push(t);const r=Vo.transform(ks(kp,this),e.transform);let i=Math.atan2(r[1],r[0]);const a=ks(yp,this)[e.fontName];a.vertical&&(i+=Math.PI/2);let s=ks(cp,this)&&a.fontSubstitution||a.fontFamily;s=ls.fontFamilyMap.get(s)||s;const o=Math.hypot(r[2],r[3]),l=o*Op.call(ls,s,ks(up,this));let c,u;0===i?(c=r[4],u=r[5]-l):(c=r[4]+l*Math.sin(i),u=r[5]-l*Math.cos(i));const d="calc(var(--scale-factor)*",h=t.style;ks(op,this)===ks(mp,this)?(h.left="".concat((100*c/ks(fp,this)).toFixed(2),"%"),h.top="".concat((100*u/ks(hp,this)).toFixed(2),"%")):(h.left="".concat(d).concat(c.toFixed(2),"px)"),h.top="".concat(d).concat(u.toFixed(2),"px)")),h.fontSize="".concat(d).concat((Ip._*o).toFixed(2),"px)"),h.fontFamily=s,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,ks(cp,this)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));let f=!1;if(e.str.length>1)f=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=a.vertical?e.height:e.width),ks(_p,this).set(t,n),ks(dp,this).div=t,ks(dp,this).properties=n,ws(Ep,this,Cp).call(this,ks(dp,this)),n.hasText&&ks(op,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),ks(op,this).append(e)}}function Cp(e){const{div:t,properties:n,ctx:r}=e,{style:i}=t;let a="";if(Ip._>1&&(a="scale(".concat(1/Ip._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=i,{canvasWidth:s,fontSize:o}=n;Tp.call(ls,r,o*ks(vp,this),e);const{width:l}=r.measureText(t.textContent);l>0&&(a="scaleX(".concat(s*ks(vp,this)/l,") ").concat(a))}0!==n.angle&&(a="rotate(".concat(n.angle,"deg) ").concat(a)),a.length>0&&(i.transform=a)}function Np(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=ws(ls,this,Lp)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),ws(ls,this,Lp)._.set(e,t),ws(ls,this,Rp)._.set(t,{size:0,family:""})}return t}function Tp(e,t,n){const r=ws(ls,this,Rp)._.get(e);t===r.size&&n===r.family||(e.font="".concat(t,"px ").concat(n),r.size=t,r.family=n)}function Pp(){if(null!==ws(ls,this,Ip)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Ip._=ws(ls,this,e.getBoundingClientRect().height),e.remove()}function Op(e,t){const n=ws(ls,this,Mp)._.get(e);if(n)return n;const r=ws(ls,this,Np).call(this,t);r.canvas.width=r.canvas.height=ap,ws(ls,this,Tp).call(this,r,ap,e);const i=r.measureText("");let a=i.fontBoundingBoxAscent,s=Math.abs(i.fontBoundingBoxDescent);if(a){const t=a/(a+s);return ws(ls,this,Mp)._.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,ap,ap),r.strokeText("g",0,0);let o=r.getImageData(0,0,ap,ap).data;s=0;for(let c=o.length-1-3;c>=0;c-=4)if(o[c]>0){s=Math.ceil(c/4/ap);break}r.clearRect(0,0,ap,ap),r.strokeText("A",0,ap),o=r.getImageData(0,0,ap,ap).data,a=0;for(let c=0,u=o.length;c<u;c+=4)if(o[c]>0){a=ap-Math.floor(c/4/ap);break}r.canvas.width=r.canvas.height=0;const l=a?a/(a+s):.8;return ws(ls,this,Mp)._.set(e,l),l}ls=Ap;var Mp={_:new Map},Lp={_:new Map},Rp={_:new WeakMap},Ip={_:null},Dp={_:new Set};class Fp{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var r;if(!n)return;let i=null;const a=n.name;if("#text"===a)i=n.value;else{if(!Fp.shouldBuildText(a))return;null!==n&&void 0!==n&&null!==(r=n.attributes)&&void 0!==r&&r.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const qp=65536,Bp=js?class extends Wd{_createCanvas(e,t){return gh.get("canvas").createCanvas(e,t)}}:class extends Wd{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},Up=js?class extends zd{async _fetch(e){return vh(e)}}:Hd,Wp=js?class extends Vd{}:class extends Vd{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),bs(this,Jd),xs(this,Gd,void 0),xs(this,Kd,void 0),xs(this,Xd,void 0),xs(this,Yd,void 0),xs(this,Qd,void 0),xs(this,Zd,void 0),xs(this,$d,0),Es(Yd,this,t),Es(Qd,this,n)}addFilter(e){var t,n;if(!e)return"none";let r=_s(Jd,this,eh).get(e);if(r)return r;const[i,a,s]=ws(Jd,this,rh).call(this,e),o=1===e.length?i:"".concat(i).concat(a).concat(s);if(r=_s(Jd,this,eh).get(o),r)return _s(Jd,this,eh).set(e,r),r;const l="g_".concat(ks(Yd,this),"_transfer_map_").concat((Es($d,this,(t=ks($d,this),n=t++,t)),n)),c=ws(Jd,this,ih).call(this,l);_s(Jd,this,eh).set(e,c),_s(Jd,this,eh).set(o,c);const u=ws(Jd,this,oh).call(this,l);return ws(Jd,this,ch).call(this,i,a,s,u),c}addHCMFilter(e,t){var n;const r="".concat(e,"-").concat(t),i="base";let a=_s(Jd,this,th).get(i);if((null===(n=a)||void 0===n?void 0:n.key)===r)return a.url;var s;a?(null===(s=a.filter)||void 0===s||s.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},_s(Jd,this,th).set(i,a));if(!e||!t)return a.url;const o=ws(Jd,this,dh).call(this,e);e=Vo.makeHexColor(...o);const l=ws(Jd,this,dh).call(this,t);if(t=Vo.makeHexColor(...l),_s(Jd,this,nh).style.color="","#000000"===e&&"#ffffff"===t||e===t)return a.url;const c=new Array(256);for(let p=0;p<=255;p++){const e=p/255;c[p]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const u=c.join(","),d="g_".concat(ks(Yd,this),"_hcm_filter"),h=a.filter=ws(Jd,this,oh).call(this,d);ws(Jd,this,ch).call(this,u,u,u,h),ws(Jd,this,sh).call(this,h);const f=(e,t)=>{const n=o[e]/255,r=l[e]/255,i=new Array(t+1);for(let a=0;a<=t;a++)i[a]=n+a/t*(r-n);return i.join(",")};return ws(Jd,this,ch).call(this,f(0,5),f(1,5),f(2,5),h),a.url=ws(Jd,this,ih).call(this,d),a.url}addAlphaFilter(e){var t,n;let r=_s(Jd,this,eh).get(e);if(r)return r;const[i]=ws(Jd,this,rh).call(this,[e]),a="alpha_".concat(i);if(r=_s(Jd,this,eh).get(a),r)return _s(Jd,this,eh).set(e,r),r;const s="g_".concat(ks(Yd,this),"_alpha_map_").concat((Es($d,this,(t=ks($d,this),n=t++,t)),n)),o=ws(Jd,this,ih).call(this,s);_s(Jd,this,eh).set(e,o),_s(Jd,this,eh).set(a,o);const l=ws(Jd,this,oh).call(this,s);return ws(Jd,this,uh).call(this,i,l),o}addLuminosityFilter(e){var t,n;let r,i,a=_s(Jd,this,eh).get(e||"luminosity");if(a)return a;if(e?([r]=ws(Jd,this,rh).call(this,[e]),i="luminosity_".concat(r)):i="luminosity",a=_s(Jd,this,eh).get(i),a)return _s(Jd,this,eh).set(e,a),a;const s="g_".concat(ks(Yd,this),"_luminosity_map_").concat((Es($d,this,(t=ks($d,this),n=t++,t)),n)),o=ws(Jd,this,ih).call(this,s);_s(Jd,this,eh).set(e,o),_s(Jd,this,eh).set(i,o);const l=ws(Jd,this,oh).call(this,s);return ws(Jd,this,ah).call(this,l),e&&ws(Jd,this,uh).call(this,r,l),o}addHighlightHCMFilter(e,t,n,r,i){var a;const s="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i);let o=_s(Jd,this,th).get(e);if((null===(a=o)||void 0===a?void 0:a.key)===s)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},_s(Jd,this,th).set(e,o));if(!t||!n)return o.url;const[c,u]=[t,n].map(ws(Jd,this,dh).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,p]=[r,i].map(ws(Jd,this,dh).bind(this));h<d&&([d,h,f,p]=[h,d,p,f]),_s(Jd,this,nh).style.color="";const m=(e,t,n)=>{const r=new Array(256),i=(h-d)/n,a=e/255,s=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(d+l*i),t=a+l*s;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let l=o;l<256;l++)r[l]=r[o-1];return r.join(",")},g="g_".concat(ks(Yd,this),"_hcm_").concat(e,"_filter"),v=o.filter=ws(Jd,this,oh).call(this,g);return ws(Jd,this,sh).call(this,v),ws(Jd,this,ch).call(this,m(f[0],p[0],5),m(f[1],p[1],5),m(f[2],p[2],5),v),o.url=ws(Jd,this,ih).call(this,g),o.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==_s(Jd,this,th).size||(ks(Xd,this)&&(ks(Xd,this).parentNode.parentNode.remove(),Es(Xd,this,null)),ks(Kd,this)&&(ks(Kd,this).clear(),Es(Kd,this,null)),Es($d,this,0))}},zp=js?class extends hh{async _fetch(e){return vh(e)}}:fh;function Hp(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof r||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const i=new Gp,{docId:a}=i,s=r.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(js&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(r.url):null,o=r.data?function(e){if(js&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Uo(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(r.data):null,l=r.httpHeaders||null,c=!0===r.withCredentials,u=null!==(e=r.password)&&void 0!==e?e:null,d=r.range instanceof Xp?r.range:null,h=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:qp;let f=r.worker instanceof sm?r.worker:null;const p=r.verbosity,m="string"!==typeof r.docBaseUrl||hl(r.docBaseUrl)?null:r.docBaseUrl,g="string"===typeof r.cMapUrl?r.cMapUrl:null,v=!1!==r.cMapPacked,y=r.CMapReaderFactory||Up,b="string"===typeof r.standardFontDataUrl?r.standardFontDataUrl:null,x=r.StandardFontDataFactory||zp,w=!0!==r.stopAtErrors,_=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,k=!1!==r.isEvalSupported,E="boolean"===typeof r.isOffscreenCanvasSupported?r.isOffscreenCanvasSupported:!js,A="boolean"===typeof r.isChrome?r.isChrome:!zo.platform.isFirefox&&"undefined"!==typeof window&&!(null===(t=window)||void 0===t||!t.chrome),S=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,j="boolean"===typeof r.disableFontFace?r.disableFontFace:js,C=!0===r.fontExtraProperties,N=!0===r.enableXfa,T=r.ownerDocument||globalThis.document,P=!0===r.disableRange,O=!0===r.disableStream,M=!0===r.disableAutoFetch,L=!0===r.pdfBug,R=r.CanvasFactory||Bp,I=r.FilterFactory||Wp,D=!0===r.enableHWA,F=d?d.length:null!==(n=r.length)&&void 0!==n?n:NaN,q="boolean"===typeof r.useSystemFonts?r.useSystemFonts:!js&&!j,B="boolean"===typeof r.useWorkerFetch?r.useWorkerFetch:y===Hd&&x===fh&&g&&b&&vl(g,document.baseURI)&&vl(b,document.baseURI);r.canvasFactory&&bl("`canvasFactory`-instance option, please use `CanvasFactory` instead."),r.filterFactory&&bl("`filterFactory`-instance option, please use `FilterFactory` instead.");Eo(p);const U={canvasFactory:new R({ownerDocument:T,enableHWA:D}),filterFactory:new I({docId:a,ownerDocument:T}),cMapReaderFactory:B?null:new y({baseUrl:g,isCompressed:v}),standardFontDataFactory:B?null:new x({baseUrl:b})};if(!f){const e={verbosity:p,port:Yh.workerPort};f=e.port?sm.fromPort(e):new sm(e),i._worker=f}const W={docId:a,apiVersion:"4.8.69",data:o,password:u,disableAutoFetch:M,rangeChunkSize:h,length:F,docBaseUrl:m,enableXfa:N,evaluatorOptions:{maxImageSize:_,disableFontFace:j,ignoreErrors:w,isEvalSupported:k,isOffscreenCanvasSupported:E,isChrome:A,canvasMaxAreaInBytes:S,fontExtraProperties:C,useSystemFonts:q,cMapUrl:B?g:null,standardFontDataUrl:B?b:null}},z={disableFontFace:j,fontExtraProperties:C,ownerDocument:T,pdfBug:L,styleElement:null,loadingParams:{disableAutoFetch:M,enableXfa:N}};return f.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const e=f.messageHandler.sendWithPromise("GetDocRequest",W,o?[o.buffer]:null);let t;if(d)t=new Mf(d,{disableRange:P,disableStream:O});else if(!o){if(!s)throw new Error("getDocument - no `url` parameter provided.");let e;if(js){e="undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&vl(s)?zf:$f}else e=vl(s)?zf:Kf;t=new e({url:s,length:F,httpHeaders:l,withCredentials:c,rangeChunkSize:h,disableRange:P,disableStream:O})}return e.then((e=>{if(i.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const n=new hf(a,e,f.port),r=new ym(n,i,t,z,U);i._transport=r,n.send("Ready",null)}))})).catch(i._capability.reject),i}function Vp(e){return"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0}class Gp{constructor(){var e,t;this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((Kp._=(e=Kp._,t=e++,e),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(r){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var Kp={_:0};class Xp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Co("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Yp{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Po(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Qp=new WeakMap,Zp=new WeakMap,$p=new WeakSet;class Jp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];bs(this,$p),xs(this,Qp,null),xs(this,Zp,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new gl:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new km,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ul({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Po(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:r,viewport:i,intent:a="display",annotationMode:s=qs.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const p=this._transport.getRenderingIntent(a,s,h,f),{renderingIntent:m,cacheKey:g}=p;Es(Zp,this,!1),ws($p,this,tm).call(this),c||(c=this._transport.getOptionalContentConfig(m));let v=this._intentStates.get(g);v||(v=Object.create(null),this._intentStates.set(g,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const y=!!(m&Ms);var b;v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(b=this._stats)||void 0===b||b.time("Page Request"),this._pumpOperatorList(p));const x=e=>{var t;(v.renderTasks.delete(w),(this._maybeCleanupAfterRender||y)&&Es(Zp,this,!0),ws($p,this,em).call(this,!y),e?(w.capability.reject(e),this._abortOperatorList({intentState:v,reason:e instanceof Error?e:new Error(e)})):w.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(t=globalThis.Stats)&&void 0!==t&&t.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new Cm({callback:x,params:{canvasContext:r,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:d});((n=v).renderTasks||(n.renderTasks=new Set)).add(w);const _=w.task;return Promise.all([v.displayReadyCapability.promise,c]).then((e=>{var t;let[n,r]=e;if(this.destroyed)x();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(r.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:n,optionalContentConfig:r}),w.operatorListChanged()}})).catch(x),_}getOperatorList(){let{intent:e="display",annotationMode:t=qs.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,r,!0);let a,s=this._intentStates.get(i.cacheKey);var o,l;(s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability)||(a=Object.create(null),a.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))},s.opListReadCapability=Promise.withResolvers(),((o=s).renderTasks||(o.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(i));return s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>Fp.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){r.read().then((function(n){var r;let{value:a,done:s}=n;s?e(i):(null!==(r=i.lang)&&void 0!==r||(i.lang=a.lang),Object.assign(i.styles,a.styles),i.items.push(...a.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),Es(Zp,this,!1),ws($p,this,tm).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Es(Zp,this,!0);const t=ws($p,this,em).call(this,!1);return e&&t&&this._stats&&(this._stats=new gl),t}_startRenderPage(e,t){var n,r;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&ws($p,this,em).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}=e;const{map:a,transfer:s}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())}),(e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();ws($p,this,em).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}}))};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof dl){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new qo(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function em(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(ws($p,this,tm).call(this),!ks(Zp,this)||this.destroyed)return!1;if(e)return Es(Qp,this,setTimeout((()=>{Es(Qp,this,null),ws($p,this,em).call(this,!1)}),5e3)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Es(Zp,this,!1),!0}function tm(){ks(Qp,this)&&(clearTimeout(ks(Qp,this)),Es(Qp,this,null))}var nm=new WeakMap,rm=new WeakMap;class im{constructor(){xs(this,nm,new Map),xs(this,rm,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};ks(rm,this).then((()=>{for(const[e]of ks(nm,this))e.call(this,n)}))}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted)return void jo("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}ks(nm,this).set(t,r)}removeEventListener(e,t){const n=ks(nm,this).get(t);null===n||void 0===n||n(),ks(nm,this).delete(t)}terminate(){for(const[,e]of ks(nm,this))null===e||void 0===e||e();ks(nm,this).clear()}}var am=new WeakSet;class sm{constructor(){let{name:e=null,port:t=null,verbosity:n=Ao()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(bs(this,am),this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){var r;if(null!==(r=dm._)&&void 0!==r&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(dm._||(dm._=new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return js?Promise.all([gh.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new hf("main","worker",e),this._messageHandler.on("ready",(function(){})),ws(am,this,om).call(this)}_initialize(){if(um._||lm(sm))return void this._setupFakeWorker();let{workerSrc:e}=sm;try{sm._isSameOrigin(window.location.href,e)||(e=sm._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new hf("main","worker",t),r=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",(()=>{this._webWorker||r()}),{signal:i.signal}),n.on("test",(e=>{i.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,ws(am,this,om).call(this)):r()})),n.on("ready",(e=>{if(i.abort(),this.destroyed)r();else try{a()}catch(t){this._setupFakeWorker()}}));const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch(t){So("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){um._||(jo("Setting up fake worker."),um._=!0),sm._setupFakeWorkerGlobal.then((e=>{var t,n;if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const r=new im;this._port=r;const i="fake".concat((cm._=(t=cm._,n=t++,t),n)),a=new hf(i+"_worker",i,r);e.setup(a,r),this._messageHandler=new hf(i,i+"_worker",r),ws(am,this,om).call(this)})).catch((e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=dm._)||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(t=ws(sm,this,dm)._)||void 0===t?void 0:t.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new sm(e)}static get workerSrc(){if(Yh.workerSrc)return Yh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Po(this,"_setupFakeWorkerGlobal",(async()=>{if(_s(sm,this,lm))return _s(sm,this,lm);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function om(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}function lm(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}cs=sm;var cm={_:0},um={_:!1},dm={_:void 0};js&&(um._=ws(cs,cs,!0),Yh.workerSrc||(Yh.workerSrc="./pdf.worker.mjs")),cs._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const r=new URL(t,n);return n.origin===r.origin},cs._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var hm=new WeakMap,fm=new WeakMap,pm=new WeakMap,mm=new WeakMap,gm=new WeakMap,vm=new WeakSet;class ym{constructor(e,t,n,r,i){bs(this,vm),xs(this,hm,new Map),xs(this,fm,new Map),xs(this,pm,new Map),xs(this,mm,new Map),xs(this,gm,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new km,this.fontLoader=new qd({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Po(this,"annotationStorage",new Ld)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qs.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Os,s=Nd;switch(e){case"any":a=Ps;break;case"display":break;case"print":a=Ms;break;default:jo("getRenderingIntent - invalid intent: ".concat(e))}const o=a&Ms&&n instanceof Dd?n:this.annotationStorage;switch(t){case qs.DISABLE:a+=Is;break;case qs.ENABLE:break;case qs.ENABLE_FORMS:a+=Ls;break;case qs.ENABLE_STORAGE:a+=Rs,s=o.serializable;break;default:jo("getRenderingIntent - invalid annotationMode: ".concat(t))}r&&(a+=Ds),i&&(a+=Fs);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=ks(gm,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of ks(fm,this).values())t.push(r._destroy());ks(fm,this).clear(),ks(pm,this).clear(),ks(mm,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),ks(hm,this).clear(),this.filterFactory.destroy(),Ap.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new qo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{No(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():(No(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:r,contentLength:i}=this._fullReader;if(!n||!r){var a;if(this._lastProgress)null===(a=t.onProgress)||void 0===a||a.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:r,contentLength:i}})),e.on("GetRangeReader",((e,t)=>{No(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():(No(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Yp(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new Mo(e.message,e.code);break;case"InvalidPDFException":n=new Ro(e.message);break;case"MissingPDFException":n=new Io(e.message);break;case"UnexpectedResponseException":n=new Do(e.message,e.status);break;case"UnknownErrorException":n=new Lo(e.message,e.details);break;default:Co("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(Es(gm,this,Promise.withResolvers()),t.onPassword){const r=e=>{e instanceof Error?ks(gm,this).reject(e):ks(gm,this).resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){ks(gm,this).reject(n)}}else ks(gm,this).reject(new Mo(e.message,e.code));return ks(gm,this).promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;ks(fm,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[r,i,a]=t;if(this.destroyed)return null;if(this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:t,fontExtraProperties:s,pdfBug:o}=this._params;if("error"in a){const e=a.error;jo("Error during font loading: ".concat(e)),this.commonObjs.resolve(r,e);break}const l=o&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,c=new Bd(a,{disableFontFace:t,inspectFont:l});this.fontLoader.bind(c).catch((()=>e.sendWithPromise("FontFallback",{id:r}))).finally((()=>{!s&&c.data&&(c.data=null),this.commonObjs.resolve(r,c)}));break;case"CopyLocalImage":const{imageRef:u}=a;No(u,"The imageRef must be defined.");for(const e of ks(fm,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===u)return t.dataLen?(this.commonObjs.resolve(r,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error("Got unknown common object type ".concat(i))}return null})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const a=ks(fm,this).get(n);var s;if(!a.objs.has(t))if(0!==a._intentStates.size)switch(r){case"Image":a.objs.resolve(t,i),(null===i||void 0===i?void 0:i.dataLen)>1e7&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(r))}else null===i||void 0===i||null===(s=i.bitmap)||void 0===s||s.close()})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(e)})),e.on("FetchStandardFontData",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(e)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&jo("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},r).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=ks(pm,this).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&ks(mm,this).set(n.refStr,e);const r=new Jp(t,n,this,this._params.pdfBug);return ks(fm,this).set(t,r),r}));return ks(pm,this).set(t,r),r}getPageIndex(e){return Vp(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ws(vm,this,bm).call(this,"GetFieldObjects")}hasJSActions(){return ws(vm,this,bm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ws(vm,this,bm).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ws(vm,this,bm).call(this,"GetOptionalContentConfig").then((t=>new Pf(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=ks(hm,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new bf(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}}));return ks(hm,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of ks(fm,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),ks(hm,this).clear(),this.filterFactory.destroy(!0),Ap.cleanup()}}cachedPageNumber(e){var t;if(!Vp(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=ks(mm,this).get(n))&&void 0!==t?t:null}}function bm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=ks(hm,this).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return ks(hm,this).set(e,r),r}const xm=Symbol("INITIAL_DATA");var wm=new WeakMap,_m=new WeakSet;class km{constructor(){bs(this,_m),xs(this,wm,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=ws(_m,this,Em).call(this,e);return n.promise.then((()=>t(n.data))),null}const n=ks(wm,this)[e];if(!n||n.data===xm)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=ks(wm,this)[e];return!!t&&t.data!==xm}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=ws(_m,this,Em).call(this,e);n.data=t,n.resolve()}clear(){for(const t in ks(wm,this)){var e;const{data:n}=ks(wm,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}Es(wm,this,Object.create(null))}*[Symbol.iterator](){for(const e in ks(wm,this)){const{data:t}=ks(wm,this)[e];t!==xm&&(yield[e,t])}}}function Em(e){var t;return(t=ks(wm,this))[e]||(t[e]=qe(qe({},Promise.withResolvers()),{},{data:xm}))}var Am=new WeakMap;class Sm{constructor(e){xs(this,Am,null),Es(Am,this,e),this.onContinue=null}get promise(){return ks(Am,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;ks(Am,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=ks(Am,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=ks(Am,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var jm=new WeakMap;class Cm{constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}=e;xs(this,jm,null),this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Sm(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t,n;let{transparency:r=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(Nm._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Nm._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:s,transform:o,background:l}=this.params;this.gfx=new Gh(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:r,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),ks(jm,this)&&(window.cancelAnimationFrame(ks(jm,this)),Es(jm,this,null)),Nm._.delete(this._canvas),this.callback(t||new dl("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Es(jm,this,window.requestAnimationFrame((()=>{Es(jm,this,null),this._nextBound().catch(this._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Nm._.delete(this._canvas),this.callback())))}}var Nm={_:new WeakSet};const Tm="4.8.69",Pm="3634dab10";function Om(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Mm(e){return Math.max(0,Math.min(255,255*e))}class Lm{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=Mm(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=Om(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(Mm)}static RGB_HTML(e){return"#".concat(e.map(Om).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,r,i]=e;return[Mm(1-Math.min(1,t+i)),Mm(1-Math.min(1,r+i)),Mm(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,a=1-n,s=1-r;return["CMYK",i,a,s,Math.min(i,a,s)]}}class Rm{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Co("Abstract method `_createSVG` called.")}}class Im extends Rm{_createSVG(e){return document.createElementNS(ol,e)}}class Dm{static setupStorage(e,t,n,r,i){const a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:a}=e;const{attributes:s}=n,o=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name="".concat(s.name,"-").concat(i));for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,i=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:i,linkService:n});const s="richText"!==i,o=e.div;if(o.append(a),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}s&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===r.children.length){if(r.value){const e=document.createTextNode(r.value);a.append(e),s&&Fp.shouldBuildText(r.name)&&l.push(e)}return{textDivs:l}}const c=[[r,-1,a]];for(;c.length>0;){var u,d;const[e,r,a]=c.at(-1);if(r+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:h}=o;if("#text"===h){const e=document.createTextNode(o.value);l.push(e),a.append(e);continue}const f=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,h):document.createElement(h);if(a.append(f),o.attributes&&this.setAttributes({html:f,element:o,storage:t,intent:i,linkService:n}),(null===(d=o.children)||void 0===d?void 0:d.length)>0)c.push([o,-1,f]);else if(o.value){const e=document.createTextNode(o.value);s&&Fp.shouldBuildText(h)&&l.push(e),f.append(e)}}for(const h of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const Fm=1e3,qm=new WeakSet;function Bm(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Um{static create(e){switch(e.data.annotationType){case Zs:return new Ym(e);case Qs:return new Jm(e);case po:switch(e.data.fieldType){case"Tx":return new tg(e);case"Btn":return e.data.radioButton?new ig(e):e.data.checkBox?new rg(e):new ag(e);case"Ch":return new sg(e);case"Sig":return new ng(e)}return new eg(e);case ho:return new og(e);case $s:return new Fg(e);case Js:return new Bg(e);case eo:return new Wg(e);case to:return new Hg(e);case ro:return new Gg(e);case co:return new Xg(e);case uo:return new Qg(e);case no:return new Kg(e);case io:return new Zg(e);case ao:return new $g(e);case so:return new Jg(e);case oo:return new ev(e);case lo:return new tv(e);case fo:return new iv(e);default:return new Gm(e)}}}var Wm=new WeakMap,zm=new WeakMap,Hm=new WeakMap,Vm=new WeakSet;class Gm{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bs(this,Vm),xs(this,Wm,null),xs(this,zm,!1),xs(this,Hm,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Gm._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;ks(Wm,this)||Es(Wm,this,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&ws(Vm,this,Km).call(this,n),null===(t=ks(Hm,this))||void 0===t||t.popup.updateEdited(e)}resetEdited(){var e;ks(Wm,this)&&(ws(Vm,this,Km).call(this,ks(Wm,this).rect),null===(e=ks(Hm,this))||void 0===e||e.popup.resetEdited(),Es(Wm,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof eg||(i.tabIndex=Fm);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof og){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:s,height:o}=Bm(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");a.borderRadius=t}else if(this instanceof ig){const e="calc(".concat(s,"px * var(--scale-factor)) / calc(").concat(o,"px * var(--scale-factor))");a.borderRadius=e}switch(t.borderStyle.style){case mo:a.borderStyle="solid";break;case go:a.borderStyle="dashed";break;case vo:jo("Unimplemented border style: beveled");break;case yo:jo("Unimplemented border style: inset");break;case bo:a.borderBottomStyle="solid"}const r=t.borderColor||null;r?(Es(zm,this,!0),a.borderColor=Vo.makeHexColor(0|r[0],0|r[1],0|r[2])):a.borderWidth=0}const l=Vo.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:d,pageY:h}=r.rawDims;a.left="".concat(100*(l[0]-d)/c,"%"),a.top="".concat(100*(l[1]-h)/u,"%");const{rotation:f}=t;return t.hasOwnCanvas||0===f?(a.width="".concat(100*s/c,"%"),a.height="".concat(100*o/u,"%")):this.setRotation(f,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:a}=Bm(this.data.rect);let s,o;e%180===0?(s=100*i/n,o=100*a/r):(s=100*a/n,o=100*i/r),t.style.width="".concat(s,"%"),t.style.height="".concat(o,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],a=r.slice(1);n.target.style[t]=Lm["".concat(i,"_HTML")](a),this.annotationStorage.setValue(this.data.id,{[t]:Lm["".concat(i,"_rgb")](a)})};return Po(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const a=n[r];if(a){a({detail:{[r]:i},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[a,s,o,l]=e.subarray(2,6);if(r===a&&i===s&&t===o&&n===l)return}const{style:a}=this.container;let s;if(ks(zm,this)){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=r-t,l=i-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const h=c.createElement("clipPath"),f="clippath_".concat(this.data.id);h.setAttribute("id",f),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let m=2,g=e.length;m<g;m+=8){var p;const n=e[m],r=e[m+1],a=e[m+2],u=e[m+3],d=c.createElement("rect"),f=(a-t)/o,g=(i-r)/l,v=(n-a)/o,y=(r-u)/l;d.setAttribute("x",f),d.setAttribute("y",g),d.setAttribute("width",v),d.setAttribute("height",y),h.append(d),null===(p=s)||void 0===p||p.push('<rect vector-effect="non-scaling-stroke" x="'.concat(f,'" y="').concat(g,'" width="').concat(v,'" height="').concat(y,'"/>'))}ks(zm,this)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){const{data:e}=this,t=Es(Hm,this,new og({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Co("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:i,exportValues:a}of r){if(-1===e)continue;if(i===t)continue;const r="string"===typeof a?a:null,s=document.querySelector('[data-element-id="'.concat(i,'"]'));!s||qm.has(s)?n.push({id:i,exportValue:r,domElement:s}):jo("_getElementsByName - element not allowed: ".concat(i))}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&(qm.has(r)&&n.push({id:i,exportValue:e,domElement:r}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}function Km(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e);const{width:l,height:c}=Bm(e);t.left="".concat(100*(e[0]-s)/i,"%"),t.top="".concat(100*(a-e[3]+o)/a,"%"),0===r?(t.width="".concat(100*l/i,"%"),t.height="".concat(100*c/a,"%")):this.setRotation(r)}var Xm=new WeakSet;class Ym extends Gm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),bs(this,Xm),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(ws(Xm,this,Zm).call(this,n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(ws(Xm,this,$m).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&ws(Xm,this,Qm).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),ws(Xm,this,Qm).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),ws(Xm,this,Qm).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),ws(Xm,this,Qm).call(this),!this._fieldObjects)return jo('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:r,include:i}=t,a=[];if(0!==e.length||0!==r.length){const t=new Set(r);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const s=this.annotationStorage,o=[];for(const t of a){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;s.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(qm.has(n)?n.dispatchEvent(new Event("resetform")):jo("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function Qm(){this.container.setAttribute("data-internal-link","")}function Zm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},ws(Xm,this,Qm).call(this)}function $m(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),ws(Xm,this,Qm).call(this)}class Jm extends Gm{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class eg extends Gm{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return zo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{var a;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}}))}))}_setEventListeners(e,t,n,r){for(const[o,l]of n){var i,a,s;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,r),"Focus"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Blur?"Blur"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Vo.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,i=e.style;let a;const s=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(Ts*r))||1);a=Math.min(r,s(t/Ts))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(r,s(e/Ts))}i.fontSize="calc(".concat(a,"px * var(--scale-factor))"),i.color=Vo.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class tg extends eg{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),i.setValue(a.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var r;const a=e.getValue(t,{value:this.data.fieldValue});let s=a.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let l=a.formattedValue||(null===(r=this.data.textContent)||void 0===r?void 0:r.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==l&&void 0!==l?l:s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),qm.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Fm,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),c.formattedValue=null})),n.addEventListener("resetform",(e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=c.userValue=r,c.formattedValue=null}));let u=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;n.addEventListener("focus",(e=>{var t;if(c.focused)return;const{target:n}=e;c.userValue&&(n.value=c.userValue),c.lastCommittedValue=n.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){var r;c.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:r}=n.detail;c.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:a}=n;if(0===i)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",i);let s=c.userValue;!s||s.length<=i||(s=s.slice(0,i),a.value=c.userValue=s,e.setValue(t,{value:s}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{var n;c.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;c.lastCommittedValue!==i&&(c.lastCommittedValue=i,c.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=u;u=null,n.addEventListener("blur",(e=>{var n;if(!c.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{value:i}=e.target;var a;(c.userValue=i,c.lastCommittedValue!==i)&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));r(e)})),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;c.lastCommittedValue=null;const{data:r,target:i}=e,{value:a,selectionStart:s,selectionEnd:o}=i;let l=s,u=o;switch(e.inputType){case"deleteWordBackward":{const e=a.substring(0,s).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=a.substring(s).match(/^[^\w]*\w*/);e&&(u+=e[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(u+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:r||"",willCommit:!1,selStart:l,selEnd:u}})})),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(u&&n.addEventListener("blur",u),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class ng extends eg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class rg extends eg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return qm.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=Fm,i.addEventListener("change",(r=>{const{name:i,checked:a}=r.target;for(const s of this._getElementsByName(i,n)){const n=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:a})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ig extends eg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(qm.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=Fm,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const a of this._getElementsByName(r,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ag extends Ym{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class sg extends eg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");qm.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Fm;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let a=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),a=()=>{e.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=s(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;null===(i=a)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of r.options)e.selected=c.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,a=n.detail.remove;if(i[a].selected=!1,r.remove(a),i.length>0){-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0)}e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(n){const{index:i,displayValue:a,exportValue:c}=n.detail.insert,u=r.children[i],d=document.createElement("option");d.textContent=a,d.value=c,u?u.before(d):r.append(d),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{var r;const i=s(!0),a=s(!1);e.setValue(t,{value:i}),n.preventDefault(),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:a,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:s(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class og extends Gm{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Gm._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Cg({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>"".concat(Zo).concat(e))).join(",")),this.container}}var lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,dg=new WeakMap,hg=new WeakMap,fg=new WeakMap,pg=new WeakMap,mg=new WeakMap,gg=new WeakMap,vg=new WeakMap,yg=new WeakMap,bg=new WeakMap,xg=new WeakMap,wg=new WeakMap,_g=new WeakMap,kg=new WeakMap,Eg=new WeakMap,Ag=new WeakMap,Sg=new WeakMap,jg=new WeakSet;class Cg{constructor(e){let{container:t,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:u,open:d}=e;bs(this,jg),xs(this,lg,ws(jg,this,Mg).bind(this)),xs(this,cg,ws(jg,this,Dg).bind(this)),xs(this,ug,ws(jg,this,Ig).bind(this)),xs(this,dg,ws(jg,this,Rg).bind(this)),xs(this,hg,null),xs(this,fg,null),xs(this,pg,null),xs(this,mg,null),xs(this,gg,null),xs(this,vg,null),xs(this,yg,null),xs(this,bg,!1),xs(this,xg,null),xs(this,wg,null),xs(this,_g,null),xs(this,kg,null),xs(this,Eg,null),xs(this,Ag,null),xs(this,Sg,!1),Es(fg,this,t),Es(Eg,this,i),Es(pg,this,s),Es(kg,this,o),Es(vg,this,l),Es(hg,this,n),Es(_g,this,c),Es(yg,this,u),Es(gg,this,r),Es(mg,this,xl.toDateObject(a)),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const f of this.trigger)f.addEventListener("click",ks(dg,this)),f.addEventListener("mouseenter",ks(ug,this)),f.addEventListener("mouseleave",ks(cg,this)),f.classList.add("popupTriggerArea");for(const f of r){var h;null===(h=f.container)||void 0===h||h.addEventListener("keydown",ks(lg,this))}ks(fg,this).hidden=!0,d&&ws(jg,this,Rg).call(this)}render(){if(ks(xg,this))return;const e=Es(xg,this,document.createElement("div"));if(e.className="popup",ks(hg,this)){const t=e.style.outlineColor=Vo.makeHexColor(...ks(hg,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)");else{const t=.7;e.style.backgroundColor=Vo.makeHexColor(...ks(hg,this).map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=ks(Eg,this)),e.append(t),ks(mg,this)){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:ks(mg,this).valueOf()})),t.append(e)}const r=_s(jg,this,Ng);if(r)Dm.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(ks(pg,this));e.append(t)}ks(fg,this).append(e)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const e=i[a];r.append(document.createTextNode(e)),a<s-1&&r.append(document.createElement("br"))}return r}updateEdited(e){var t;let{rect:n,popupContent:r}=e;ks(Ag,this)||Es(Ag,this,{contentsObj:ks(pg,this),richText:ks(kg,this)}),n&&Es(wg,this,null),r&&(Es(kg,this,ws(jg,this,Og).call(this,r)),Es(pg,this,null)),null===(t=ks(xg,this))||void 0===t||t.remove(),Es(xg,this,null)}resetEdited(){var e;ks(Ag,this)&&(({contentsObj:vs(Es,[pg,this])._,richText:vs(Es,[kg,this])._}=ks(Ag,this)),Es(Ag,this,null),null===(e=ks(xg,this))||void 0===e||e.remove(),Es(xg,this,null),Es(wg,this,null))}forceHide(){Es(Sg,this,this.isVisible),ks(Sg,this)&&(ks(fg,this).hidden=!0)}maybeShow(){ks(Sg,this)&&(ks(xg,this)||ws(jg,this,Ig).call(this),Es(Sg,this,!1),ks(fg,this).hidden=!1)}get isVisible(){return!1===ks(fg,this).hidden}}function Ng(e){const t=ks(kg,e),n=ks(pg,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:ks(kg,e).html||null}function Tg(e){var t;return(null===(t=_s(jg,e,Ng))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function Pg(e){var t;return(null===(t=_s(jg,e,Ng))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function Og(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:_s(jg,this,Pg),fontSize:_s(jg,this,Tg)?"calc(".concat(_s(jg,this,Tg),"px * var(--scale-factor))"):""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:r});return n}function Mg(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&ks(bg,this))&&ws(jg,this,Rg).call(this)}function Lg(){if(null!==ks(wg,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:i}}}=ks(vg,this);let a=!!ks(yg,this),s=ks(a?yg:_g,this);for(const h of ks(gg,this))if(!s||null!==Vo.intersect(h.data.rect,s)){s=h.data.rect,a=!0;break}const o=Vo.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),l=a?s[2]-s[0]+5:0,c=o[0]+l,u=o[1];Es(wg,this,[100*(c-r)/t,100*(u-i)/n]);const{style:d}=ks(fg,this);d.left="".concat(ks(wg,this)[0],"%"),d.top="".concat(ks(wg,this)[1],"%")}function Rg(){Es(bg,this,!ks(bg,this)),ks(bg,this)?(ws(jg,this,Ig).call(this),ks(fg,this).addEventListener("click",ks(dg,this)),ks(fg,this).addEventListener("keydown",ks(lg,this))):(ws(jg,this,Dg).call(this),ks(fg,this).removeEventListener("click",ks(dg,this)),ks(fg,this).removeEventListener("keydown",ks(lg,this)))}function Ig(){ks(xg,this)||this.render(),this.isVisible?ks(bg,this)&&ks(fg,this).classList.add("focused"):(ws(jg,this,Lg).call(this),ks(fg,this).hidden=!1,ks(fg,this).style.zIndex=parseInt(ks(fg,this).style.zIndex)+1e3)}function Dg(){ks(fg,this).classList.remove("focused"),!ks(bg,this)&&this.isVisible&&(ks(fg,this).hidden=!0,ks(fg,this).style.zIndex=parseInt(ks(fg,this).style.zIndex)-1e3)}class Fg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Bs.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var qg=new WeakMap;class Bg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),xs(this,qg,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=Bm(e.rect),r=this.svgFactory.create(t,n,!0),i=Es(qg,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ks(qg,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Ug=new WeakMap;class Wg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),xs(this,Ug,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=Bm(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=Es(Ug,this,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ks(Ug,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var zg=new WeakMap;class Hg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),xs(this,zg,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=Bm(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=Es(zg,this,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ks(zg,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Vg=new WeakMap;class Gg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),xs(this,Vg,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r}}=this;if(!t)return this.container;const{width:i,height:a}=Bm(e),s=this.svgFactory.create(i,a,!0);let o=[];for(let c=0,u=t.length;c<u;c+=2){const n=t[c]-e[0],r=e[3]-t[c+1];o.push("".concat(n,",").concat(r))}o=o.join(" ");const l=Es(Vg,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ks(Vg,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Kg extends Gg{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Yg=new WeakMap;class Qg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),xs(this,Yg,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Bs.HIGHLIGHT:Bs.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:r}}=this,{width:i,height:a}=Bm(e),s=this.svgFactory.create(i,a,!0);for(const o of t){let t=[];for(let n=0,i=o.length;n<i;n+=2){const r=o[n]-e[0],i=e[3]-o[n+1];t.push("".concat(r,",").concat(i))}t=t.join(" ");const r=this.svgFactory.createElement(this.svgElementName);ks(Yg,this).push(r),r.setAttribute("points",t),r.setAttribute("stroke-width",n.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(s),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return ks(Yg,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Zg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Bs.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class $g extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Jg extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ev extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class tv extends Gm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Bs.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var nv=new WeakMap,rv=new WeakSet;class iv extends Gm{constructor(e){var t;super(e,{isRenderable:!0}),bs(this,rv),xs(this,nv,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",qe({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",ws(rv,this,av).bind(this)),Es(nv,this,n);const{isMac:r}=zo.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&ws(rv,this,av).call(this)})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return ks(nv,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function av(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var sv=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,uv=new WeakSet;class dv{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}=e;bs(this,uv),xs(this,sv,null),xs(this,ov,null),xs(this,lv,new Map),xs(this,cv,null),this.div=t,Es(sv,this,n),Es(ov,this,r),Es(cv,this,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return ks(lv,this).size>0}async render(e){const{annotations:t}=e,n=this.div;Sl(n,this.viewport);const r=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new Im,annotationStorage:e.annotationStorage||new Ld,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of t){if(s.noHTML)continue;const e=s.annotationType===ho;if(e){const e=r.get(s.id);if(!e)continue;i.elements=e}else{const{width:e,height:t}=Bm(s.rect);if(e<=0||t<=0)continue}i.data=s;const t=Um.create(i);if(!t.isRenderable)continue;if(!e&&s.popupRef){const e=r.get(s.popupRef);e?e.push(t):r.set(s.popupRef,[t])}const n=t.render();var a;if(s.hidden&&(n.style.visibility="hidden"),await ws(uv,this,hv).call(this,n,s.id),t._isEditable)ks(lv,this).set(t.data.id,t),null===(a=this._annotationEditorUIManager)||void 0===a||a.renderAnnotationElement(t)}ws(uv,this,fv).call(this)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,Sl(n,{rotation:t.rotation}),ws(uv,this,fv).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(ks(lv,this).values())}getEditableAnnotation(e){return ks(lv,this).get(e)}}async function hv(e,t){var n,r;const i=e.firstChild||e,a=i.id="".concat(Zo).concat(t),s=await(null===(n=ks(cv,this))||void 0===n?void 0:n.getAriaAttributes(a));if(s)for(const[o,l]of s)i.setAttribute(o,l);this.div.append(e),null===(r=ks(sv,this))||void 0===r||r.moveElementInDOM(this.div,e,i,!1)}function fv(){if(!ks(ov,this))return;const e=this.div;for(const[t,n]of ks(ov,this)){const r=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!r)continue;n.className="annotationContent";const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.classList.contains("annotationContent")?i.after(n):i.before(n):r.append(n)}ks(ov,this).clear()}const pv=/\r\n?|\n/g;var mv=new WeakMap,gv=new WeakMap,vv=new WeakMap,yv=new WeakMap,bv=new WeakMap,xv=new WeakSet;class wv extends ld{static get _keyboardManager(){const e=wv.prototype,t=e=>e.isEmpty(),n=nu.TRANSLATE_SMALL,r=nu.TRANSLATE_BIG;return Po(this,"_keyboardManager",new dc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}constructor(e){super(qe(qe({},e),{},{name:"freeTextEditor"})),bs(this,xv),xs(this,mv,void 0),xs(this,gv,""),xs(this,vv,"".concat(this.id,"-editor")),xs(this,yv,null),xs(this,bv,void 0),Es(mv,this,e.color||wv._defaultColor||ld._defaultLineColor),Es(bv,this,e.fontSize||wv._defaultFontSize)}static initialize(e,t){ld.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Us.FREETEXT_SIZE:wv._defaultFontSize=t;break;case Us.FREETEXT_COLOR:wv._defaultColor=t}}updateParams(e,t){switch(e){case Us.FREETEXT_SIZE:ws(xv,this,_v).call(this,t);break;case Us.FREETEXT_COLOR:ws(xv,this,kv).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Us.FREETEXT_SIZE,wv._defaultFontSize],[Us.FREETEXT_COLOR,wv._defaultColor||ld._defaultLineColor]]}get propertiesToUpdate(){return[[Us.FREETEXT_SIZE,ks(bv,this)],[Us.FREETEXT_COLOR,ks(mv,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-wv._internalPadding*e,-(wv._internalPadding+ks(bv,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Bs.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Es(yv,this,new AbortController);const e=this._uiManager.combinedSignal(ks(yv,this));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ks(vv,this)),this._isDraggable=!0,null===(e=ks(yv,this))||void 0===e||e.abort(),Es(yv,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=ks(gv,this),t=Es(gv,this,ws(xv,this,Ev).call(this).trimEnd());if(e===t)return;const n=e=>{Es(gv,this,e),e?(ws(xv,this,jv).call(this),this._uiManager.rebuild(this),ws(xv,this,Av).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),ws(xv,this,Av).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){wv._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ks(vv,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(ks(bv,this),"px * var(--scale-factor))"),n.color=ks(mv,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ql(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,h;switch(this.rotation){case 0:d=e+(i[0]-c)/o,h=t+this.height-(i[1]-u)/l;break;case 90:d=e+(i[0]-c)/o,h=t-(i[1]-u)/l,[a,s]=[s,-a];break;case 180:d=e-this.width+(i[0]-c)/o,h=t-(i[1]-u)/l,[a,s]=[-a,-s];break;case 270:d=e+(i[0]-c-this.height*l)/o,h=t+(i[1]-u-this.width*o)/l,[a,s]=[-s,a]}this.setAt(d*n,h*r,a,s)}else this.setAt(e*n,t*r,this.width*n,this.height*r);ws(xv,this,jv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const r=Nv.call(wv,t.getData("text")||"").replaceAll(pv,"\n");if(!r)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const a=i.getRangeAt(0);if(!r.includes("\n"))return a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:s,startOffset:o}=a,l=[],c=[];if(s.nodeType===Node.TEXT_NODE){const e=s.parentElement;if(c.push(s.nodeValue.slice(o).replaceAll(pv,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(Sv.call(wv,n)):t=c}l.push(s.nodeValue.slice(0,o).replaceAll(pv,""))}else if(s===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(Sv.call(wv,n))}Es(gv,this,"".concat(l.join("\n")).concat(r).concat(c.join("\n"))),ws(xv,this,jv).call(this);const u=new Range;let d=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(d<=e){u.setStart(h,d),u.setEnd(h,d);break}d-=e}i.removeAllRanges(),i.addRange(u)}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let r=null;if(e instanceof Fg){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:a,id:s,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:u}}}=e;if(!l||0===l.length)return null;r=e={annotationType:Bs.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:u-1,rect:i.slice(0),rotation:a,id:s,deleted:!1,popupRef:o}}const i=await super.deserialize(e,t,n);return Es(bv,i,e.fontSize),Es(mv,i,Vo.makeHexColor(...e.color)),Es(gv,i,Nv.call(wv,e.value)),i.annotationElementId=e.id||null,i._initialData=r,i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=wv._internalPadding*this.parentScale,n=this.getRect(t,t),r=ld._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ks(mv,this)),i={annotationType:Bs.FREETEXT,color:r,fontSize:ks(bv,this),value:ws(xv,this,Cv).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?i:this.annotationElementId&&!ws(xv,this,Tv).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize="calc(".concat(ks(bv,this),"px * var(--scale-factor))"),n.color=ks(mv,this),t.replaceChildren();for(const i of ks(gv,this).split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}const r=wv._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:ks(gv,this)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function _v(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-ks(bv,this))*this.parentScale),Es(bv,this,e),ws(xv,this,Av).call(this)},n=ks(bv,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Us.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function kv(e){const t=e=>{Es(mv,this,this.editorDiv.style.color=e)},n=ks(mv,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Us.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Ev(){const e=[];this.editorDiv.normalize();let t=null;for(const r of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===r.nodeName||(e.push(Sv.call(us,r)),t=r)}return e.join("\n")}function Av(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function Sv(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(pv,"")}function jv(){if(this.editorDiv.replaceChildren(),ks(gv,this))for(const e of ks(gv,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function Cv(){return ks(gv,this).replaceAll("\xa0"," ")}function Nv(e){return e.replaceAll(" ","\xa0")}function Tv(e){const{value:t,fontSize:n,color:r,pageIndex:i}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==i}us=wv,De(wv,"_freeTextDefaultContent",""),De(wv,"_internalPadding",0),De(wv,"_defaultColor",null),De(wv,"_defaultFontSize",10),De(wv,"_type","freetext"),De(wv,"_editorType",Bs.FREETEXT);class Pv{toSVGPath(){Co("Abstract method `toSVGPath` must be implemented.")}get box(){Co("Abstract getter `box` must be implemented.")}serialize(e,t){Co("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Co("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Co("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ov=new WeakMap,Mv=new WeakMap,Lv=new WeakMap,Rv=new WeakMap,Iv=new WeakMap,Dv=new WeakMap,Fv=new WeakMap,qv=new WeakMap,Bv=new WeakMap,Uv=new WeakMap,Wv=new WeakMap,zv=new WeakMap,Hv=new WeakMap,Vv=new WeakSet;class Gv{constructor(e,t,n,r,i){let{x:a,y:s}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;bs(this,Vv),xs(this,Ov,void 0),xs(this,Mv,[]),xs(this,Lv,void 0),xs(this,Rv,void 0),xs(this,Iv,[]),xs(this,Dv,new Float64Array(18)),xs(this,Fv,void 0),xs(this,qv,void 0),xs(this,Bv,void 0),xs(this,Uv,void 0),xs(this,Wv,void 0),xs(this,zv,void 0),xs(this,Hv,[]),Es(Ov,this,t),Es(zv,this,r*n),Es(Rv,this,i),ks(Dv,this).set([NaN,NaN,NaN,NaN,a,s],6),Es(Lv,this,o),Es(Uv,this,ey._*n),Es(Bv,this,ty._*n),Es(Wv,this,n),ks(Hv,this).push(a,s)}isEmpty(){return isNaN(ks(Dv,this)[8])}add(e){var t;let{x:n,y:r}=e;Es(Fv,this,n),Es(qv,this,r);const[i,a,s,o]=ks(Ov,this);let[l,c,u,d]=ks(Dv,this).subarray(8,12);const h=n-u,f=r-d,p=Math.hypot(h,f);if(p<ks(Bv,this))return!1;const m=p-ks(Uv,this),g=m/p,v=g*h,y=g*f;let b=l,x=c;l=u,c=d,u+=v,d+=y,null===(t=ks(Hv,this))||void 0===t||t.push(n,r);const w=v/m,_=-y/m*ks(zv,this),k=w*ks(zv,this);if(ks(Dv,this).set(ks(Dv,this).subarray(2,8),0),ks(Dv,this).set([u+_,d+k],4),ks(Dv,this).set(ks(Dv,this).subarray(14,18),12),ks(Dv,this).set([u-_,d-k],16),isNaN(ks(Dv,this)[6]))return 0===ks(Iv,this).length&&(ks(Dv,this).set([l+_,c+k],2),ks(Iv,this).push(NaN,NaN,NaN,NaN,(l+_-i)/s,(c+k-a)/o),ks(Dv,this).set([l-_,c-k],14),ks(Mv,this).push(NaN,NaN,NaN,NaN,(l-_-i)/s,(c-k-a)/o)),ks(Dv,this).set([b,x,l,c,u,d],6),!this.isEmpty();ks(Dv,this).set([b,x,l,c,u,d],6);return Math.abs(Math.atan2(x-c,b-l)-Math.atan2(y,v))<Math.PI/2?([l,c,u,d]=ks(Dv,this).subarray(2,6),ks(Iv,this).push(NaN,NaN,NaN,NaN,((l+u)/2-i)/s,((c+d)/2-a)/o),[l,c,b,x]=ks(Dv,this).subarray(14,18),ks(Mv,this).push(NaN,NaN,NaN,NaN,((b+l)/2-i)/s,((x+c)/2-a)/o),!0):([b,x,l,c,u,d]=ks(Dv,this).subarray(0,6),ks(Iv,this).push(((b+5*l)/6-i)/s,((x+5*c)/6-a)/o,((5*l+u)/6-i)/s,((5*c+d)/6-a)/o,((l+u)/2-i)/s,((c+d)/2-a)/o),[u,d,l,c,b,x]=ks(Dv,this).subarray(12,18),ks(Mv,this).push(((b+5*l)/6-i)/s,((x+5*c)/6-a)/o,((5*l+u)/6-i)/s,((5*c+d)/6-a)/o,((l+u)/2-i)/s,((c+d)/2-a)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=ks(Iv,this),t=ks(Mv,this);if(isNaN(ks(Dv,this)[6])&&!this.isEmpty())return ws(Vv,this,Xv).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push("L".concat(e[r+4]," ").concat(e[r+5])):n.push("C".concat(e[r]," ").concat(e[r+1]," ").concat(e[r+2]," ").concat(e[r+3]," ").concat(e[r+4]," ").concat(e[r+5]));ws(Vv,this,Qv).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push("L".concat(t[r+4]," ").concat(t[r+5])):n.push("C".concat(t[r]," ").concat(t[r+1]," ").concat(t[r+2]," ").concat(t[r+3]," ").concat(t[r+4]," ").concat(t[r+5]));return ws(Vv,this,Yv).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,i,a){return new uy(e,t,n,r,i,a)}getOutlines(){var e,t;const n=ks(Iv,this),r=ks(Mv,this),i=ks(Dv,this),[a,s,o,l]=ks(Ov,this),c=new Float64Array((null!==(e=null===(t=ks(Hv,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let h=0,f=c.length-2;h<f;h+=2)c[h]=(ks(Hv,this)[h]-a)/o,c[h+1]=(ks(Hv,this)[h+1]-s)/l;if(c[c.length-2]=(ks(Fv,this)-a)/o,c[c.length-1]=(ks(qv,this)-s)/l,isNaN(i[6])&&!this.isEmpty())return ws(Vv,this,Zv).call(this,c);const u=new Float64Array(ks(Iv,this).length+24+ks(Mv,this).length);let d=n.length;for(let h=0;h<d;h+=2)isNaN(n[h])?u[h]=u[h+1]=NaN:(u[h]=n[h],u[h+1]=n[h+1]);d=ws(Vv,this,Jv).call(this,u,d);for(let h=r.length-6;h>=6;h-=6)for(let e=0;e<6;e+=2)isNaN(r[h+e])?(u[d]=u[d+1]=NaN,d+=2):(u[d]=r[h+e],u[d+1]=r[h+e+1],d+=2);return ws(Vv,this,$v).call(this,u,d),this.newFreeDrawOutline(u,c,ks(Ov,this),ks(Wv,this),ks(Lv,this),ks(Rv,this))}}function Kv(){const e=ks(Dv,this).subarray(4,6),t=ks(Dv,this).subarray(16,18),[n,r,i,a]=ks(Ov,this);return[(ks(Fv,this)+(e[0]-t[0])/2-n)/i,(ks(qv,this)+(e[1]-t[1])/2-r)/a,(ks(Fv,this)+(t[0]-e[0])/2-n)/i,(ks(qv,this)+(t[1]-e[1])/2-r)/a]}function Xv(){const[e,t,n,r]=ks(Ov,this),[i,a,s,o]=ws(Vv,this,Kv).call(this);return"M".concat((ks(Dv,this)[2]-e)/n," ").concat((ks(Dv,this)[3]-t)/r," L").concat((ks(Dv,this)[4]-e)/n," ").concat((ks(Dv,this)[5]-t)/r," L").concat(i," ").concat(a," L").concat(s," ").concat(o," L").concat((ks(Dv,this)[16]-e)/n," ").concat((ks(Dv,this)[17]-t)/r," L").concat((ks(Dv,this)[14]-e)/n," ").concat((ks(Dv,this)[15]-t)/r," Z")}function Yv(e){const t=ks(Mv,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function Qv(e){const[t,n,r,i]=ks(Ov,this),a=ks(Dv,this).subarray(4,6),s=ks(Dv,this).subarray(16,18),[o,l,c,u]=ws(Vv,this,Kv).call(this);e.push("L".concat((a[0]-t)/r," ").concat((a[1]-n)/i," L").concat(o," ").concat(l," L").concat(c," ").concat(u," L").concat((s[0]-t)/r," ").concat((s[1]-n)/i))}function Zv(e){const t=ks(Dv,this),[n,r,i,a]=ks(Ov,this),[s,o,l,c]=ws(Vv,this,Kv).call(this),u=new Float64Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-r)/a,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-r)/a],0),this.newFreeDrawOutline(u,e,ks(Ov,this),ks(Wv,this),ks(Lv,this),ks(Rv,this))}function $v(e,t){const n=ks(Mv,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function Jv(e,t){const n=ks(Dv,this).subarray(4,6),r=ks(Dv,this).subarray(16,18),[i,a,s,o]=ks(Ov,this),[l,c,u,d]=ws(Vv,this,Kv).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/s,(n[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(r[0]-i)/s,(r[1]-a)/o],t),t+24}var ey={_:8},ty={_:ey._+2},ny=new WeakMap,ry=new WeakMap,iy=new WeakMap,ay=new WeakMap,sy=new WeakMap,oy=new WeakMap,ly=new WeakMap,cy=new WeakSet;class uy extends Pv{constructor(e,t,n,r,i,a){super(),bs(this,cy),xs(this,ny,void 0),xs(this,ry,null),xs(this,iy,void 0),xs(this,ay,void 0),xs(this,sy,void 0),xs(this,oy,void 0),xs(this,ly,void 0),Es(ly,this,e),Es(sy,this,t),Es(ny,this,n),Es(oy,this,r),Es(iy,this,i),Es(ay,this,a),ws(cy,this,fy).call(this,a);const{x:s,y:o,width:l,height:c}=ks(ry,this);for(let u=0,d=e.length;u<d;u+=2)e[u]=(e[u]-s)/l,e[u+1]=(e[u+1]-o)/c;for(let u=0,d=t.length;u<d;u+=2)t[u]=(t[u]-s)/l,t[u+1]=(t[u+1]-o)/c}toSVGPath(){const e=["M".concat(ks(ly,this)[4]," ").concat(ks(ly,this)[5])];for(let t=6,n=ks(ly,this).length;t<n;t+=6)isNaN(ks(ly,this)[t])?e.push("L".concat(ks(ly,this)[t+4]," ").concat(ks(ly,this)[t+5])):e.push("C".concat(ks(ly,this)[t]," ").concat(ks(ly,this)[t+1]," ").concat(ks(ly,this)[t+2]," ").concat(ks(ly,this)[t+3]," ").concat(ks(ly,this)[t+4]," ").concat(ks(ly,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,r,i,a]=e;const s=i-n,o=a-r;let l,c;switch(t){case 0:l=ws(cy,this,dy).call(this,ks(ly,this),n,a,s,-o),c=ws(cy,this,dy).call(this,ks(sy,this),n,a,s,-o);break;case 90:l=ws(cy,this,hy).call(this,ks(ly,this),n,r,s,o),c=ws(cy,this,hy).call(this,ks(sy,this),n,r,s,o);break;case 180:l=ws(cy,this,dy).call(this,ks(ly,this),i,r,-s,o),c=ws(cy,this,dy).call(this,ks(sy,this),i,r,-s,o);break;case 270:l=ws(cy,this,hy).call(this,ks(ly,this),i,a,-s,-o),c=ws(cy,this,hy).call(this,ks(sy,this),i,a,-s,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return ks(ry,this)}newOutliner(e,t,n,r,i){return new Gv(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const{x:n,y:r,width:i,height:a}=ks(ry,this),[s,o,l,c]=ks(ny,this),u=i*l,d=a*c,h=n*l+s,f=r*c+o,p=this.newOutliner({x:ks(sy,this)[0]*u+h,y:ks(sy,this)[1]*d+f},ks(ny,this),ks(oy,this),e,ks(ay,this),null!==t&&void 0!==t?t:ks(iy,this));for(let m=2;m<ks(sy,this).length;m+=2)p.add({x:ks(sy,this)[m]*u+h,y:ks(sy,this)[m+1]*d+f});return p.getOutlines()}get mustRemoveSelfIntersections(){return!0}}function dy(e,t,n,r,i){const a=new Float64Array(e.length);for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s]*r,a[s+1]=n+e[s+1]*i;return a}function hy(e,t,n,r,i){const a=new Float64Array(e.length);for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s+1]*r,a[s+1]=n+e[s]*i;return a}function fy(e){const t=ks(ly,this);let n=t[4],r=t[5],i=n,a=r,s=n,o=r,l=n,c=r;const u=e?Math.max:Math.min;for(let m=6,g=t.length;m<g;m+=6){if(isNaN(t[m]))i=Math.min(i,t[m+4]),a=Math.min(a,t[m+5]),s=Math.max(s,t[m+4]),o=Math.max(o,t[m+5]),c<t[m+5]?(l=t[m+4],c=t[m+5]):c===t[m+5]&&(l=u(l,t[m+4]));else{const e=Vo.bezierBoundingBox(n,r,...t.slice(m,m+6));i=Math.min(i,e[0]),a=Math.min(a,e[1]),s=Math.max(s,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=u(l,e[2]))}n=t[m+4],r=t[m+5]}const d=i-ks(iy,this),h=a-ks(iy,this),f=s-i+2*ks(iy,this),p=o-a+2*ks(iy,this);Es(ry,this,{x:d,y:h,width:f,height:p,lastPoint:[l,c]})}var py=new WeakMap,my=new WeakMap,gy=new WeakMap,vy=new WeakSet;class yy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];bs(this,vy),xs(this,py,void 0),xs(this,my,[]),xs(this,gy,[]);let i=1/0,a=-1/0,s=1/0,o=-1/0;const l=10**-4;for(const{x:m,y:g,width:v,height:y}of e){const e=Math.floor((m-t)/l)*l,n=Math.ceil((m+v+t)/l)*l,r=Math.floor((g-t)/l)*l,c=Math.ceil((g+y+t)/l)*l,u=[e,r,c,!0],d=[n,r,c,!1];ks(my,this).push(u,d),i=Math.min(i,e),a=Math.max(a,n),s=Math.min(s,r),o=Math.max(o,c)}const c=a-i+2*n,u=o-s+2*n,d=i-n,h=s-n,f=ks(my,this).at(r?-1:-2),p=[f[0],f[2]];for(const m of ks(my,this)){const[e,t,n]=m;m[0]=(e-d)/c,m[1]=(t-h)/u,m[2]=(n-h)/u}Es(py,this,{x:d,y:h,width:c,height:u,lastPoint:p})}getOutlines(){ks(my,this).sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of ks(my,this))t[3]?(e.push(...ws(vy,this,ky).call(this,t)),ws(vy,this,wy).call(this,t)):(ws(vy,this,_y).call(this,t),e.push(...ws(vy,this,ky).call(this,t)));return ws(vy,this,by).call(this,e)}}function by(e){const t=[],n=new Set;for(const a of e){const[e,n,r]=a;t.push([e,n,a],[e,r,a])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let a=0,s=t.length;a<s;a+=2){const e=t[a][2],r=t[a+1][2];e.push(r),r.push(e),n.add(e),n.add(r)}const r=[];let i;for(;n.size>0;){const e=n.values().next().value;let[t,a,s,o,l]=e;n.delete(e);let c=t,u=a;for(i=[t,s],r.push(i);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,a,s,o,l]=e,c!==t&&(i.push(c,u,t,u===a?a:s),c=t),u=u===a?s:a}i.push(c,u)}return new Sy(r,ks(py,this))}function xy(e){const t=ks(gy,this);let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,a=t[i][0];if(a===e)return i;a<e?n=i+1:r=i-1}return r+1}function wy(e){let[,t,n]=e;const r=ws(vy,this,xy).call(this,t);ks(gy,this).splice(r,0,[t,n])}function _y(e){let[,t,n]=e;const r=ws(vy,this,xy).call(this,t);for(let i=r;i<ks(gy,this).length;i++){const[e,r]=ks(gy,this)[i];if(e!==t)break;if(e===t&&r===n)return void ks(gy,this).splice(i,1)}for(let i=r-1;i>=0;i--){const[e,r]=ks(gy,this)[i];if(e!==t)break;if(e===t&&r===n)return void ks(gy,this).splice(i,1)}}function ky(e){const[t,n,r]=e,i=[[t,n,r]],a=ws(vy,this,xy).call(this,r);for(let s=0;s<a;s++){const[e,n]=ks(gy,this)[s];for(let r=0,a=i.length;r<a;r++){const[,s,o]=i[r];if(!(n<=s||o<=e))if(s>=e)if(o>n)i[r][1]=n;else{if(1===a)return[];i.splice(r,1),r--,a--}else i[r][2]=e,o>n&&i.push([t,n,o])}}return i}var Ey=new WeakMap,Ay=new WeakMap;class Sy extends Pv{constructor(e,t){super(),xs(this,Ey,void 0),xs(this,Ay,void 0),Es(Ay,this,e),Es(Ey,this,t)}toSVGPath(){const e=[];for(const t of ks(Ay,this)){let[n,r]=t;e.push("M".concat(n," ").concat(r));for(let i=2;i<t.length;i+=2){const a=t[i],s=t[i+1];a===n?(e.push("V".concat(s)),r=s):s===r&&(e.push("H".concat(a)),n=a)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,r,i,a]=e;const s=[],o=i-n,l=a-r;for(const c of ks(Ay,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=a-c[t+1]*l;s.push(e)}return s}get box(){return ks(Ey,this)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class jy extends Gv{newFreeDrawOutline(e,t,n,r,i,a){return new Cy(e,t,n,r,i,a)}get classNamesForDrawing(){return["highlight","free"]}}class Cy extends uy{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,r,i){return new jy(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var Ny=new WeakMap,Ty=new WeakMap,Py=new WeakMap,Oy=new WeakMap,My=new WeakMap,Ly=new WeakMap,Ry=new WeakMap,Iy=new WeakMap,Dy=new WeakMap,Fy=new WeakMap,qy=new WeakMap,By=new WeakSet;class Uy{static get _keyboardManager(){return Po(this,"_keyboardManager",new dc([[["Escape","mac+Escape"],Uy.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Uy.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Uy.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Uy.prototype._moveToPrevious],[["Home","mac+Home"],Uy.prototype._moveToBeginning],[["End","mac+End"],Uy.prototype._moveToEnd]]))}constructor(e){var t;let{editor:n=null,uiManager:r=null}=e;bs(this,By),xs(this,Ny,null),xs(this,Ty,null),xs(this,Py,void 0),xs(this,Oy,null),xs(this,My,!1),xs(this,Ly,!1),xs(this,Ry,null),xs(this,Iy,void 0),xs(this,Dy,null),xs(this,Fy,null),xs(this,qy,void 0),n?(Es(Ly,this,!1),Es(qy,this,Us.HIGHLIGHT_COLOR),Es(Ry,this,n)):(Es(Ly,this,!0),Es(qy,this,Us.HIGHLIGHT_DEFAULT_COLOR)),Es(Fy,this,(null===n||void 0===n?void 0:n._uiManager)||r),Es(Iy,this,ks(Fy,this)._eventBus),Es(Py,this,(null===n||void 0===n?void 0:n.color)||(null===(t=ks(Fy,this))||void 0===t?void 0:t.highlightColors.values().next().value)||"#FFFF98"),Xy._||(Xy._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=Es(Ny,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=ks(Fy,this)._signal;e.addEventListener("click",ws(By,this,Vy).bind(this),{signal:t}),e.addEventListener("keydown",ws(By,this,Hy).bind(this),{signal:t});const n=Es(Ty,this,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=ks(Py,this),e.append(n),e}renderMainDropdown(){const e=Es(Oy,this,ws(By,this,Wy).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===ks(Ny,this))return void ws(By,this,Vy).call(this,e);const t=e.target.getAttribute("data-color");t&&ws(By,this,zy).call(this,t,e)}_moveToNext(e){var t,n;_s(By,this,Ky)?e.target!==ks(Ny,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=ks(Oy,this).firstChild)||void 0===n||n.focus():ws(By,this,Vy).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=ks(Oy,this))||void 0===t?void 0:t.firstChild)&&e.target!==ks(Ny,this)?(_s(By,this,Ky)||ws(By,this,Vy).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):_s(By,this,Ky)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;_s(By,this,Ky)?null===(t=ks(Oy,this).firstChild)||void 0===t||t.focus():ws(By,this,Vy).call(this,e)}_moveToEnd(e){var t;_s(By,this,Ky)?null===(t=ks(Oy,this).lastChild)||void 0===t||t.focus():ws(By,this,Vy).call(this,e)}hideDropdown(){var e,t;null===(e=ks(Oy,this))||void 0===e||e.classList.add("hidden"),null===(t=ks(Dy,this))||void 0===t||t.abort(),Es(Dy,this,null)}_hideDropdownFromKeyboard(){var e;ks(Ly,this)||(_s(By,this,Ky)?(this.hideDropdown(),ks(Ny,this).focus({preventScroll:!0,focusVisible:ks(My,this)})):null===(e=ks(Ry,this))||void 0===e||e.unselect())}updateColor(e){if(ks(Ty,this)&&(ks(Ty,this).style.backgroundColor=e),!ks(Oy,this))return;const t=ks(Fy,this).highlightColors.values();for(const n of ks(Oy,this).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=ks(Ny,this))||void 0===e||e.remove(),Es(Ny,this,null),Es(Ty,this,null),null===(t=ks(Oy,this))||void 0===t||t.remove(),Es(Oy,this,null)}}function Wy(){const e=document.createElement("div"),t=ks(Fy,this)._signal;e.addEventListener("contextmenu",yl,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of ks(Fy,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",Xy._[n]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=r,i.setAttribute("aria-selected",r===ks(Py,this)),i.addEventListener("click",ws(By,this,zy).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",ws(By,this,Hy).bind(this),{signal:t}),e}function zy(e,t){t.stopPropagation(),ks(Iy,this).dispatch("switchannotationeditorparams",{source:this,type:ks(qy,this),value:e})}function Hy(e){ds._keyboardManager.exec(this,e)}function Vy(e){if(_s(By,this,Ky))return void this.hideDropdown();if(Es(My,this,0===e.detail),ks(Dy,this)||(Es(Dy,this,new AbortController),window.addEventListener("pointerdown",ws(By,this,Gy).bind(this),{signal:ks(Fy,this).combinedSignal(ks(Dy,this))})),ks(Oy,this))return void ks(Oy,this).classList.remove("hidden");const t=Es(Oy,this,ws(By,this,Wy).call(this));ks(Ny,this).append(t)}function Gy(e){var t;null!==(t=ks(Oy,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function Ky(e){return ks(Oy,e)&&!ks(Oy,e).classList.contains("hidden")}ds=Uy;var Xy={_:null},Yy=new WeakMap,Qy=new WeakMap,Zy=new WeakMap,$y=new WeakMap,Jy=new WeakMap,eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,rb=new WeakMap,ib=new WeakMap,ab=new WeakMap,sb=new WeakMap,ob=new WeakMap,lb=new WeakMap,cb=new WeakMap,ub=new WeakMap,db=new WeakMap,hb=new WeakMap,fb=new WeakSet;class pb extends ld{static get _keyboardManager(){const e=pb.prototype;return Po(this,"_keyboardManager",new dc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(qe(qe({},e),{},{name:"highlightEditor"})),bs(this,fb),xs(this,Yy,null),xs(this,Qy,0),xs(this,Zy,void 0),xs(this,$y,null),xs(this,Jy,null),xs(this,eb,null),xs(this,tb,null),xs(this,nb,0),xs(this,rb,null),xs(this,ib,null),xs(this,ab,null),xs(this,sb,!1),xs(this,ob,null),xs(this,lb,void 0),xs(this,cb,null),xs(this,ub,""),xs(this,db,void 0),xs(this,hb,""),this.color=e.color||pb._defaultColor,Es(db,this,e.thickness||pb._defaultThickness),Es(lb,this,e.opacity||pb._defaultOpacity),Es(Zy,this,e.boxes||null),Es(hb,this,e.methodOfCreation||""),Es(ub,this,e.text||""),this._isDraggable=!1,e.highlightId>-1?(Es(sb,this,!0),ws(fb,this,gb).call(this,e),ws(fb,this,wb).call(this)):ks(Zy,this)&&(Es(Yy,this,e.anchorNode),Es(Qy,this,e.anchorOffset),Es(tb,this,e.focusNode),Es(nb,this,e.focusOffset),ws(fb,this,mb).call(this),ws(fb,this,wb).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:ks(sb,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:ks(db,this),methodOfCreation:ks(hb,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;ld.initialize(e,t),pb._defaultColor||(pb._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Us.HIGHLIGHT_DEFAULT_COLOR:pb._defaultColor=t;break;case Us.HIGHLIGHT_THICKNESS:pb._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return ks(ob,this)}updateParams(e,t){switch(e){case Us.HIGHLIGHT_COLOR:ws(fb,this,vb).call(this,t);break;case Us.HIGHLIGHT_THICKNESS:ws(fb,this,yb).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Us.HIGHLIGHT_DEFAULT_COLOR,pb._defaultColor],[Us.HIGHLIGHT_THICKNESS,pb._defaultThickness]]}get propertiesToUpdate(){return[[Us.HIGHLIGHT_COLOR,this.color||pb._defaultColor],[Us.HIGHLIGHT_THICKNESS,ks(db,this)||pb._defaultThickness],[Us.HIGHLIGHT_FREE,ks(sb,this)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(Es(Jy,this,new Uy({editor:this})),e.addColorPicker(ks(Jy,this))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ws(fb,this,Ab).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,ws(fb,this,Ab).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){ws(fb,this,xb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(ws(fb,this,wb).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)ws(fb,this,xb).call(this);else if(e){var n;ws(fb,this,wb).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;ks(sb,this)?(e=(e-this.rotation+360)%360,n=_b.call(pb,ks(ib,this).box,e)):n=_b.call(pb,this,e),t.rotate(ks(ab,this),e),t.rotate(ks(cb,this),e),t.updateBox(ks(ab,this),n),t.updateBox(ks(cb,this),_b.call(pb,ks(eb,this).box,e))}render(){if(this.div)return this.div;const e=super.render();ks(ub,this)&&(e.setAttribute("aria-label",ks(ub,this)),e.setAttribute("role","mark")),ks(sb,this)?e.classList.add("free"):this.div.addEventListener("keydown",ws(fb,this,kb).bind(this),{signal:this._uiManager._signal});const t=Es(rb,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=ks($y,this);const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),Ql(this,ks(rb,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(ks(cb,this),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(ks(cb,this),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:ws(fb,this,Eb).call(this,!0);break;case 1:case 3:ws(fb,this,Eb).call(this,!1)}}select(){var e,t;super.select(),ks(cb,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(ks(cb,this),"hovered"),null===(t=this.parent)||void 0===t||t.drawLayer.addClass(ks(cb,this),"selected"))}unselect(){var e;super.unselect(),ks(cb,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(ks(cb,this),"selected"),ks(sb,this)||ws(fb,this,Eb).call(this,!1))}get _mustFixPosition(){return!ks(sb,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(ks(ab,this),e),this.parent.drawLayer.show(ks(cb,this),e))}static startHighlighting(e,t,n){let{target:r,x:i,y:a}=n;const{x:s,y:o,width:l,height:c}=r.getBoundingClientRect(),u=new AbortController,d=e.combinedSignal(u),h=t=>{u.abort(),ws(pb,this,Nb).call(this,e,t)};window.addEventListener("blur",h,{signal:d}),window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("pointerdown",(e=>{e.preventDefault(),e.stopPropagation()}),{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",yl,{signal:d}),r.addEventListener("pointermove",ws(pb,this,Cb).bind(this,e),{signal:d}),this._freeHighlight=new jy({x:i,y:a},[s,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static async deserialize(e,t,n){let r=null;if(e instanceof Zg){const{data:{quadPoints:t,rect:n,rotation:i,id:a,color:s,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:Bs.HIGHLIGHT,color:Array.from(s),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:a,deleted:!1,popupRef:l}}else if(e instanceof Qg){const{data:{inkLists:t,rect:n,rotation:i,id:a,color:s,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:Bs.HIGHLIGHT,color:Array.from(s),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:a,deleted:!1,popupRef:l}}const{color:i,quadPoints:a,inkLists:s,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=Vo.makeHexColor(...i),Es(lb,l,o||1),s&&Es(db,l,e.thickness),l.annotationElementId=e.id||null,l._initialData=r;const[c,u]=l.pageDimensions,[d,h]=l.pageTranslation;if(a){const e=Es(Zy,l,[]);for(let t=0;t<a.length;t+=8)e.push({x:(a[t]-d)/c,y:1-(a[t+1]-h)/u,width:(a[t+2]-a[t])/c,height:(a[t+1]-a[t+5])/u});ws(fb,l,mb).call(l),ws(fb,l,wb).call(l),l.rotate(l.rotation)}else if(s){Es(sb,l,!0);const e=s[0],n={x:e[0]-d,y:u-(e[1]-h)},r=new jy(n,[0,0,c,u],1,ks(db,l)/2,!0,.001);for(let t=0,s=e.length;t<s;t+=2)n.x=e[t]-d,n.y=u-(e[t+1]-h),r.add(n);const{id:i,clipPathId:a}=t.drawLayer.draw(r,l.color,l._defaultOpacity,!0);ws(fb,l,gb).call(l,{highlightOutlines:r.getOutlines(),highlightId:i,clipPathId:a}),ws(fb,l,wb).call(l)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=ld._colorManager.convert(this.color),r={annotationType:Bs.HIGHLIGHT,color:n,opacity:ks(lb,this),thickness:ks(db,this),quadPoints:ws(fb,this,Sb).call(this),outlines:ws(fb,this,jb).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:ws(fb,this,Ab).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ws(fb,this,Tb).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function mb(){const e=new yy(ks(Zy,this),.001);Es(ib,this,e.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=ks(ib,this).box);const t=new yy(ks(Zy,this),.0025,.001,"ltr"===this._uiManager.direction);Es(eb,this,t.getOutlines());const{lastPoint:n}=ks(eb,this).box;Es(ob,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function gb(e){let{highlightOutlines:t,highlightId:n,clipPathId:r}=e;Es(ib,this,t);if(Es(eb,this,t.getNewOutline(ks(db,this)/2+1.5,.0025)),n>=0)Es(ab,this,n),Es($y,this,r),this.parent.drawLayer.finalizeLine(n,t),Es(cb,this,this.parent.drawLayer.drawOutline(ks(eb,this)));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(ks(ab,this),t),this.parent.drawLayer.updateBox(ks(ab,this),_b.call(hs,ks(ib,this).box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(ks(cb,this),ks(eb,this)),this.parent.drawLayer.updateBox(ks(cb,this),_b.call(hs,ks(eb,this).box,e))}const{x:i,y:a,width:s,height:o}=t.box;switch(this.rotation){case 0:this.x=i,this.y=a,this.width=s,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=a,this.y=1-i,this.width=s*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-a,this.width=s,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-a,this.y=i,this.width=s*t/e,this.height=o*e/t;break}}const{lastPoint:l}=ks(eb,this).box;Es(ob,this,[(l[0]-i)/s,(l[1]-a)/o])}function vb(e){const t=(e,t)=>{var n,r,i;this.color=e,null===(n=this.parent)||void 0===n||n.drawLayer.changeColor(ks(ab,this),e),null===(r=ks(Jy,this))||void 0===r||r.updateColor(e),Es(lb,this,t),null===(i=this.parent)||void 0===i||i.drawLayer.changeOpacity(ks(ab,this),t)},n=this.color,r=ks(lb,this);this.addCommands({cmd:t.bind(this,e,hs._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Us.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function yb(e){const t=ks(db,this),n=e=>{Es(db,this,e),ws(fb,this,bb).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Us.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function bb(e){if(!ks(sb,this))return;ws(fb,this,gb).call(this,{highlightOutlines:ks(ib,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function xb(){null!==ks(ab,this)&&this.parent&&(this.parent.drawLayer.remove(ks(ab,this)),Es(ab,this,null),this.parent.drawLayer.remove(ks(cb,this)),Es(cb,this,null))}function wb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===ks(ab,this)&&(({id:vs(Es,[ab,this])._,clipPathId:vs(Es,[$y,this])._}=e.drawLayer.draw(ks(ib,this),this.color,ks(lb,this))),Es(cb,this,e.drawLayer.drawOutline(ks(eb,this))),ks(rb,this)&&(ks(rb,this).style.clipPath=ks($y,this)))}function _b(e,t){let{x:n,y:r,width:i,height:a}=e;switch(t){case 90:return{x:1-r-a,y:n,width:a,height:i};case 180:return{x:1-n-i,y:1-r-a,width:i,height:a};case 270:return{x:r,y:1-n-i,width:a,height:i}}return{x:n,y:r,width:i,height:a}}function kb(e){hs._keyboardManager.exec(this,e)}function Eb(e){if(!ks(Yy,this))return;const t=window.getSelection();e?t.setPosition(ks(Yy,this),ks(Qy,this)):t.setPosition(ks(tb,this),ks(nb,this))}function Ab(){return ks(sb,this)?this.rotation:0}function Sb(){if(ks(sb,this))return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,i=ks(Zy,this),a=new Float32Array(8*i.length);let s=0;for(const{x:o,y:l,width:c,height:u}of i){const i=o*e+n,d=(1-l-u)*t+r;a[s]=a[s+4]=i,a[s+1]=a[s+3]=d,a[s+2]=a[s+6]=i+c*e,a[s+5]=a[s+7]=d+u*t,s+=8}return a}function jb(e){return ks(ib,this).serialize(e,ws(fb,this,Ab).call(this))}function Cb(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function Nb(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function Tb(e){const{color:t}=this._initialData;return e.color.some(((e,n)=>e!==t[n]))}hs=pb,De(pb,"_defaultColor",null),De(pb,"_defaultOpacity",1),De(pb,"_defaultThickness",12),De(pb,"_type","highlight"),De(pb,"_editorType",Bs.HIGHLIGHT),De(pb,"_freeHighlightId",-1),De(pb,"_freeHighlight",null),De(pb,"_freeHighlightClipId","");var Pb=new WeakMap,Ob=new WeakMap,Mb=new WeakMap,Lb=new WeakMap,Rb=new WeakMap,Ib=new WeakMap,Db=new WeakMap,Fb=new WeakMap,qb=new WeakMap,Bb=new WeakMap,Ub=new WeakMap,Wb=new WeakMap,zb=new WeakMap,Hb=new WeakSet;class Vb extends ld{constructor(e){super(qe(qe({},e),{},{name:"inkEditor"})),bs(this,Hb),xs(this,Pb,0),xs(this,Ob,0),xs(this,Mb,null),xs(this,Lb,new Path2D),xs(this,Rb,!1),xs(this,Ib,null),xs(this,Db,!1),xs(this,Fb,!1),xs(this,qb,null),xs(this,Bb,null),xs(this,Ub,0),xs(this,Wb,0),xs(this,zb,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){ld.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Us.INK_THICKNESS:Vb._defaultThickness=t;break;case Us.INK_COLOR:Vb._defaultColor=t;break;case Us.INK_OPACITY:Vb._defaultOpacity=t/100}}updateParams(e,t){switch(e){case Us.INK_THICKNESS:ws(Hb,this,Gb).call(this,t);break;case Us.INK_COLOR:ws(Hb,this,Kb).call(this,t);break;case Us.INK_OPACITY:ws(Hb,this,Xb).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Us.INK_THICKNESS,Vb._defaultThickness],[Us.INK_COLOR,Vb._defaultColor||ld._defaultLineColor],[Us.INK_OPACITY,Math.round(100*Vb._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[Us.INK_THICKNESS,this.thickness||Vb._defaultThickness],[Us.INK_COLOR,this.color||Vb._defaultColor||ld._defaultLineColor],[Us.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:Vb._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(ws(Hb,this,lx).call(this),ws(Hb,this,cx).call(this)),this.isAttachedToDOM||(this.parent.add(this),ws(Hb,this,ux).call(this)),ws(Hb,this,bx).call(this)))}remove(){var e;null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ks(Mb,this)&&(clearTimeout(ks(Mb,this)),Es(Mb,this,null)),null===(e=ks(qb,this))||void 0===e||e.disconnect(),Es(qb,this,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){ks(Rb,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,ws(Hb,this,ax).call(this))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),ws(Hb,this,sx).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){ks(Rb,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Es(Rb,this,!0),this.div.classList.add("disabled"),ws(Hb,this,bx).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!ks(Rb,this)&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),ws(Hb,this,Zb).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),ws(Hb,this,$b).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),ws(Hb,this,ox).call(this,e)}canvasPointerleave(e){ws(Hb,this,ox).call(this,e)}get isResizable(){return!this.isEmpty()&&ks(Rb,this)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,i,a]=ws(Hb,this,Yb).call(this);if(this.setAt(n,r,0,0),this.setDims(i,a),ws(Hb,this,lx).call(this),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),Es(Fb,this,!0),ws(Hb,this,ux).call(this),this.setDims(this.width*n,this.height*r),ws(Hb,this,ix).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ws(Hb,this,cx).call(this),this.div}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(ks(Ub,this)===n&&ks(Wb,this)===r)return;Es(Ub,this,n),Es(Wb,this,r),this.canvas.style.visibility="hidden";const[i,a]=this.parentDimensions;this.width=e/i,this.height=t/a,this.fixAndSetPosition(),ks(Rb,this)&&ws(Hb,this,dx).call(this,e,t),ws(Hb,this,ux).call(this),ws(Hb,this,ix).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,t,n){if(e instanceof Qg)return null;const r=await super.deserialize(e,t,n);r.thickness=e.thickness,r.color=Vo.makeHexColor(...e.color),r.opacity=e.opacity;const[i,a]=r.pageDimensions,s=r.width*i,o=r.height*a,l=r.parentScale,c=e.thickness/2;Es(Rb,r,!0),Es(Ub,r,Math.round(s)),Es(Wb,r,Math.round(o));const{paths:u,rect:d,rotation:h}=e;for(let{bezier:p}of u){p=mx.call(Vb,p,d,h);const e=[];r.paths.push(e);let t=l*(p[0]-c),n=l*(p[1]-c);for(let r=2,a=p.length;r<a;r+=6){const i=l*(p[r]-c),a=l*(p[r+1]-c),s=l*(p[r+2]-c),o=l*(p[r+3]-c),u=l*(p[r+4]-c),d=l*(p[r+5]-c);e.push([[t,n],[i,a],[s,o],[u,d]]),t=u,n=d}const i=ws(Vb,this,fx).call(this,e);r.bezierPath2D.push(i)}const f=ws(Hb,r,vx).call(r);return Es(Ob,r,Math.max(ld.MIN_SIZE,f[2]-f[0])),Es(Pb,r,Math.max(ld.MIN_SIZE,f[3]-f[1])),ws(Hb,r,dx).call(r,s,o),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=ld._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Bs.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:ws(Hb,this,gx).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function Gb(e){const t=e=>{this.thickness=e,ws(Hb,this,bx).call(this)},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Us.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Kb(e){const t=e=>{this.color=e,ws(Hb,this,ix).call(this)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Us.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Xb(e){const t=e=>{this.opacity=e,ws(Hb,this,ix).call(this)};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Us.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Yb(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}function Qb(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:a}=this;e.lineWidth=r*i/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat(function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n))}function Zb(e,t){this.canvas.addEventListener("contextmenu",yl,{signal:this._uiManager._signal}),ws(Hb,this,sx).call(this),Es(Ib,this,new AbortController);const n=this._uiManager.combinedSignal(ks(Ib,this));var r;(this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,ks(Fb,this))||(Es(Fb,this,!0),ws(Hb,this,ux).call(this),this.thickness||(this.thickness=fs._defaultThickness),this.color||(this.color=fs._defaultColor||ld._defaultLineColor),null!==(r=this.opacity)&&void 0!==r||(this.opacity=fs._defaultOpacity));this.currentPath.push([e,t]),Es(Db,this,!1),ws(Hb,this,Qb).call(this),Es(zb,this,(()=>{ws(Hb,this,tx).call(this),ks(zb,this)&&window.requestAnimationFrame(ks(zb,this))})),window.requestAnimationFrame(ks(zb,this))}function $b(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const i=this.currentPath;let a=ks(Lb,this);if(i.push([e,t]),Es(Db,this,!0),i.length<=2)return a.moveTo(...i[0]),void a.lineTo(e,t);3===i.length&&(Es(Lb,this,a=new Path2D),a.moveTo(...i[0])),ws(Hb,this,nx).call(this,a,...i.at(-3),...i.at(-2),e,t)}function Jb(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);ks(Lb,this).lineTo(...e)}function ex(e,t){let n;if(Es(zb,this,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),ws(Hb,this,$b).call(this,e,t),ws(Hb,this,Jb).call(this),1!==this.currentPath.length)n=ws(Hb,this,rx).call(this);else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=ks(Lb,this),i=this.currentPath;this.currentPath=[],Es(Lb,this,new Path2D);this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(ws(Hb,this,lx).call(this),ws(Hb,this,cx).call(this)),ws(Hb,this,bx).call(this))},mustExec:!0})}function tx(){if(!ks(Db,this))return;Es(Db,this,!1);const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),r=t.map((e=>e[1])),{ctx:i}=(Math.min(...n),Math.max(...n),Math.min(...r),Math.max(...r),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)i.stroke(a);i.stroke(ks(Lb,this)),i.restore()}function nx(e,t,n,r,i,a,s){const o=(t+r)/2,l=(n+i)/2,c=(r+a)/2,u=(i+s)/2;e.bezierCurveTo(o+2*(r-o)/3,l+2*(i-l)/3,c+2*(r-c)/3,u+2*(i-u)/3,c,u)}function rx(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,i]=e[0];for(n=1;n<e.length-2;n++){const[a,s]=e[n],[o,l]=e[n+1],c=(a+o)/2,u=(s+l)/2,d=[r+2*(a-r)/3,i+2*(s-i)/3],h=[c+2*(a-c)/3,u+2*(s-u)/3];t.push([[r,i],d,h,[c,u]]),[r,i]=[c,u]}const[a,s]=e[n],[o,l]=e[n+1],c=[r+2*(a-r)/3,i+2*(s-i)/3],u=[o+2*(a-o)/3,l+2*(s-l)/3];return t.push([[r,i],c,u,[o,l]]),t}function ix(){if(this.isEmpty())return void ws(Hb,this,hx).call(this);ws(Hb,this,Qb).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),ws(Hb,this,hx).call(this);for(const n of this.bezierPath2D)t.stroke(n)}function ax(){if(ks(Bb,this))return;Es(Bb,this,new AbortController);const e=this._uiManager.combinedSignal(ks(Bb,this));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}function sx(){var e;null===(e=this.pointerdownAC)||void 0===e||e.abort(),this.pointerdownAC=null}function ox(e){var t;null===(t=ks(Ib,this))||void 0===t||t.abort(),Es(Ib,this,null),ws(Hb,this,ax).call(this),ks(Mb,this)&&clearTimeout(ks(Mb,this)),Es(Mb,this,setTimeout((()=>{Es(Mb,this,null),this.canvas.removeEventListener("contextmenu",yl)}),10)),ws(Hb,this,ex).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function lx(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function cx(){Es(qb,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}))),ks(qb,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{var e;null===(e=ks(qb,this))||void 0===e||e.disconnect(),Es(qb,this,null)}),{once:!0})}function ux(){if(!ks(Fb,this))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),ws(Hb,this,hx).call(this)}function dx(e,t){const n=ws(Hb,this,yx).call(this),r=(e-n)/ks(Ob,this),i=(t-n)/ks(Pb,this);this.scaleFactor=Math.min(r,i)}function hx(){const e=ws(Hb,this,yx).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function fx(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,a,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],a[0],a[1],s[0],s[1])}return t}function px(e,t,n){const[r,i,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}function mx(e,t,n){const[r,i,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}function gx(e,t,n,r){const i=[],a=this.thickness/2,s=e*t+a,o=e*n+a;for(const l of this.paths){const t=[],n=[];for(let r=0,i=l.length;r<i;r++){const[a,c,u,d]=l[r];if(a[0]===d[0]&&a[1]===d[1]&&1===i){const r=e*a[0]+s,i=e*a[1]+o;t.push(r,i),n.push(r,i);break}const h=e*a[0]+s,f=e*a[1]+o,p=e*c[0]+s,m=e*c[1]+o,g=e*u[0]+s,v=e*u[1]+o,y=e*d[0]+s,b=e*d[1]+o;0===r&&(t.push(h,f),n.push(h,f)),t.push(p,m,g,v,y,b),n.push(p,m),r===i-1&&n.push(y,b)}i.push({bezier:px.call(fs,t,r,this.rotation),points:px.call(fs,n,r,this.rotation)})}return i}function vx(){let e=1/0,t=-1/0,n=1/0,r=-1/0;for(const i of this.paths)for(const[a,s,o,l]of i){const i=Vo.bezierBoundingBox(...a,...s,...o,...l);e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[2]),r=Math.max(r,i[3])}return[e,n,t,r]}function yx(){return ks(Rb,this)?Math.ceil(this.thickness*this.parentScale):0}function bx(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!ks(Rb,this))return void ws(Hb,this,ix).call(this);const t=ws(Hb,this,vx).call(this),n=ws(Hb,this,yx).call(this);Es(Ob,this,Math.max(ld.MIN_SIZE,t[2]-t[0])),Es(Pb,this,Math.max(ld.MIN_SIZE,t[3]-t[1]));const r=Math.ceil(n+ks(Ob,this)*this.scaleFactor),i=Math.ceil(n+ks(Pb,this)*this.scaleFactor),[a,s]=this.parentDimensions;this.width=r/a,this.height=i/s,this.setAspectRatio(r,i);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],ws(Hb,this,ux).call(this),ws(Hb,this,ix).call(this),Es(Ub,this,r),Es(Wb,this,i),this.setDims(r,i);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}fs=Vb,De(Vb,"_defaultColor",null),De(Vb,"_defaultOpacity",1),De(Vb,"_defaultThickness",1),De(Vb,"_type","ink"),De(Vb,"_editorType",Bs.INK);var xx=new WeakMap,wx=new WeakMap,_x=new WeakMap,kx=new WeakMap,Ex=new WeakMap,Ax=new WeakMap,Sx=new WeakMap,jx=new WeakMap,Cx=new WeakMap,Nx=new WeakMap,Tx=new WeakMap,Px=new WeakSet;class Ox extends ld{constructor(e){super(qe(qe({},e),{},{name:"stampEditor"})),bs(this,Px),xs(this,xx,null),xs(this,wx,null),xs(this,_x,null),xs(this,kx,null),xs(this,Ex,null),xs(this,Ax,""),xs(this,Sx,null),xs(this,jx,null),xs(this,Cx,null),xs(this,Nx,!1),xs(this,Tx,!1),Es(kx,this,e.bitmapUrl),Es(Ex,this,e.bitmapFile)}static initialize(e,t){ld.initialize(e,t)}static get supportedTypes(){return Po(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>"image/".concat(e))))}static get supportedTypesStr(){return Po(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Bs.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const r=e.get("hasAltText");return{hasAltText:null!==(t=r.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=r.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:i,height:a}=e||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:r,width:i,height:a,channels:r.length/(i*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e,t;ks(wx,this)&&(Es(xx,this,null),this._uiManager.imageManager.deleteId(ks(wx,this)),null===(e=ks(Sx,this))||void 0===e||e.remove(),Es(Sx,this,null),null===(t=ks(jx,this))||void 0===t||t.disconnect(),Es(jx,this,null),ks(Cx,this)&&(clearTimeout(ks(Cx,this)),Es(Cx,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(ks(wx,this)&&null===ks(Sx,this)&&ws(Px,this,Rx).call(this),this.isAttachedToDOM||this.parent.add(this))):ks(wx,this)&&ws(Px,this,Rx).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(ks(_x,this)||ks(xx,this)||ks(kx,this)||ks(Ex,this)||ks(wx,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),ks(xx,this)?ws(Px,this,Ix).call(this):ws(Px,this,Rx).call(this),this.width&&!this.annotationElementId){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:r,height:i}=ks(xx,this),a=new jl;let s=ks(xx,this),o=r,l=i,c=null;if(t){var u,d;if(r>t||i>t){const e=Math.min(t/r,t/i);o=Math.floor(r*e),l=Math.floor(i*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*a.sx),n=c.height=Math.ceil(l*a.sy);ks(Nx,this)||(s=ws(Px,this,Fx).call(this,e,n));const h=c.getContext("2d");h.filter=this._uiManager.hcmFilter;let f="white",p="#cfcfd8";"none"!==this._uiManager.hcmFilter?p="black":null!==(u=(d=window).matchMedia)&&void 0!==u&&u.call(d,"(prefers-color-scheme: dark)").matches&&(f="#8f8f9d",p="#42414d");const m=15,g=m*a.sx,v=m*a.sy,y=new OffscreenCanvas(2*g,2*v),b=y.getContext("2d");b.fillStyle=f,b.fillRect(0,0,2*g,2*v),b.fillStyle=p,b.fillRect(0,0,g,v),b.fillRect(g,v,g,v),h.fillStyle=h.createPattern(y,"repeat"),h.fillRect(0,0,e,n),h.drawImage(s,0,0,s.width,s.height,0,0,e,n)}let h=null;if(n){let t,n;if(a.symmetric&&s.width<e&&s.height<e)t=s.width,n=s.height;else if(s=ks(xx,this),r>e||i>e){const a=Math.min(e/r,e/i);t=Math.floor(r*a),n=Math.floor(i*a),ks(Nx,this)||(s=ws(Px,this,Fx).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(s,0,0,s.width,s.height,0,0,t,n),h={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:h}}getImageForAltText(){return ks(Sx,this)}static async deserialize(e,t,n){let r=null;if(e instanceof tv){var i;const{data:{rect:a,rotation:s,id:o,structParent:l,popupRef:c},container:u,parent:{page:{pageNumber:d}}}=e,h=u.querySelector("canvas"),f=n.imageManager.getFromCanvas(u.id,h);h.remove();const p=(null===(i=await t._structTree.getAriaAttributes("".concat(Zo).concat(o)))||void 0===i?void 0:i.get("aria-label"))||"";r=e={annotationType:Bs.STAMP,bitmapId:f.id,bitmap:f.bitmap,pageIndex:d-1,rect:a.slice(0),rotation:s,id:o,deleted:!1,accessibilityData:{decorative:!1,altText:p},isSvg:!1,structParent:l,popupRef:c}}const a=await super.deserialize(e,t,n),{rect:s,bitmap:o,bitmapUrl:l,bitmapId:c,isSvg:u,accessibilityData:d}=e;c&&n.imageManager.isValidId(c)?(Es(wx,a,c),o&&Es(xx,a,o)):Es(kx,a,l),Es(Nx,a,u);const[h,f]=a.pageDimensions;return a.width=(s[2]-s[0])/h,a.height=(s[3]-s[1])/f,a.annotationElementId=e.id||null,d&&(a.altTextData=d),a._initialData=r,Es(Tx,a,!!r),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Bs.STAMP,bitmapId:ks(wx,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:ks(Nx,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=ws(Px,this,Bx).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:r,altText:i}=this.serializeAltText(!1);if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const e=ws(Px,this,Wx).call(this,n);if(e.isSame)return null;var a;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(a=this._initialData.structParent)&&void 0!==a?a:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const s=ks(Nx,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(ks(wx,this))){if(ks(Nx,this)){const e=t.stamps.get(ks(wx,this));s>e.area&&(e.area=s,e.serialized.bitmap.close(),e.serialized.bitmap=ws(Px,this,Bx).call(this,!1))}}else t.stamps.set(ks(wx,this),{area:s,serialized:n}),n.bitmap=ws(Px,this,Bx).call(this,!1);return n}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}function Mx(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(Es(xx,this,e.bitmap),t||(Es(wx,this,e.id),Es(Nx,this,e.isSvg)),e.file&&Es(Ax,this,e.file.name),ws(Px,this,Ix).call(this)):this.remove()}function Lx(){if(Es(_x,this,null),this._uiManager.enableWaiting(!1),ks(Sx,this)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&ks(xx,this))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&ks(xx,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function Rx(){if(ks(wx,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(ks(wx,this)).then((e=>ws(Px,this,Mx).call(this,e,!0))).finally((()=>ws(Px,this,Lx).call(this)));if(ks(kx,this)){const e=ks(kx,this);return Es(kx,this,null),this._uiManager.enableWaiting(!0),void Es(_x,this,this._uiManager.imageManager.getFromUrl(e).then((e=>ws(Px,this,Mx).call(this,e))).finally((()=>ws(Px,this,Lx).call(this))))}if(ks(Ex,this)){const e=ks(Ex,this);return Es(Ex,this,null),this._uiManager.enableWaiting(!0),void Es(_x,this,this._uiManager.imageManager.getFromFile(e).then((e=>ws(Px,this,Mx).call(this,e))).finally((()=>ws(Px,this,Lx).call(this))))}const e=document.createElement("input");e.type="file",e.accept=ps.supportedTypesStr;const t=this._uiManager._signal;Es(_x,this,new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ws(Px,this,Mx).call(this,t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>ws(Px,this,Lx).call(this)))),e.click()}function Ix(){const{div:e}=this;let{width:t,height:n}=ks(xx,this);const[r,i]=this.pageDimensions,a=.75;if(this.width)t=this.width*r,n=this.height*i;else if(t>a*r||n>a*i){const e=Math.min(a*r/t,a*i/n);t*=e,n*=e}const[s,o]=this.parentDimensions;this.setDims(t*s/r,n*o/i),this._uiManager.enableWaiting(!1);const l=Es(Sx,this,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),ws(Px,this,qx).call(this,t,n),ws(Px,this,Ux).call(this),ks(Tx,this)||(this.parent.addUndoableEditor(this),Es(Tx,this,!0)),this._reportTelemetry({action:"inserted_image"}),ks(Ax,this)&&l.setAttribute("aria-label",ks(Ax,this))}function Dx(e,t){var n;const[r,i]=this.parentDimensions;this.width=e/r,this.height=t/i,null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==ks(Cx,this)&&clearTimeout(ks(Cx,this));Es(Cx,this,setTimeout((()=>{Es(Cx,this,null),ws(Px,this,qx).call(this,e,t)}),200))}function Fx(e,t){const{width:n,height:r}=ks(xx,this);let i=n,a=r,s=ks(xx,this);for(;i>2*e||a>2*t;){const n=i,r=a;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(i,a);o.getContext("2d").drawImage(s,0,0,n,r,0,0,i,a),s=o.transferToImageBitmap()}return s}function qx(e,t){const n=new jl,r=Math.ceil(e*n.sx),i=Math.ceil(t*n.sy),a=ks(Sx,this);if(!a||a.width===r&&a.height===i)return;a.width=r,a.height=i;const s=ks(Nx,this)?ks(xx,this):ws(Px,this,Fx).call(this,r,i),o=a.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,r,i)}function Bx(e){if(e){if(ks(Nx,this)){const e=this._uiManager.imageManager.getSvgUrl(ks(wx,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=ks(xx,this));return e.getContext("2d").drawImage(ks(xx,this),0,0),e.toDataURL()}if(ks(Nx,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*ll.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*ll.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(ks(xx,this),0,0,ks(xx,this).width,ks(xx,this).height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(ks(xx,this))}function Ux(){this._uiManager._signal&&(Es(jx,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&ws(Px,this,Dx).call(this,t.width,t.height)}))),ks(jx,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{var e;null===(e=ks(jx,this))||void 0===e||e.disconnect(),Es(jx,this,null)}),{once:!0}))}function Wx(e){var t;const{rect:n,pageIndex:r,accessibilityData:{altText:i}}=this._initialData,a=e.rect.every(((e,t)=>Math.abs(e-n[t])<1)),s=e.pageIndex===r,o=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===i;return{isSame:a&&s&&o,isSameAltText:o}}ps=Ox,De(Ox,"_type","stamp"),De(Ox,"_editorType",Bs.STAMP);var zx=new WeakMap,Hx=new WeakMap,Vx=new WeakMap,Gx=new WeakMap,Kx=new WeakMap,Xx=new WeakMap,Yx=new WeakMap,Qx=new WeakMap,Zx=new WeakMap,$x=new WeakMap,Jx=new WeakMap,ew=new WeakMap,tw=new WeakSet;class nw{constructor(e){let{uiManager:t,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:u}=e;bs(this,tw),xs(this,zx,void 0),xs(this,Hx,!1),xs(this,Vx,null),xs(this,Gx,null),xs(this,Kx,null),xs(this,Xx,new Map),xs(this,Yx,!1),xs(this,Qx,!1),xs(this,Zx,!1),xs(this,$x,null),xs(this,Jx,null),xs(this,ew,void 0);const d=[...lw._.values()];if(!nw._initialized){nw._initialized=!0;for(const e of d)e.initialize(u,t)}t.registerEditorTypes(d),Es(ew,this,t),this.pageIndex=n,this.div=r,Es(zx,this,a),Es(Vx,this,s),this.viewport=c,Es($x,this,l),this.drawLayer=o,this._structTree=i,ks(ew,this).addLayer(this)}get isEmpty(){return 0===ks(Xx,this).size}get isInvisible(){return this.isEmpty&&ks(ew,this).getMode()===Bs.NONE}updateToolbar(e){ks(ew,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ks(ew,this).getMode();switch(ws(tw,this,ow).call(this),e){case Bs.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Bs.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Bs.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of lw._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=ks($x,this))||void 0===t?void 0:t.div)}addInkEditorIfNeeded(e){if(ks(ew,this).getMode()!==Bs.INK)return;if(!e)for(const t of ks(Xx,this).values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){ks(ew,this).setEditingState(e)}addCommands(e){ks(ew,this).addCommands(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=ks(Vx,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of ks(Xx,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(ks(ew,this).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!ks(Vx,this))return;const t=ks(Vx,this).getEditableAnnotations();for(const n of t){if(n.hide(),ks(ew,this).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){Es(Zx,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of ks(Xx,this).values()){var n;i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),null===(n=this.getEditableAnnotation(i.annotationElementId))||void 0===n||n.show(),i.remove()):e.set(i.annotationElementId,i))}if(ks(Vx,this)){const n=ks(Vx,this).getEditableAnnotations();for(const r of n){const{id:n}=r.data;if(ks(ew,this).isDeletedAnnotationElement(n))continue;let i=t.get(n);i?(i.resetAnnotationElement(r),i.show(!1),r.show()):(i=e.get(n),i&&(ks(ew,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(r)&&i.show(!1)),r.show())}}ws(tw,this,ow).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of lw._.values())r.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Es(Zx,this,!1)}getEditableAnnotation(e){var t;return(null===(t=ks(Vx,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){ks(ew,this).getActive()!==e&&ks(ew,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=ks($x,this))&&void 0!==e&&e.div&&!ks(Jx,this)){Es(Jx,this,new AbortController);const e=ks(ew,this).combinedSignal(ks(Jx,this));ks($x,this).div.addEventListener("pointerdown",ws(tw,this,rw).bind(this),{signal:e}),ks($x,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=ks($x,this))&&void 0!==e&&e.div&&ks(Jx,this)&&(ks(Jx,this).abort(),Es(Jx,this,null),ks($x,this).div.classList.remove("highlighting"))}enableClick(){if(ks(Gx,this))return;Es(Gx,this,new AbortController);const e=ks(ew,this).combinedSignal(ks(Gx,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;null===(e=ks(Gx,this))||void 0===e||e.abort(),Es(Gx,this,null)}attach(e){ks(Xx,this).set(e.id,e);const{annotationElementId:t}=e;t&&ks(ew,this).isDeletedAnnotationElement(t)&&ks(ew,this).removeDeletedAnnotationElement(e)}detach(e){var t;ks(Xx,this).delete(e.id),null===(t=ks(zx,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!ks(Zx,this)&&e.annotationElementId&&ks(ew,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),ks(ew,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,ks(Qx,this)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(ks(ew,this).addDeletedAnnotationElement(e.annotationElementId),ld.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),ks(ew,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),ks(ew,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!ks(Kx,this)&&(e._focusEventsAllowed=!1,Es(Kx,this,setTimeout((()=>{Es(Kx,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:ks(ew,this)._signal}),n.focus())}),0))),e._structTreeParentId=null===(t=ks(zx,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return ks(ew,this).getId()}combinedSignal(e){return ks(ew,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=_s(tw,this,iw))||void 0===e?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){ks(ew,this).updateToolbar(e),ks(ew,this).updateMode(e);const{offsetX:n,offsetY:r}=ws(tw,this,sw).call(this),i=this.getNextId(),a=ws(tw,this,aw).call(this,qe({parent:this,id:i,x:n,y:r,uiManager:ks(ew,this),isCentered:!0},t));a&&this.add(a)}async deserialize(e){var t,n;return await(null===(t=lw._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,ks(ew,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=ws(tw,this,aw).call(this,qe({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:ks(ew,this),isCentered:t},n));return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(ws(tw,this,sw).call(this),!0)}setSelected(e){ks(ew,this).setSelected(e)}toggleSelected(e){ks(ew,this).toggleSelected(e)}unselect(e){ks(ew,this).unselect(e)}pointerup(e){const{isMac:t}=zo.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&ks(Yx,this)&&(Es(Yx,this,!1),ks(Hx,this)?ks(ew,this).getMode()!==Bs.STAMP?this.createAndAddNewEditor(e,!1):ks(ew,this).unselectAll():Es(Hx,this,!0))}pointerdown(e){if(ks(ew,this).getMode()===Bs.HIGHLIGHT&&this.enableTextSelection(),ks(Yx,this))return void Es(Yx,this,!1);const{isMac:t}=zo.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;Es(Yx,this,!0);const n=ks(ew,this).getActive();Es(Hx,this,!n||n.isEmpty())}findNewParent(e,t,n){const r=ks(ew,this).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){var e;(null===(e=ks(ew,this).getActive())||void 0===e?void 0:e.parent)===this&&(ks(ew,this).commitOrRemove(),ks(ew,this).setActiveEditor(null)),ks(Kx,this)&&(clearTimeout(ks(Kx,this)),Es(Kx,this,null));for(const n of ks(Xx,this).values()){var t;null===(t=ks(zx,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,ks(Xx,this).clear(),ks(ew,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,Sl(this.div,t);for(const n of ks(ew,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;ks(ew,this).commitOrRemove(),ws(tw,this,ow).call(this);const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Sl(this.div,{rotation:r}),n!==r)for(const i of ks(Xx,this).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return ks(ew,this).viewParameters.realScale}}function rw(e){ks(ew,this).unselectAll();const{target:t}=e;if(t===ks($x,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&ks($x,this).div.contains(t)){const{isMac:t}=zo.platform;if(0!==e.button||e.ctrlKey&&t)return;ks(ew,this).showAllEditors("highlight",!0,!0),ks($x,this).div.classList.add("free"),this.toggleDrawing(),pb.startHighlighting(this,"ltr"===ks(ew,this).direction,{target:ks($x,this).div,x:e.x,y:e.y}),ks($x,this).div.addEventListener("pointerup",(()=>{ks($x,this).div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:ks(ew,this)._signal}),e.preventDefault()}}function iw(e){return lw._.get(ks(ew,e).getMode())}function aw(e){const t=_s(tw,this,iw);return t?new t.prototype.constructor(e):null}function sw(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),s=(i+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}function ow(){Es(Qx,this,!0);for(const e of ks(Xx,this).values())e.isEmpty()&&e.remove();Es(Qx,this,!1)}De(nw,"_initialized",!1);var lw={_:new Map([wv,Vb,Ox,pb].map((e=>[e._editorType,e])))},cw=new WeakMap,uw=new WeakMap,dw=new WeakMap,hw=new WeakMap,fw=new WeakSet;class pw{constructor(e){let{pageIndex:t}=e;bs(this,fw),xs(this,cw,null),xs(this,uw,0),xs(this,dw,new Map),xs(this,hw,new Map),this.pageIndex=t}setParent(e){if(ks(cw,this)){if(ks(cw,this)!==e){if(ks(dw,this).size>0)for(const t of ks(dw,this).values())t.remove(),e.append(t);Es(cw,this,e)}}else Es(cw,this,e)}static get _svgFactory(){return Po(this,"_svgFactory",new Im)}draw(e,t,n){var r,i;let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=(Es(uw,this,(r=ks(uw,this),i=r++,r)),i),o=ws(fw,this,gw).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const l=pw._svgFactory.createElement("defs");o.append(l);const c=pw._svgFactory.createElement("path");l.append(c);const u="path_p".concat(this.pageIndex,"_").concat(s);c.setAttribute("id",u),c.setAttribute("d",e.toSVGPath()),a&&ks(hw,this).set(s,c);const d=ws(fw,this,vw).call(this,l,u),h=pw._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),h.setAttribute("href","#".concat(u)),ks(dw,this).set(s,o),{id:s,clipPathId:"url(#".concat(d,")")}}drawOutline(e){var t,n;const r=(Es(uw,this,(t=ks(uw,this),n=t++,t)),n),i=ws(fw,this,gw).call(this,e.box);i.classList.add(...e.classNamesForOutlining);const a=pw._svgFactory.createElement("defs");i.append(a);const s=pw._svgFactory.createElement("path");a.append(s);const o="path_p".concat(this.pageIndex,"_").concat(r);let l;if(s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.mustRemoveSelfIntersections){const e=pw._svgFactory.createElement("mask");a.append(e),l="mask_p".concat(this.pageIndex,"_").concat(r),e.setAttribute("id",l),e.setAttribute("maskUnits","objectBoundingBox");const t=pw._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=pw._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(o)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const c=pw._svgFactory.createElement("use");i.append(c),c.setAttribute("href","#".concat(o)),l&&c.setAttribute("mask","url(#".concat(l,")"));const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),ks(dw,this).set(r,i),r}finalizeLine(e,t){const n=ks(hw,this).get(e);ks(hw,this).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){ks(dw,this).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){ks(hw,this).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){mw.call(pw,ks(dw,this).get(e),t)}show(e,t){ks(dw,this).get(e).classList.toggle("hidden",!t)}rotate(e,t){ks(dw,this).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){ks(dw,this).get(e).setAttribute("fill",t)}changeOpacity(e,t){ks(dw,this).get(e).setAttribute("fill-opacity",t)}addClass(e,t){ks(dw,this).get(e).classList.add(t)}removeClass(e,t){ks(dw,this).get(e).classList.remove(t)}getSVGRoot(e){return ks(dw,this).get(e)}remove(e){ks(hw,this).delete(e),null!==ks(cw,this)&&(ks(dw,this).get(e).remove(),ks(dw,this).delete(e))}destroy(){Es(cw,this,null);for(const e of ks(dw,this).values())e.remove();ks(dw,this).clear(),ks(hw,this).clear()}}function mw(e){let{x:t=0,y:n=0,width:r=1,height:i=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:a}=e;a.top="".concat(100*n,"%"),a.left="".concat(100*t,"%"),a.width="".concat(100*r,"%"),a.height="".concat(100*i,"%")}function gw(e){const t=ms._svgFactory.create(1,1,!0);return ks(cw,this).append(t),t.setAttribute("aria-hidden",!0),mw.call(ms,t,e),t}function vw(e,t){const n=ms._svgFactory.createElement("clipPath");e.append(n);const r="clip_".concat(t);n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const i=ms._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),r}ms=pw;var yw=Ss.AnnotationLayer,bw=Ss.AnnotationMode,xw=Ss.GlobalWorkerOptions,ww=Ss.PDFDataRangeTransport,_w=Ss.TextLayer,kw=Ss.getDocument,Ew=Ss.version,Aw=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Sw=Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw(Aw([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function jw(e,t){var n={};return Sw.forEach((function(r){var i=e[r];i&&(n[r]=t?function(e){return i(e,t(r))}:i)})),n}function Cw(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&r(e)}))})),cancel:function(){t=!0}}}function Nw(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Nw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Tw=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Nw(e))&&(r&&(r+=" "),r+=t);return r};var Pw="Invariant failed";function Ow(e,t){if(!e)throw new Error(Pw)}var Mw=n(6440),Lw=Object.prototype.hasOwnProperty;function Rw(e,t,n){for(n of e.keys())if(Iw(n,t))return n}function Iw(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Iw(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=Rw(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=Rw(t,i)))return!1;if(!Iw(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Lw.call(e,n)&&++r&&!Lw.call(t,n))return!1;if(!(n in t)||!Iw(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const Dw=(0,i.createContext)(null);function Fw(e){let{children:t,type:n}=e;return(0,br.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:t})}class qw{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ow(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ow(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{Ow(this.pdfDocument),Ow(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{Ow(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));const t=e[0];new Promise((e=>{Ow(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{Ow(!1,'"'.concat(t,'" is not a valid page reference.'))})):"number"===typeof t?e(t):Ow(!1,'"'.concat(t,'" is not a valid destination reference.'))})).then((t=>{const n=t+1;Ow(this.pdfViewer),Ow(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ow(this.pdfViewer),Ow(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Bw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Uw="undefined"!==typeof window,Ww=Uw&&"file:"===window.location.protocol;function zw(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function Hw(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function Vw(e){Ow(Hw(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function Gw(){return Uw&&window.devicePixelRatio||1}const Kw="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Xw(){Mw(!Ww,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(Kw))}function Yw(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function Qw(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function Zw(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function $w(){return(0,i.useReducer)(Zw,{value:void 0,error:void 0})}var Jw=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(ik){a(ik)}}function o(e){try{l(r.throw(e))}catch(ik){a(ik)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},e_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const{Tm:t_}=t,n_=(e,t)=>{switch(t){case Bw.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case Bw.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function r_(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const i_=(0,i.forwardRef)((function(e,t){var{children:n,className:r,error:a="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:f,onLoadError:p,onLoadProgress:m,onLoadSuccess:g,onPassword:v=n_,onSourceError:y,onSourceSuccess:b,options:x,renderMode:w,rotate:_}=e,k=e_(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[E,A]=$w(),{value:S,error:j}=E,[C,N]=$w(),{value:T,error:P}=C,O=(0,i.useRef)(new qw),M=(0,i.useRef)([]),L=(0,i.useRef)(void 0),R=(0,i.useRef)(void 0);l&&l!==L.current&&r_(l)&&(Mw(!Iw(l,L.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),L.current=l),x&&x!==R.current&&(Mw(!Iw(x,R.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),R.current=x);const I=(0,i.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:r=n-1}=e;if(f)return void f({dest:t,pageIndex:r,pageNumber:n});const i=M.current[r];i?i.scrollIntoView():Mw(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,i.useImperativeHandle)(t,(()=>({linkService:O,pages:M,viewer:I})),[]),(0,i.useEffect)((function(){A({type:"RESET"})}),[l,A]);const D=(0,i.useCallback)((()=>Jw(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(Hw(l)){return{data:Vw(l)}}return Xw(),{url:l}}if(l instanceof t_)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Uw&&function(e){return Ow(Uw),e instanceof Blob}(l)){const e=yield function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));t(r.result)},r.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e)}))}(l);return{data:e}}if(Ow("object"===typeof l),Ow(r_(l)),"url"in l&&"string"===typeof l.url){if(Hw(l.url)){const{url:e}=l,t=e_(l,["url"]),n=Vw(e);return Object.assign({data:n},t)}Xw()}return l}))),[l]);(0,i.useEffect)((()=>{const e=Cw(D());return e.promise.then((e=>{A({type:"RESOLVE",value:e})})).catch((e=>{A({type:"REJECT",error:e})})),()=>{Yw(e)}}),[D,A]),(0,i.useEffect)((()=>{"undefined"!==typeof S&&(!1!==S?b&&b():j&&(Mw(!1,j.toString()),y&&y(j)))}),[S]),(0,i.useEffect)((function(){N({type:"RESET"})}),[N,S]),(0,i.useEffect)((function(){if(!S)return;const e=x?Object.assign(Object.assign({},S),x):S,t=kw(e);m&&(t.onProgress=m),v&&(t.onPassword=v);const n=t,r=n.promise.then((e=>{N({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||N({type:"REJECT",error:e})}));return()=>{r.finally((()=>n.destroy()))}}),[x,N,S]),(0,i.useEffect)((()=>{"undefined"!==typeof T&&(!1!==T?T&&(g&&g(T),M.current=new Array(T.numPages),O.current.setDocument(T)):P&&(Mw(!1,P.toString()),p&&p(P)))}),[T]),(0,i.useEffect)((function(){O.current.setViewer(I.current),O.current.setExternalLinkRel(s),O.current.setExternalLinkTarget(o)}),[s,o]);const F=(0,i.useCallback)(((e,t)=>{M.current[e]=t}),[]),q=(0,i.useCallback)((e=>{delete M.current[e]}),[]),B=(0,i.useMemo)((()=>({imageResourcesPath:u,linkService:O.current,onItemClick:f,pdf:T,registerPage:F,renderMode:w,rotate:_,unregisterPage:q})),[u,f,T,F,w,_,q]),U=(0,i.useMemo)((()=>jw(k,(()=>T))),[k,T]);return(0,br.jsx)("div",Object.assign({className:Tw("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},U,{children:l?void 0===T||null===T?(0,br.jsx)(Fw,{type:"loading",children:"function"===typeof d?d():d}):!1===T?(0,br.jsx)(Fw,{type:"error",children:"function"===typeof a?a():a}):(0,br.jsx)(Dw.Provider,{value:B,children:n}):(0,br.jsx)(Fw,{type:"no-data",children:"function"===typeof h?h():h})}))})),a_=i_;function s_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const o_=(0,i.createContext)(null),l_={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},c_=/^H(\d+)$/;function u_(e){return"children"in e}function d_(e){return!!u_(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function h_(e){const t={};if(u_(e)){const{role:n}=e,r=n.match(c_);if(r)t.role="heading",t["aria-level"]=Number(r[1]);else if(function(e){return e in l_}(n)){const e=l_[n];e&&(t.role=e)}}return t}function f_(e){const t={};if(u_(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),d_(e)){const[n]=e.children;if(n){const e=f_(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function p_(e){return e?Object.assign(Object.assign({},h_(e)),f_(e)):null}function m_(e){let{className:t,node:n}=e;const r=(0,i.useMemo)((()=>p_(n)),[n]),a=(0,i.useMemo)((()=>u_(n)?d_(n)?null:n.children.map(((e,t)=>(0,br.jsx)(m_,{node:e},t))):null),[n]);return(0,br.jsx)("span",Object.assign({className:t},r,{children:a}))}function g_(){return(0,i.useContext)(o_)}function v_(){const e=g_();Ow(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[r,a]=$w(),{value:s,error:o}=r,{customTextRenderer:l,page:c}=e;return(0,i.useEffect)((function(){a({type:"RESET"})}),[a,c]),(0,i.useEffect)((function(){if(l)return;if(!c)return;const e=Cw(c.getStructTree()),t=e;return e.promise.then((e=>{a({type:"RESOLVE",value:e})})).catch((e=>{a({type:"REJECT",error:e})})),()=>Yw(t)}),[l,c,a]),(0,i.useEffect)((()=>{void 0!==s&&(!1!==s?s&&n&&n(s):o&&(Mw(!1,o.toString()),t&&t(o)))}),[s]),s?(0,br.jsx)(m_,{className:"react-pdf__Page__structTree structTree",node:s}):null}const y_=bw;function b_(e){const t=g_();Ow(t);const n=Object.assign(Object.assign({},t),e),{_className:r,canvasBackground:a,devicePixelRatio:s=Gw(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=n,{canvasRef:p}=e;Ow(c);const m=(0,i.useRef)(null);function g(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(Mw(!1,e.toString()),o&&o(e))}const v=(0,i.useMemo)((()=>c.getViewport({scale:f*s,rotation:h})),[s,c,h,f]),y=(0,i.useMemo)((()=>c.getViewport({scale:f,rotation:h})),[c,h,f]);(0,i.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=m;if(!e)return;e.width=v.width,e.height=v.height,e.style.width="".concat(Math.floor(y.width),"px"),e.style.height="".concat(Math.floor(y.height),"px"),e.style.visibility="hidden";const t={annotationMode:u?y_.ENABLE_FORMS:y_.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};a&&(t.background=a);const n=c.render(t),r=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(Qw(c,f))})).catch(g),()=>Yw(r)}),[a,c,u,v,y]);const b=(0,i.useCallback)((()=>{const{current:e}=m;e&&(e.width=0,e.height=0)}),[]);return(0,i.useEffect)((()=>b),[b]),(0,br.jsx)("canvas",{className:"".concat(r,"__canvas"),dir:"ltr",ref:s_(p,m),style:{display:"block",userSelect:"none"},children:d?(0,br.jsx)(v_,{}):null})}function x_(){const e=g_();Ow(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:a,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=e;Ow(o);const[h,f]=$w(),{value:p,error:m}=h,g=(0,i.useRef)(null);Mw(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,i.useEffect)((function(){f({type:"RESET"})}),[o,f]),(0,i.useEffect)((function(){if(!o)return;const e=Cw(o.getTextContent()),t=e;return e.promise.then((e=>{f({type:"RESOLVE",value:e})})).catch((e=>{f({type:"REJECT",error:e})})),()=>Yw(t)}),[o,f]),(0,i.useEffect)((()=>{void 0!==p&&(!1!==p?p&&r&&r(p):m&&(Mw(!1,m.toString()),n&&n(m)))}),[p]);const v=(0,i.useCallback)((()=>{s&&s()}),[s]),y=(0,i.useCallback)((e=>{Mw(!1,e.toString()),a&&a(e)}),[a]);const b=(0,i.useMemo)((()=>o.getViewport({scale:d,rotation:u})),[o,u,d]);return(0,i.useLayoutEffect)((function(){if(!o||!p)return;const{current:e}=g;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),r=new _w({container:e,textContentSource:n,viewport:b}),i=r;return r.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n);const r=e.querySelectorAll('[role="presentation"]');if(t){let e=0;p.items.forEach(((n,i)=>{if(!function(e){return"str"in e}(n))return;const a=r[e];if(!a)return;const s=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:i},n));a.innerHTML=s,e+=n.str&&n.hasEOL?2:1}))}v()})).catch(y),()=>Yw(i)}),[t,y,v,o,l,c,p,b]),(0,br.jsx)("div",{className:Tw("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=g.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=g.current;e&&e.classList.add("selecting")},ref:g})}function w_(){return(0,i.useContext)(Dw)}function __(){const e=w_(),t=g_();Ow(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:r,linkService:a,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=n;Ow(d),Ow(u),Ow(a);const[m,g]=$w(),{value:v,error:y}=m,b=(0,i.useRef)(null);Mw(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,i.useEffect)((function(){g({type:"RESET"})}),[g,u]),(0,i.useEffect)((function(){if(!u)return;const e=Cw(u.getAnnotations()),t=e;return e.promise.then((e=>{g({type:"RESOLVE",value:e})})).catch((e=>{g({type:"REJECT",error:e})})),()=>{Yw(t)}}),[g,u]),(0,i.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):y&&(Mw(!1,y.toString()),s&&s(y)))}),[v]);const x=(0,i.useMemo)((()=>u.getViewport({scale:p,rotation:f})),[u,f,p]);return(0,i.useEffect)((function(){if(!d||!u||!a||!v)return;const{current:e}=b;if(!e)return;const t=x.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:u,structTreeLayer:null,viewport:t},i={annotations:v,annotationStorage:d.annotationStorage,div:e,imageResourcesPath:r,linkService:a,page:u,renderForms:h,viewport:t};e.innerHTML="";try{new yw(n).render(i),c&&c()}catch(s){!function(e){Mw(!1,"".concat(e)),l&&l(e)}(s)}return()=>{}}),[v,r,a,u,d,h,x]),(0,br.jsx)("div",{className:Tw("react-pdf__Page__annotations","annotationLayer"),ref:b})}var k_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const E_=1;function A_(e){const t=w_(),n=Object.assign(Object.assign({},t),e),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:s,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:m,loading:g="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:w,onGetTextError:_,onGetTextSuccess:k,onLoadError:E,onLoadSuccess:A,onRenderAnnotationLayerError:S,onRenderAnnotationLayerSuccess:j,onRenderError:C,onRenderSuccess:N,onRenderTextLayerError:T,onRenderTextLayerSuccess:P,pageIndex:O,pageNumber:M,pdf:L,registerPage:R,renderAnnotationLayer:I=!0,renderForms:D=!1,renderMode:F="canvas",renderTextLayer:q=!0,rotate:B,scale:U=E_,unregisterPage:W,width:z}=n,H=k_(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[V,G]=$w(),{value:K,error:X}=V,Y=(0,i.useRef)(null);Ow(L);const Q=zw(M)?M-1:null!==O&&void 0!==O?O:null,Z=null!==M&&void 0!==M?M:zw(O)?O+1:null,$=null!==B&&void 0!==B?B:K?K.rotate:null,J=(0,i.useMemo)((()=>{if(!K)return null;let e=1;const t=null!==U&&void 0!==U?U:E_;if(z||p){const t=K.getViewport({scale:1,rotation:$});z?e=z/t.width:p&&(e=p/t.height)}return t*e}),[p,K,$,U,z]);(0,i.useEffect)((function(){return()=>{zw(Q)&&a&&W&&W(Q)}}),[a,L,Q,W]),(0,i.useEffect)((function(){G({type:"RESET"})}),[G,L,Q]),(0,i.useEffect)((function(){if(!L||!Z)return;const e=Cw(L.getPage(Z)),t=e;return e.promise.then((e=>{G({type:"RESOLVE",value:e})})).catch((e=>{G({type:"REJECT",error:e})})),()=>Yw(t)}),[G,L,Z]),(0,i.useEffect)((()=>{void 0!==K&&(!1!==K?function(){if(A){if(!K||!J)return;A(Qw(K,J))}if(a&&R){if(!zw(Q)||!Y.current)return;R(Q,Y.current)}}():X&&(Mw(!1,X.toString()),E&&E(X)))}),[K,J]);const ee=(0,i.useMemo)((()=>K&&zw(Q)&&Z&&zw($)&&zw(J)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:x,onGetStructTreeSuccess:w,onGetTextError:_,onGetTextSuccess:k,onRenderAnnotationLayerError:S,onRenderAnnotationLayerSuccess:j,onRenderError:C,onRenderSuccess:N,onRenderTextLayerError:T,onRenderTextLayerSuccess:P,page:K,pageIndex:Q,pageNumber:Z,renderForms:D,renderTextLayer:q,rotate:$,scale:J}:null),[r,s,d,h,y,b,x,w,_,k,S,j,C,N,T,P,K,Q,Z,D,q,$,J]),te=(0,i.useMemo)((()=>jw(H,(()=>K?J?Qw(K,J):void 0:K))),[H,K,J]),ne="".concat(Q,"@").concat(J,"/").concat($);function re(){switch(F){case"custom":return Ow(u),(0,br.jsx)(u,{},"".concat(ne,"_custom"));case"none":return null;default:return(0,br.jsx)(b_,{canvasRef:o},"".concat(ne,"_canvas"))}}return(0,br.jsx)("div",Object.assign({className:Tw(r,c),"data-page-number":Z,ref:s_(m,Y),style:{"--scale-factor":"".concat(J),backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:Z?null===L||void 0===K||null===K?(0,br.jsx)(Fw,{type:"loading",children:"function"===typeof g?g():g}):!1===L||!1===K?(0,br.jsx)(Fw,{type:"error",children:"function"===typeof f?f():f}):(0,br.jsxs)(o_.Provider,{value:ee,children:[re(),q?(0,br.jsx)(x_,{},"".concat(ne,"_text")):null,I?(0,br.jsx)(__,{},"".concat(ne,"_annotations")):null,l]}):(0,br.jsx)(Fw,{type:"no-data",children:"function"===typeof v?v():v})}))}xw.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Ew,"/pdf.worker.js");const S_=e=>{if(!e)return null;const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11===t[2].length?t[2]:null},j_=()=>{const{identifier:e,moduleOrder:t}=ne(),n=ee(),{user:r}=_r(),{modules:a,completedModuleIds:s,lastAccessedModuleId:o,isModuleCompleted:l,markModuleAsCompleted:c,fetchCourseProgressAndModules:u,isLoading:d,error:h,currentCourseId:f,courseTitle:p,fetchedByIdentifier:m}=Ar(),[g,v]=(0,i.useState)(null),[y,b]=(0,i.useState)(-1),[x,w]=(0,i.useState)(null),[_,k]=(0,i.useState)(1),[E,A]=(0,i.useState)(!0),[S,j]=(0,i.useState)("");(0,i.useEffect)((()=>{e&&r&&e!==m?u(e):!r&&e&&(j("Anda harus login untuk mengakses konten kursus."),A(!1))}),[e,r,m,u]),(0,i.useEffect)((()=>{if(d)return void A(!0);if(h)return j(h),void A(!1);const r=["PAGE","pdf","web","VIDEO","text","video"];if(a&&a.length>0){j("");let i=null,s=-1;if(!t){let t=null,i=-1;if(o){const e=a.findIndex((e=>e.id.toString()===o.toString()));if(-1!==e){const n=a[e];n&&r.includes(n.type)&&(t=n,i=e+1)}}if(!t)for(let e=0;e<a.length;e++){const n=a[e];if(r.includes(n.type)&&!l(n.id)){t=n,i=e+1;break}}if(!t){if(-1!==a.findIndex((e=>("PRE_TEST_QUIZ"===e.type||"pre_test"===e.type)&&!l(e.id))))return n("/course/".concat(e,"/pretest"),{replace:!0}),void A(!1)}if(!t){if(-1!==a.findIndex((e=>"POST_TEST_QUIZ"===e.type||"post_test"===e.type)))return n("/course/".concat(e,"/posttest"),{replace:!0}),void A(!1)}if(!t)for(let e=a.length-1;e>=0;e--)if(r.includes(a[e].type)){t=a[e],i=e+1;break}if(!t){const e=a.findIndex((e=>r.includes(e.type)));-1!==e&&(t=a[e],i=e+1)}return t&&-1!==i?(n("/course/".concat(e,"/content/").concat(i),{replace:!0}),void A(!1)):(j("Tidak ada modul konten yang dapat ditampilkan untuk dilanjutkan."),void A(!1))}{const r=parseInt(t,10);if(isNaN(r)||r<1||r>a.length)return j("Urutan modul tidak valid."),void A(!1);if(s=r-1,i=a[s],!i)return j("Modul dengan urutan tersebut tidak ditemukan."),void A(!1);if("PRE_TEST_QUIZ"===i.type||"pre_test"===i.type)return n("/course/".concat(e,"/pretest"),{replace:!0}),void A(!1);if("POST_TEST_QUIZ"===i.type||"post_test"===i.type)return n("/course/".concat(e,"/posttest"),{replace:!0}),void A(!1)}if(i){if("PRE_TEST_QUIZ"===i.type||"pre_test"===i.type)return n("/course/".concat(e,"/pretest"),{replace:!0}),void A(!1);if("POST_TEST_QUIZ"===i.type||"post_test"===i.type)return n("/course/".concat(e,"/posttest"),{replace:!0}),void A(!1);v(i),b(s),w(null),k(1),r.includes(i.type)&&(l(i.id)||c(i.id))}A(!1)}else j("Tidak ada modul konten yang ditemukan untuk kursus ini."),v(null),A(!1)}),[e,t,a,d,h,r,u,n,o,l,c,m]);const C=["PAGE","pdf","web","VIDEO","text","video"];if(E)return(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-accent"})});if(S)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center text-red-500",children:S});if(!g)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center",children:"Modul tidak ditemukan atau kursus tidak memiliki konten."});const N=a?a.length:0;return(0,br.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[(0,br.jsx)("div",{className:"mb-6",children:(0,br.jsxs)(Oe,{to:"/course/".concat(e,"/moduleslist"),className:"inline-flex items-center text-teraplus-accent hover:text-teraplus-hover focus:outline-none focus:ring-2 focus:ring-teraplus-accent-light rounded-md px-3 py-1 transition-colors duration-150",children:[(0,br.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Daftar Modul"]})}),(0,br.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-teraplus-text-default mb-2",children:g?g.judul:"Memuat judul modul..."}),(0,br.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Modul ",y+1," dari ",N," dalam kursus '",p||"Nama Kursus Tidak Diketahui","'"]}),(0,br.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-lg border border-gray-200 min-h-[400px]",children:["PAGE"===g.type&&g.initialContent&&(0,br.jsxs)("div",{className:"ql-snow",children:[" ",(0,br.jsx)("div",{className:"ql-editor prose max-w-none",dangerouslySetInnerHTML:{__html:g.initialContent}})]}),"PAGE"===g.type&&!g.initialContent&&g.contentText&&(0,br.jsx)("div",{className:"prose max-w-none",children:(0,br.jsx)("p",{children:g.contentText})}),"pdf"===g.type&&g.pdfPath&&(0,br.jsxs)("div",{className:"prose max-w-none",children:[(0,br.jsx)("h2",{className:"text-xl font-semibold mb-3",children:g.judul}),(0,br.jsxs)("div",{className:"w-full bg-gray-100 rounded-lg overflow-hidden flex flex-col",style:{height:"1200px"},children:[" ",(0,br.jsx)(a_,{file:g.pdfPath,className:"flex-grow min-h-0 flex flex-col",loading:(0,br.jsx)("div",{className:"flex justify-center items-center flex-grow",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-accent"})}),error:(0,br.jsx)("div",{className:"flex justify-center items-center flex-grow",children:"Gagal memuat PDF. Pastikan file tersedia dan dalam format yang benar."}),onLoadSuccess:e=>{let{numPages:t}=e;w(t),k(1)},children:(0,br.jsx)(A_,{pageNumber:_,height:1170,className:"w-full h-full flex flex-col",renderTextLayer:!1,renderAnnotationLayer:!1,loading:(0,br.jsxs)("div",{className:"flex justify-center items-center flex-grow",children:[" ","Memuat halaman..."]}),error:(0,br.jsxs)("div",{className:"flex justify-center items-center flex-grow",children:[" ","Gagal memuat halaman PDF."]})})}),x&&(0,br.jsxs)("div",{className:"mt-4 flex justify-center items-center space-x-4 shrink-0",children:[" ",(0,br.jsx)("button",{onClick:()=>{k((e=>Math.max(e-1,1)))},disabled:_<=1,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50",children:"Sebelumnya"}),(0,br.jsxs)("span",{children:["Halaman ",_," dari ",x]}),(0,br.jsx)("button",{onClick:()=>{k((e=>Math.min(e+1,x)))},disabled:_>=x,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 disabled:opacity-50",children:"Selanjutnya"})]})]})]}),("web"===g.type||"video"===g.type)&&g.videoLink&&(0,br.jsx)("div",{className:"aspect-w-16 aspect-h-9",children:(0,br.jsx)(gs,{videoId:S_(g.videoLink),opts:{height:"100%",width:"100%",playerVars:{autoplay:0,modestbranding:1,rel:0}},className:"w-full h-full"})})]}),(0,br.jsx)("div",{className:"mt-4 text-sm text-gray-500",children:(0,br.jsxs)("div",{children:["Modul selesai: ",s.size," / ",N]})}),(0,br.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,br.jsx)("button",{onClick:()=>{if(!g||-1===y||!a||0===a.length)return;let t=null,r=-1;for(let e=y-1;e>=0;e--){const n=a[e];if(["PAGE","pdf","web","VIDEO","text","video","PRE_TEST_QUIZ","pre_test","POST_TEST_QUIZ","post_test"].includes(n.type)){t=n,r=e+1;break}}t?"PRE_TEST_QUIZ"===t.type||"pre_test"===t.type?n("/course/".concat(e,"/pretest")):"POST_TEST_QUIZ"===t.type||"post_test"===t.type?n("/course/".concat(e,"/posttest")):n(-1!==r?"/course/".concat(e,"/content/").concat(r):"/course/".concat(e,"/moduleslist")):n("/course/".concat(e,"/moduleslist"))},disabled:y<=0||0===N,className:"w-full sm:w-auto px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 disabled:opacity-50 transition-colors",children:"Modul Sebelumnya"}),(0,br.jsx)("button",{onClick:()=>{if(!g||-1===y||!a||0===a.length)return;C.includes(g.type)&&!l(g.id)&&c(g.id);let t=null,r=-1;for(let e=y+1;e<a.length;e++){const n=a[e];if(["PAGE","pdf","web","VIDEO","text","video","PRE_TEST_QUIZ","pre_test","POST_TEST_QUIZ","post_test"].includes(n.type)){t=n,r=e+1;break}}t?"PRE_TEST_QUIZ"===t.type||"pre_test"===t.type?n("/course/".concat(e,"/pretest")):"POST_TEST_QUIZ"===t.type||"post_test"===t.type?n("/course/".concat(e,"/posttest")):n(-1!==r?"/course/".concat(e,"/content/").concat(r):"/course/".concat(e,"/posttest")):n("/course/".concat(e,"/posttest"))},disabled:0===N,className:"w-full sm:w-auto px-6 py-3 bg-teraplus-accent text-white font-semibold rounded-lg hover:opacity-90 transition-colors",children:y===N-1?"Lanjut ke Post-Test":"Modul Selanjutnya"})]})]})},C_=()=>{const{identifier:e}=ne(),t=ee(),{modules:n,fetchCourseProgressAndModules:r,isLoading:a,currentCourseId:s,recordAndMarkTestAsCompleted:o,getPostTestModule:l,fetchedByIdentifier:c}=Ar(),[u,d]=(0,i.useState)([]),[h,f]=(0,i.useState)(0),[p,m]=(0,i.useState)({}),[g,v]=(0,i.useState)(!0),[y,b]=(0,i.useState)(""),[x,w]=(0,i.useState)(""),[_,k]=(0,i.useState)(!1),[E,A]=(0,i.useState)(""),[S,j]=(0,i.useState)("");(0,i.useEffect)((()=>{e&&e!==c&&r(e)}),[e,c,r]);const C=(0,i.useMemo)((()=>{if(!n||0===n.length||a)return null;const e=["post_test","POST_TEST_QUIZ"],t=["PAGE","text","pdf","web","VIDEO","video"],r=n.findIndex((t=>e.includes(t.type)));if(r>0)for(let i=r-1;i>=0;i--){const e=n[i];if(t.includes(e.type))return e}return null}),[n,a]);(0,i.useEffect)((()=>{e&&(async()=>{try{v(!0),b("");const t=await mr.get("/courses/".concat(e,"/post-test/questions"));if(t.data&&"success"===t.data.status){const e=(t.data.data.questions||[]).map((e=>{let t=e.options;if("string"===typeof e.options)try{t=JSON.parse(e.options)}catch(ik){console.error("Failed to parse options for question ID:",e.id,"Raw options:",e.options,ik),t=[]}return Array.isArray(t)||(console.warn("Options for question ID:",e.id,"is not an array after processing. Raw options:",e.options,"Processed as:",t),t=[]),qe(qe({},e),{},{options:t})}));d(e),A(t.data.data.courseTitle||"Post-Test"),j(t.data.data.moduleTitle||""),0===e.length&&b("Tidak ada soal post-test yang tersedia untuk kursus ini.")}else b(t.data.message||"Gagal mengambil soal post-test.")}catch(r){var t,n;console.error("Error fetching post-test questions:",r),b((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi kesalahan server saat mengambil soal post-test.")}finally{v(!1)}})()}),[e]);if(g||a)return(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-accent"})});if(y)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center text-red-500",children:y||x});if(0===u.length&&!g&&!a)return(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center",children:"Tidak ada soal post-test untuk ditampilkan."});if(0===u.length||!u[h])return(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,br.jsx)("p",{children:"Memuat soal..."})});const N=u[h];return(0,br.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[(0,br.jsx)("div",{className:"mb-6",children:(0,br.jsxs)(Oe,{to:"/course/".concat(e),className:"inline-flex items-center text-teraplus-accent hover:text-teraplus-hover focus:outline-none focus:ring-2 focus:ring-teraplus-accent-light rounded-md px-3 py-1 transition-colors duration-150",children:[(0,br.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Detail Kursus"]})}),(0,br.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-teraplus-text-default mb-2",children:S||"Post-Test: ".concat(E)}),(0,br.jsxs)("p",{className:"text-sm text-gray-500 mb-6",children:["Soal ",h+1," dari ",u.length]}),x&&(0,br.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 border border-red-300 rounded-md",children:x}),(0,br.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-lg border border-gray-200",children:[(0,br.jsx)("h2",{className:"text-lg font-semibold text-teraplus-text-default mb-4",children:N.teksSoal}),(0,br.jsx)("div",{className:"space-y-3 mb-6",children:N&&Array.isArray(N.options)&&N.options.map((e=>(0,br.jsxs)("label",{className:"flex items-center p-3 border rounded-md hover:bg-gray-50 cursor-pointer",children:[(0,br.jsx)("input",{type:"radio",name:"question-".concat(N.id),value:e.id,checked:p[N.id]===e.id,onChange:()=>{return t=N.id,n=e.id,void m((e=>qe(qe({},e),{},{[t]:n})));var t,n},className:"form-radio h-5 w-5 text-teraplus-accent focus:ring-teraplus-accent"}),(0,br.jsx)("span",{className:"ml-3 text-teraplus-text-variant",children:e.text})]},e.id)))}),(0,br.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,br.jsx)("button",{onClick:()=>{0===h&&C?t("/course/".concat(e,"/content/").concat(C.order)):h>0&&f((e=>e-1))},disabled:0===h&&!C||a||_,className:"w-full sm:w-auto px-6 py-3 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 disabled:opacity-50 transition-colors",children:0===h&&C?"Kembali ke Modul":"Sebelumnya"}),h===u.length-1?(0,br.jsx)("button",{onClick:async()=>{if(_)return;k(!0),w("");let n=0;const r=u.map((e=>{const t=p[e.id],r=t===e.correctOptionId;return r&&n++,{questionId:e.id,teksSoal:e.teksSoal,options:e.options,selectedOptionId:t,correctOptionId:e.correctOptionId,isCorrect:r}})),i=u.length>0?Math.round(n/u.length*100):0,a=l();if(!a||!a.id)return w("Tidak dapat menemukan modul post-test. Silakan coba lagi."),void k(!1);if(console.log("[PostTestPage] handleSubmit: Checking contextCourseIdForProgress. Value:",s),!s)return w("Informasi kursus tidak lengkap. Tidak dapat mengirimkan hasil post-test. Silakan coba muat ulang halaman."),console.error("Numeric Course ID from context (contextCourseIdForProgress) is not available for post-test handleSubmit. Value:",s),void k(!1);try{await o(a.id,i),t("/course/".concat(e,"/posttest-result"),{state:{results:r,score:n,totalQuestions:u.length,percentage:i,courseTitle:E,moduleTitle:S,postTestModuleId:a.id}})}catch(h){var c,d;console.error("Error submitting post-test score:",h),w((null===(c=h.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||h.message||"Gagal menyimpan skor post-test. Silakan coba lagi.")}finally{k(!1)}},disabled:_,className:"w-full sm:w-auto px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_?"Mengumpulkan...":"Kumpulkan Jawaban"}):(0,br.jsx)("button",{onClick:()=>{h<u.length-1&&f((e=>e+1))},disabled:h===u.length-1||_,className:"w-full sm:w-auto px-6 py-3 bg-teraplus-accent text-white font-semibold rounded-lg hover:opacity-90 disabled:opacity-50 transition-colors",children:"Selanjutnya"})]})]})]})},N_=()=>{const e=$(),t=ee(),{identifier:n}=ne(),{user:r}=_r(),{recordAndMarkTestAsCompleted:a,modules:s,fetchCourseProgressAndModules:o,currentCourseId:l,isModuleCompleted:c,getPostTestModule:u}=Ar(),[d,h]=(0,i.useState)(""),{results:f,score:p,totalQuestions:m,percentage:g,courseTitle:v="Nama Kursus Tidak Tersedia",moduleTitle:y,questions:b}=e.state||{};(0,i.useEffect)((()=>{!n||s&&0!==s.length&&n===String(l)||o(n)}),[n,s,l,o]);const x=void 0!==g&&g>=76;if((0,i.useEffect)((()=>{(async()=>{if(f&&s&&s.length>0&&x&&void 0!==g){const r=u();if(r&&!c(r.id))try{h(""),await a(r.id,g)}catch(n){var e,t;console.error("Error recording post-test score in Page:",n);const r=null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,i="Terjadi kesalahan saat menyimpan progres post-test Anda. Sertifikat mungkin belum tersedia.";h(r||n.message||i)}else r&&c(r.id)}})()}),[f,s,u,c,a,n,x,g]),!f)return(0,br.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,br.jsx)("p",{children:"Hasil post-test tidak tersedia. Silakan coba kerjakan post-test terlebih dahulu."}),(0,br.jsx)("button",{onClick:()=>t("/course/".concat(n)),className:"mt-4 px-6 py-2 bg-teraplus-accent text-white rounded-lg hover:opacity-90",children:"Kembali ke Detail Kursus"})]});const w=(new Date).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short"}),_=r&&(r.name||r.username)||"Nama Peserta";return(0,br.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[(0,br.jsx)("div",{className:"mb-6",children:(0,br.jsxs)(Oe,{to:"/course/".concat(n),className:"inline-flex items-center text-teraplus-accent hover:text-teraplus-hover focus:outline-none focus:ring-2 focus:ring-teraplus-accent-light rounded-md px-3 py-1 transition-colors duration-150",children:[(0,br.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Detail Kursus"]})}),(0,br.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg shadow-lg border border-gray-200",children:[(0,br.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-teraplus-text-default",children:"Hasil Post-Test"}),(0,br.jsx)("p",{className:"text-sm text-gray-500",children:y||v})]}),(0,br.jsx)("button",{onClick:()=>t("/course/".concat(n)),className:"text-xl font-bold text-gray-400 hover:text-gray-600",title:"Tutup",children:"\xd7"})]}),d&&(0,br.jsx)("div",{className:"mb-4 p-3 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",children:(0,br.jsx)("p",{children:d})}),x&&(0,br.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-center",children:[(0,br.jsxs)("form",{action:"".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:3001","/api/certificates"),method:"POST",target:"_blank",className:"inline",children:[(0,br.jsx)("input",{type:"hidden",name:"name",value:_}),(0,br.jsx)("input",{type:"hidden",name:"courseTitle",value:v}),(0,br.jsx)("input",{type:"hidden",name:"courseId",value:l||n}),(0,br.jsx)("input",{type:"hidden",name:"userId",value:r?r.id:""}),(0,br.jsx)("input",{type:"hidden",name:"completionDate",value:(new Date).toISOString().split("T")[0]}),(0,br.jsx)("button",{type:"submit",className:"w-full sm:w-auto px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold text-sm sm:text-base",children:"Unduh Sertifikat (.PDF)"})]}),(0,br.jsx)("button",{onClick:()=>t("/course/".concat(n,"/certificate")),className:"w-full sm:w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:"Lihat Halaman Sertifikat"})]}),(0,br.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,br.jsxs)("div",{className:"md:col-span-1 p-4 border rounded-md bg-gray-50",children:[(0,br.jsxs)("p",{className:"text-sm text-gray-600",children:["Tanggal Ujian: ",w]}),(0,br.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Total Soal: ",m]}),(0,br.jsxs)("p",{className:"text-2xl font-bold mt-2",children:["Skor: ",p," ",(0,br.jsxs)("span",{className:"text-lg font-normal",children:["/ ",m]})," (",void 0!==g&&null!==g?g.toFixed(0):0,"%)"]}),x?(0,br.jsx)("p",{className:"mt-2 text-green-600 font-semibold",children:"Selamat! Anda telah memenuhi batas minimum kelulusan."}):(0,br.jsxs)("p",{className:"mt-2 text-red-600 font-semibold",children:["Skor Anda belum memenuhi batas minimum (",76,"%). Mohon pelajari kembali modul-modul terkait dan coba lagi post-test jika diizinkan."]})]}),(0,br.jsxs)("div",{className:"md:col-span-2",children:[(0,br.jsx)("h2",{className:"text-xl font-semibold text-teraplus-text-default mb-4",children:"Rincian Jawaban:"}),b&&f?(0,br.jsx)("div",{className:"space-y-6 max-h-[500px] overflow-y-auto pr-2",children:f.map(((e,t)=>{const n=b.find((t=>t.id===e.questionId)),r=n?n.explanation:null;return(0,br.jsxs)("div",{className:"pb-4 border-b last:border-b-0",children:[(0,br.jsxs)("p",{className:"font-semibold text-teraplus-text-variant mb-2",children:[t+1,". ",e.teksSoal||(n?n.teksSoal:"Teks soal tidak tersedia")]}),(0,br.jsx)("div",{className:"space-y-1",children:(e.options||(n?n.options:[])).map((t=>(0,br.jsxs)("div",{className:"p-2 rounded flex items-center\n                              ".concat(t.id===e.selectedOptionId&&e.isCorrect?"bg-green-100 border-l-4 border-green-500":"","\n                              ").concat(t.id!==e.selectedOptionId||e.isCorrect?"":"bg-red-100 border-l-4 border-red-500","\n                              ").concat(t.id===e.selectedOptionId?"font-semibold":"","\n                            "),children:[(0,br.jsx)("span",{className:"mr-2 w-5 h-5 flex items-center justify-center rounded-full border text-xs\n                              ".concat(t.id===e.selectedOptionId&&e.isCorrect?"bg-green-500 text-white border-green-500":"","\n                              ").concat(t.id!==e.selectedOptionId||e.isCorrect?"border-gray-300":"bg-red-500 text-white border-red-500","\n                            "),children:String.fromCharCode(65+(e.options||(n?n.options:[])).indexOf(t))}),(0,br.jsx)("span",{children:t.text})]},t.id)))}),r&&(0,br.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 border-l-4 border-blue-400 text-sm text-blue-700",children:[(0,br.jsx)("strong",{children:"Penjelasan:"})," ",r]}),!e.selectedOptionId&&(0,br.jsx)("p",{className:"text-sm text-yellow-600 mt-1",children:"Tidak dijawab."})]},e.questionId)}))}):(0,br.jsx)("p",{children:"Rincian jawaban tidak tersedia."})]})]})]})]})},T_=()=>{const{identifier:e}=ne(),{user:t}=_r(),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{if(!e)return s("Course ID is missing."),void r(!1);try{var t;r(!0),s("");const d=await mr.get("/courses/".concat(e,"/certificate/eligibility"));var n,i,a,o,c,u;if("success"===(null===(t=d.data)||void 0===t?void 0:t.status))if(d.data.eligible)l({isEligible:!0,courseTitle:null===(n=d.data.data)||void 0===n?void 0:n.courseName,certificateUrl:null===(i=d.data.data)||void 0===i?void 0:i.certificateUrl,fileName:null===(a=d.data.data)||void 0===a?void 0:a.fileName});else l({isEligible:!1,courseTitle:(null===(o=d.data.data)||void 0===o?void 0:o.courseName)||"Course ".concat(e),reason:(null===(c=d.data.reasons)||void 0===c?void 0:c.join(", "))||d.data.message});else s((null===(u=d.data)||void 0===u?void 0:u.message)||"Failed to retrieve certificate eligibility status.")}catch(f){var d,h;s((null===(d=f.response)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.message)||"An error occurred while checking certificate eligibility."),console.error("Error fetching certificate eligibility:",f)}finally{r(!1)}})()}),[e]),n?(0,br.jsxs)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:[(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-primary"}),(0,br.jsx)("p",{className:"ml-4 text-lg text-gray-700",children:"Loading certificate status..."})]}):a?(0,br.jsx)("div",{className:"min-h-screen bg-gray-100 px-4 py-8 flex flex-col items-center justify-center",children:(0,br.jsxs)("div",{className:"max-w-2xl w-full bg-white shadow-xl rounded-lg p-8 text-center",children:[(0,br.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),(0,br.jsx)("p",{className:"text-gray-700 mb-6",children:a}),(0,br.jsx)(Oe,{to:"/courses",className:"px-6 py-2 bg-teraplus-primary text-white rounded-md hover:bg-teraplus-accent transition-colors",children:"Back to Courses"})]})}):o?(0,br.jsx)("div",{className:"min-h-screen bg-gray-100 px-4 py-8 flex flex-col items-center",children:(0,br.jsxs)("div",{className:"max-w-2xl w-full bg-white shadow-xl rounded-lg p-8",children:[(0,br.jsx)("div",{className:"mb-6",children:(0,br.jsxs)(Oe,{to:"/course/".concat(e),className:"inline-flex items-center text-teraplus-accent hover:text-teraplus-hover focus:outline-none focus:ring-2 focus:ring-teraplus-accent-light rounded-md px-3 py-1 transition-colors duration-150",children:[(0,br.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Detail Kursus"]})}),(0,br.jsxs)("h1",{className:"text-3xl font-bold text-center text-teraplus-primary mb-6",children:["Certificate Status: ",o.courseTitle||"Course ID ".concat(e)," "]}),o.isEligible?(0,br.jsxs)("div",{className:"text-center",children:[(0,br.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-green-500 mx-auto mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,br.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723V18a1 1 0 10-2 0v-.008a3.066 3.066 0 00-1.745-.721 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.469 6.469a1 1 0 00-1.414-1.414L9 11.586l-1.322-1.322a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,br.jsxs)("p",{className:"text-xl text-gray-800 mb-2",children:["Congratulations, ",(null===t||void 0===t?void 0:t.namaLengkap)||(null===t||void 0===t?void 0:t.email)||"Student","!"]}),(0,br.jsxs)("p",{className:"text-gray-600 mb-6",children:["You have successfully met the requirements to receive the certificate for the course: ",(0,br.jsx)("strong",{children:o.courseTitle}),"."]}),(0,br.jsxs)("button",{onClick:async()=>{try{r(!0),s("");const t=o.certificateUrl.startsWith("http")?o.certificateUrl:"".concat(mr.defaults.baseURL).concat(o.certificateUrl.startsWith("/")?"":"/").concat(o.certificateUrl),n=await mr.get(t,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([n.data])),a=document.createElement("a");a.href=i,a.setAttribute("download",o.fileName||"certificate-".concat(e,".pdf")),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a),window.URL.revokeObjectURL(i)}catch(l){var t,n,i,a;if(s((null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||l.message||"Failed to download certificate."),console.error("Error downloading certificate:",l),(null===(i=l.response)||void 0===i?void 0:i.data)instanceof Blob&&"application/json"===(null===(a=l.response)||void 0===a?void 0:a.data.type)){const e=await l.response.data.text();try{const t=JSON.parse(e);s(t.message||"Failed to download certificate. Server returned an error.")}catch(c){s("Failed to download certificate and parse error response.")}}}finally{r(!1)}},className:"w-full md:w-auto inline-flex items-center justify-center px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:[(0,br.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,br.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download Certificate"]})]}):(0,br.jsxs)("div",{className:"text-center",children:[(0,br.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-yellow-500 mx-auto mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,br.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 100-2 1 1 0 000 2zm-1.75-5.75a.75.75 0 00-1.5 0v3a.75.75 0 001.5 0v-3z",clipRule:"evenodd"})}),(0,br.jsx)("p",{className:"text-xl text-gray-800 mb-2",children:"Certificate Not Yet Available"}),(0,br.jsxs)("p",{className:"text-gray-600 mb-1",children:["For the course: ",(0,br.jsx)("strong",{children:o.courseTitle})]}),o.reason&&(0,br.jsxs)("p",{className:"text-gray-600 mb-1",children:["Reason: ",o.reason]}),"number"===typeof o.userScore&&(0,br.jsxs)("p",{className:"text-gray-600 mb-1",children:["Your Score: ",o.userScore,"%"]}),"number"===typeof o.requiredScore&&(0,br.jsxs)("p",{className:"text-gray-600 mb-4",children:["Required Score: ",o.requiredScore,"%"]}),(0,br.jsx)(Oe,{to:"/course/".concat(e),className:"mt-4 inline-block px-6 py-2 bg-teraplus-primary text-white rounded-md hover:bg-teraplus-accent transition-colors",children:"Go to Course"})]})]})}):(0,br.jsx)("div",{className:"min-h-screen bg-gray-100 px-4 py-8 flex flex-col items-center justify-center",children:(0,br.jsx)("div",{className:"max-w-2xl w-full bg-white shadow-xl rounded-lg p-8 text-center",children:(0,br.jsx)("p",{className:"text-gray-700",children:"Could not load certificate information."})})})},P_=()=>{const{identifier:e}=ne(),t=ee(),{user:n}=_r(),{modules:r,isLoading:a,error:s,fetchCourseProgressAndModules:o,isModuleCompleted:l,courseTitle:c,currentCourseId:u,fetchedByIdentifier:d}=Ar(),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{(async()=>{if(e&&n){var i,s;if(m(!0),e===d&&r&&0!==r.length||await o(e),c)f(c);else if(r&&r.length>0&&null!==(i=r[0])&&void 0!==i&&null!==(s=i.course)&&void 0!==s&&s.judul)f(r[0].course.judul);else if(a||e!==d)a||f("Daftar Modul");else try{var l,h,p;const t=u||e,n=await mr.get("/courses/".concat(t));"success"===(null===(l=n.data)||void 0===l?void 0:l.status)&&null!==(h=n.data)&&void 0!==h&&null!==(p=h.data)&&void 0!==p&&p.course?f(n.data.data.course.judul):f("Daftar Modul")}catch(ik){console.error("Error fetching course title (fallback):",ik),f("Daftar Modul")}m(!1)}else n||t("/login")})()}),[e,n,o,t,r,a,u,c,d]),p||a&&e!==d?(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-teraplus-accent"})}):s?(0,br.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center text-red-500",children:["Error memuat progres: ",s]}):r&&0!==r.length?(0,br.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,br.jsx)("div",{className:"mb-6",children:(0,br.jsxs)(Oe,{to:"/course/".concat(e),className:"inline-flex items-center text-teraplus-accent hover:text-teraplus-hover focus:outline-none focus:ring-2 focus:ring-teraplus-accent-light rounded-md px-3 py-1 transition-colors duration-150",children:[(0,br.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Detail Kursus"]})}),(0,br.jsx)("h1",{className:"text-3xl font-bold text-teraplus-text-default mb-2",children:h||"Memuat Judul..."}),(0,br.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Daftar Modul"}),(0,br.jsx)("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8",children:(0,br.jsx)("ul",{className:"space-y-3",children:r.map(((n,i)=>{const a=l(n.id);let s="Belum dimulai",o="text-gray-500";a&&(s="Selesai",o="text-green-500");let c=!1,u="Selesaikan modul sebelumnya dulu.";if(i>0){const e=r[i-1];l(e.id)||(c=!0)}if("POST_TEST_QUIZ"===n.type){r.slice(0,i).filter((e=>"PRE_TEST_QUIZ"!==e.type&&"POST_TEST_QUIZ"!==e.type)).every((e=>l(e.id)))||(c=!0,u="Anda harus menyelesaikan semua modul konten sebelum memulai Post-Test.")}return(0,br.jsx)("li",{children:(0,br.jsxs)("button",{onClick:()=>{!c||a?"PRE_TEST_QUIZ"===n.type?t("/course/".concat(e,"/pretest")):"POST_TEST_QUIZ"===n.type?t("/course/".concat(e,"/posttest")):t("/course/".concat(e,"/content/").concat(i+1)):alert(u)},disabled:c&&!a,className:"w-full flex items-center justify-between p-4 rounded-md transition-all duration-150 ease-in-out\n                              ".concat(c&&!a?"bg-gray-200 cursor-not-allowed opacity-70":"bg-gray-50 hover:bg-teraplus-background-light focus:bg-teraplus-background-light focus:ring-2 focus:ring-teraplus-accent","\n                              border border-gray-200"),children:[(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsxs)("span",{className:"mr-3 text-teraplus-accent",children:["CONTENT"===n.type&&"\ud83d\udcc4","VIDEO"===n.type&&"\u25b6\ufe0f","PDF"===n.type&&"\ud83d\udcdc","QUIZ"===n.type&&"\u2753","PRE_TEST_QUIZ"===n.type&&"\ud83d\udcdd","POST_TEST_QUIZ"===n.type&&"\ud83c\udfc1"]}),(0,br.jsx)("span",{className:"font-medium ".concat(c&&!a?"text-gray-500":"text-teraplus-text-default"),children:n.judul})]}),(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsx)("span",{className:"text-sm mr-3 ".concat(o," ").concat(c&&!a?"text-gray-400":""),children:s}),a?(0,br.jsx)("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):(0,br.jsx)("svg",{className:"w-6 h-6 ".concat(c&&!a?"text-gray-400":"text-gray-300"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,br.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]})},n.id)}))})})]}):(0,br.jsx)("div",{className:"container mx-auto px-4 py-8 text-center",children:"Tidak ada modul tersedia untuk kursus ini."})},O_=["title","titleId"];function M_(e,t){let{title:n,titleId:r}=e,a=Dr(e,O_);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const L_=i.forwardRef(M_),R_=["title","titleId"];function I_(e,t){let{title:n,titleId:r}=e,a=Dr(e,R_);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const D_=i.forwardRef(I_),F_=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)({judul:"",deskripsi:"",imageSrc:"",area:"",syaratDanKetentuan:"",needsPreTest:!0,prerequisites:[],slug:""});(0,i.useEffect)((()=>{v()}),[]);const v=async()=>{try{var e;r(!0);const n=await mr.get("/admin/courses");"success"===(null===(e=n.data)||void 0===e?void 0:e.status)&&t(n.data.data.courses)}catch(n){s("Gagal mengambil data kursus"),console.error(n)}finally{r(!1)}},y=()=>{g({judul:"",deskripsi:"",imageSrc:"",area:"",syaratDanKetentuan:"",needsPreTest:!0,prerequisites:[],slug:""}),h(null),p("")};return n?(0,br.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"})}):(0,br.jsxs)("div",{className:"space-y-6",children:[(0,br.jsxs)("div",{className:"flex flex-col items-start gap-4 sm:flex-row sm:justify-between sm:items-center",children:[(0,br.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Kursus"}),(0,br.jsxs)("button",{onClick:()=>{y(),u(null),l(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,br.jsx)(da,{className:"h-5 w-5"}),(0,br.jsx)("span",{children:"Tambah Kursus"})]})]}),a&&(0,br.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a}),(0,br.jsx)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:(0,br.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,br.jsx)("thead",{className:"bg-gray-50",children:(0,br.jsxs)("tr",{children:[(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kursus"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modul"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pre-Test"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,br.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>{var t,n;return(0,br.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsx)("img",{className:"h-12 w-12 rounded-lg object-cover",src:e.imageSrc?e.imageSrc.startsWith("http://")||e.imageSrc.startsWith("https://")?e.imageSrc:"".concat(pr).concat(e.imageSrc):"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=400",alt:e.judul}),(0,br.jsxs)("div",{className:"ml-4",children:[(0,br.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.judul}),(0,br.jsxs)("div",{className:"text-sm text-gray-500",children:[null===(t=e.deskripsi)||void 0===t?void 0:t.substring(0,50),"..."]})]})]})}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,br.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.area||"Semua Area"})}),(0,br.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(null===(n=e.stats)||void 0===n?void 0:n.moduleCount)||0," modul"]}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,br.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.needsPreTest?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.needsPreTest?"Ya":"Tidak"})}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,br.jsxs)("div",{className:"flex space-x-2",children:[(0,br.jsx)("button",{onClick:()=>(e=>{var t;u(e),g({judul:e.judul||"",deskripsi:e.deskripsi||"",imageSrc:e.imageSrc||"",area:e.area||"",syaratDanKetentuan:e.syaratDanKetentuan||"",needsPreTest:null===(t=e.needsPreTest)||void 0===t||t,prerequisites:e.prerequisites||[],slug:e.slug||""}),h(null),e.imageSrc?e.imageSrc.startsWith("http://")||e.imageSrc.startsWith("https://")?p(e.imageSrc):p("".concat(pr).concat(e.imageSrc)):p(""),l(!0)})(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:(0,br.jsx)(L_,{className:"h-4 w-4"})}),(0,br.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus kursus ini?"))try{await mr.delete("/admin/courses/".concat(e)),v()}catch(t){s("Gagal menghapus kursus"),console.error(t)}})(e.id),className:"text-red-600 hover:text-red-900 p-1 rounded",children:(0,br.jsx)(D_,{className:"h-4 w-4"})})]})})]},e.id)}))})]})}),o&&(0,br.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,br.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,br.jsxs)("div",{className:"mt-3",children:[(0,br.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:c?"Edit Kursus":"Tambah Kursus Baru"}),(0,br.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData;Object.keys(m).forEach((e=>{"imageSrc"===e?!d&&m.imageSrc&&t.append(e,m[e]):t.append(e,m[e])})),d&&t.append("imageFile",d);try{c?await mr.put("/admin/courses/".concat(c.id),t,{headers:{"Content-Type":"multipart/form-data"}}):await mr.post("/admin/courses",t,{headers:{"Content-Type":"multipart/form-data"}}),l(!1),u(null),y(),v()}catch(i){var n,r;s((null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||i.message||"Gagal menyimpan kursus"),console.error(i)}},className:"space-y-4",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Judul Kursus"}),(0,br.jsx)("input",{type:"text",required:!0,value:m.judul,onChange:e=>g(qe(qe({},m),{},{judul:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),(0,br.jsx)("input",{type:"text",value:m.slug,onChange:e=>g(qe(qe({},m),{},{slug:e.target.value.toLowerCase().replace(/\s+/g,"-")})),placeholder:"contoh: dasar-pijat-effleurage (otomatis dari judul jika kosong)",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),(0,br.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Slug digunakan untuk URL. Jika dikosongkan, akan dibuat otomatis dari judul. Gunakan huruf kecil, angka, dan tanda hubung (-)."})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),(0,br.jsx)("textarea",{rows:3,value:m.deskripsi,onChange:e=>g(qe(qe({},m),{},{deskripsi:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"URL Gambar"}),(0,br.jsx)("input",{type:"url",value:m.imageSrc,onChange:e=>{g(qe(qe({},m),{},{imageSrc:e.target.value})),e.target.value&&(h(null),p(""))},placeholder:"https://example.com/image.jpg (atau unggah di bawah)",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:!!d})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Unggah Gambar (opsional)"}),(0,br.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){h(t);const e=new FileReader;e.onloadend=()=>{p(e.result)},e.readAsDataURL(t),g((e=>qe(qe({},e),{},{imageSrc:""})))}else h(null),p("")},className:"mt-1 block w-full text-sm text-gray-500\r file:mr-4 file:py-2 file:px-4\r file:rounded-full file:border-0\r file:text-sm file:font-semibold\r file:bg-blue-50 file:text-blue-700\r hover:file:bg-blue-100"}),f&&(0,br.jsxs)("div",{className:"mt-2",children:[(0,br.jsx)("p",{className:"text-sm text-gray-600",children:"Pratinjau:"}),(0,br.jsx)("img",{src:f,alt:"Pratinjau Gambar",className:"h-32 w-auto rounded-md object-cover border"})]})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Area Tubuh"}),(0,br.jsxs)("select",{value:m.area,onChange:e=>g(qe(qe({},m),{},{area:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,br.jsx)("option",{value:"",children:"Pilih Area"}),(0,br.jsx)("option",{value:"Semua Area",children:"Semua Area"}),(0,br.jsx)("option",{value:"Betis (Depan-Belakang)",children:"Betis (Depan-Belakang)"}),(0,br.jsx)("option",{value:"Pundak Leher Bahu",children:"Pundak Leher Bahu"}),(0,br.jsx)("option",{value:"Pinggang Punggung",children:"Pinggang Punggung"}),(0,br.jsx)("option",{value:"Lengan",children:"Lengan"})]})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Syarat & Ketentuan"}),(0,br.jsx)("textarea",{rows:3,value:m.syaratDanKetentuan,onChange:e=>g(qe(qe({},m),{},{syaratDanKetentuan:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsx)("input",{type:"checkbox",checked:m.needsPreTest,onChange:e=>g(qe(qe({},m),{},{needsPreTest:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,br.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Memerlukan Pre-Test"})]}),(0,br.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,br.jsx)("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg transition-colors",children:"Batal"}),(0,br.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:c?"Update":"Simpan"})]})]})]})})})]})},q_=["title","titleId"];function B_(e,t){let{title:n,titleId:r}=e,a=Dr(e,q_);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const U_=i.forwardRef(B_),W_=["title","titleId"];function z_(e,t){let{title:n,titleId:r}=e,a=Dr(e,W_);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const H_=i.forwardRef(z_);var V_=n(2823),G_=n.n(V_);const K_=V_.Quill.import("blots/block/embed");class X_ extends K_{static create(e){let t=super.create();return t.setAttribute("src",e),t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen",!0),t.setAttribute("width","100%"),t.setAttribute("height","700px"),t}static value(e){return e.getAttribute("src")}}X_.blotName="iframe",X_.tagName="iframe",V_.Quill.register(X_),console.log("Custom IframeBlot registered.");class Y_ extends i.Component{constructor(e){super(e),this.pdfUploadHandler=()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept",".pdf"),e.click(),e.onchange=async()=>{const t=e.files[0];if(!t)return;const n=new FormData;n.append("contentPdfFile",t);try{const e=await mr.post("/admin/upload-content-pdf",n,{headers:{"Content-Type":"multipart/form-data"}});if(e.data&&"success"===e.data.status&&e.data.data.url){const t=e.data.data.url,n="".concat(pr).concat(t),r=this.quillRef.current.getEditor(),i=r.getSelection(!0);console.log("Embedding PDF URL:",n),r.insertEmbed(i.index,"iframe",n,V_.Quill.sources.USER),r.formatText(i.index,1,{width:"100%",height:"700px"}),r.insertText(i.index+1,"\n",V_.Quill.sources.USER)}else console.error("PDF upload failed:",e.data.message||"Unknown error"),alert("Gagal mengunggah PDF: ".concat(e.data.message||"Error tidak diketahui"))}catch(a){var r,i;console.error("Error uploading PDF:",a);const e=(null===(r=a.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||a.message||"Terjadi kesalahan saat mengunggah PDF.";alert("Error: ".concat(e))}}},this.quillRef=i.createRef(),this.modules={toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image","video","pdf"],["clean"]],handlers:{pdf:this.pdfUploadHandler}}},this.formats=["header","bold","italic","underline","strike","blockquote","list","bullet","link","image","video","iframe","align"]}render(){const{value:e,onChange:t}=this.props;return(0,br.jsx)(G_(),{ref:this.quillRef,theme:"snow",value:e,onChange:t,modules:this.modules,formats:this.formats,placeholder:"Tulis konten modul di sini..."})}}const Q_=Y_,Z_=e=>{let{moduleId:t}=e;const[n,r]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)({teksSoal:"",type:"mcq",options:[{id:"opt1",text:""},{id:"opt2",text:""},{id:"opt3",text:""},{id:"opt4",text:""}],correctOptionId:"",explanation:""});(0,i.useEffect)((()=>{t&&m()}),[t]);const m=async()=>{try{var e;s(!0);const n=await mr.get("/admin/modules/".concat(t,"/questions"));"success"===(null===(e=n.data)||void 0===e?void 0:e.status)&&r(n.data.data.questions)}catch(n){l("Gagal mengambil data pertanyaan"),console.error(n)}finally{s(!1)}},g=()=>{p({teksSoal:"",type:"mcq",options:[{id:"opt1",text:""},{id:"opt2",text:""},{id:"opt3",text:""},{id:"opt4",text:""}],correctOptionId:"",explanation:""})};return a?(0,br.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"})}):(0,br.jsxs)("div",{className:"space-y-6",children:[(0,br.jsxs)("div",{className:"flex justify-between items-center",children:[(0,br.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Pertanyaan"}),(0,br.jsxs)("button",{onClick:()=>{g(),h(null),u(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,br.jsx)(da,{className:"h-5 w-5"}),(0,br.jsx)("span",{children:"Tambah Pertanyaan"})]})]}),o&&(0,br.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),(0,br.jsx)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:(0,br.jsx)("div",{className:"divide-y divide-gray-200",children:n.map(((e,t)=>(0,br.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,br.jsxs)("div",{className:"flex justify-between items-start",children:[(0,br.jsxs)("div",{className:"space-y-3 flex-grow",children:[(0,br.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,br.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Pertanyaan ",t+1]}),(0,br.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.type})]}),(0,br.jsx)("p",{className:"text-gray-900 font-medium",children:e.teksSoal}),(0,br.jsx)("div",{className:"grid grid-cols-2 gap-4",children:("string"===typeof e.options?JSON.parse(e.options):e.options).map((t=>(0,br.jsx)("div",{className:"p-3 rounded-lg border ".concat(t.id===e.correctOptionId?"border-green-500 bg-green-50":"border-gray-200"),children:(0,br.jsx)("p",{className:"text-sm text-gray-700",children:t.text})},t.id)))}),e.explanation&&(0,br.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[(0,br.jsx)("span",{className:"font-medium",children:"Penjelasan:"})," ",e.explanation]})]}),(0,br.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,br.jsx)("button",{onClick:()=>(e=>{h(e),p({teksSoal:e.teksSoal||"",type:e.type||"mcq",options:"string"===typeof e.options?JSON.parse(e.options):e.options,correctOptionId:e.correctOptionId||"",explanation:e.explanation||""}),u(!0)})(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:(0,br.jsx)(L_,{className:"h-4 w-4"})}),(0,br.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus pertanyaan ini?"))try{await mr.delete("/admin/questions/".concat(e)),m()}catch(t){l("Gagal menghapus pertanyaan"),console.error(t)}})(e.id),className:"text-red-600 hover:text-red-900 p-1 rounded",children:(0,br.jsx)(D_,{className:"h-4 w-4"})})]})]})},e.id)))})}),c&&(0,br.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,br.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,br.jsxs)("div",{className:"mt-3",children:[(0,br.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:d?"Edit Pertanyaan":"Tambah Pertanyaan Baru"}),(0,br.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=qe(qe({},f),{},{options:JSON.stringify(f.options)});d?await mr.put("/admin/questions/".concat(d.id),e):await mr.post("/admin/modules/".concat(t,"/questions"),e),u(!1),h(null),g(),m()}catch(n){l("Gagal menyimpan pertanyaan"),console.error(n)}},className:"space-y-4",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pertanyaan"}),(0,br.jsx)("textarea",{required:!0,rows:3,value:f.teksSoal,onChange:e=>p(qe(qe({},f),{},{teksSoal:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tipe Pertanyaan"}),(0,br.jsx)("select",{required:!0,value:f.type,onChange:e=>p(qe(qe({},f),{},{type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:(0,br.jsx)("option",{value:"mcq",children:"Pilihan Ganda"})})]}),(0,br.jsxs)("div",{className:"space-y-3",children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pilihan Jawaban"}),f.options.map(((e,t)=>(0,br.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,br.jsx)("input",{type:"radio",name:"correctOption",value:e.id,checked:f.correctOptionId===e.id,onChange:()=>p(qe(qe({},f),{},{correctOptionId:e.id})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,br.jsx)("input",{type:"text",required:!0,value:e.text,onChange:e=>((e,t)=>{const n=[...f.options];n[e]=qe(qe({},n[e]),{},{text:t}),p(qe(qe({},f),{},{options:n}))})(t,e.target.value),placeholder:"Pilihan ".concat(t+1),className:"flex-grow border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]},e.id)))]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Penjelasan (Opsional)"}),(0,br.jsx)("textarea",{rows:3,value:f.explanation,onChange:e=>p(qe(qe({},f),{},{explanation:e.target.value})),placeholder:"Penjelasan untuk jawaban yang benar...",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,br.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,br.jsx)("button",{type:"button",onClick:()=>u(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg transition-colors",children:"Batal"}),(0,br.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:d?"Update":"Simpan"})]})]})]})})})]})},$_=e=>{let{courseId:t}=e;const[n,r]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)({judul:"",type:"PAGE",contentText:"",pdfPath:"",videoLink:"",pageContent:null,order:0});(0,i.useEffect)((()=>{t&&v()}),[t]);const v=async()=>{try{var e;s(!0);const n=await mr.get("/admin/courses/".concat(t,"/modules"));"success"===(null===(e=n.data)||void 0===e?void 0:e.status)&&r(n.data.data.modules)}catch(n){l("Gagal mengambil data modul"),console.error(n)}finally{s(!1)}},y=async(e,r)=>{try{const i=n.findIndex((t=>t.id===e));if(-1===i)return;const a=[...n],s=a[i];if("up"===r&&i>0){const e=a[i-1];a[i-1]=s,a[i]=e}else{if(!("down"===r&&i<a.length-1))return;{const e=a[i+1];a[i+1]=s,a[i]=e}}const o=a.map(((e,t)=>({id:e.id,order:t})));await mr.post("/admin/courses/".concat(t,"/modules/reorder"),{moduleOrders:o}),v()}catch(i){l("Gagal mengubah urutan modul"),console.error(i)}},b=()=>{g({judul:"",type:"PAGE",contentText:"",pdfPath:"",videoLink:"",pageContent:null,order:n.length})};return a?(0,br.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500"})}):(0,br.jsxs)("div",{className:"space-y-6",children:[(0,br.jsxs)("div",{className:"flex flex-col items-start gap-4 sm:flex-row sm:justify-between sm:items-center",children:[(0,br.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Modul"}),(0,br.jsxs)("button",{onClick:()=>{b(),h(null),u(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,br.jsx)(da,{className:"h-5 w-5"}),(0,br.jsx)("span",{children:"Tambah Modul"})]})]}),o&&(0,br.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),(0,br.jsx)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:(0,br.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,br.jsx)("thead",{className:"bg-gray-50",children:(0,br.jsxs)("tr",{children:[(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Urutan"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Judul"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipe"}),(0,br.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,br.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(((e,t)=>{var r;return(0,br.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,br.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,br.jsx)("span",{className:"text-sm text-gray-900",children:e.order}),(0,br.jsxs)("div",{className:"flex flex-col",children:[(0,br.jsx)("button",{onClick:()=>y(e.id,"up"),disabled:0===t,className:"p-1 rounded ".concat(0===t?"text-gray-300":"text-gray-500 hover:text-gray-700"),children:(0,br.jsx)(U_,{className:"h-4 w-4"})}),(0,br.jsx)("button",{onClick:()=>y(e.id,"down"),disabled:t===n.length-1,className:"p-1 rounded ".concat(t===n.length-1?"text-gray-300":"text-gray-500 hover:text-gray-700"),children:(0,br.jsx)(H_,{className:"h-4 w-4"})})]})]})}),(0,br.jsxs)("td",{className:"px-6 py-4",children:[(0,br.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.judul}),"text"===e.type&&(0,br.jsxs)("div",{className:"text-sm text-gray-500",children:[null===(r=e.contentText)||void 0===r?void 0:r.substring(0,50),"..."]})]}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,br.jsx)("div",{children:(0,br.jsxs)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("PAGE"===e.type?"bg-blue-100 text-blue-800":"PRE_TEST_QUIZ"===e.type?"bg-yellow-100 text-yellow-800":"POST_TEST_QUIZ"===e.type?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"),children:["PAGE"===e.type&&"Page","PRE_TEST_QUIZ"===e.type&&"Pre-Test Quiz","POST_TEST_QUIZ"===e.type&&"Post-Test Quiz",!["PAGE","PRE_TEST_QUIZ","POST_TEST_QUIZ"].includes(e.type)&&e.type]})})}),(0,br.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,br.jsxs)("div",{className:"flex space-x-2",children:[(0,br.jsx)("button",{onClick:()=>(e=>{h(e);let t=null;t="PAGE"===e.type?e.initialContent||e.pageContent||"":e.pageContent||null,g({judul:e.judul||"",type:e.type||"PAGE",contentText:e.contentText||"",pdfPath:e.pdfPath||"",videoLink:e.videoLink||"",pageContent:t,order:e.order||0}),u(!0)})(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded",children:(0,br.jsx)(L_,{className:"h-4 w-4"})}),(0,br.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Apakah Anda yakin ingin menghapus modul ini?"))try{await mr.delete("/admin/modules/".concat(e)),v()}catch(t){l("Gagal menghapus modul"),console.error(t)}})(e.id),className:"text-red-600 hover:text-red-900 p-1 rounded",children:(0,br.jsx)(D_,{className:"h-4 w-4"})})]})})]},e.id)}))})]})}),c&&(0,br.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,br.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,br.jsxs)("div",{className:"mt-3",children:[(0,br.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:d?"Edit Modul":"Tambah Modul Baru"}),(0,br.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{let e=qe({},m);"PAGE"===e.type&&(e.initialContent=e.pageContent,e.pageContent=null),d?await mr.put("/admin/modules/".concat(d.id),e):("PAGE"===e.type&&void 0===e.initialContent&&void 0!==e.pageContent&&(e.initialContent=e.pageContent,e.pageContent=null),await mr.post("/admin/courses/".concat(t,"/modules"),e)),u(!1),h(null),b(),v()}catch(n){l("Gagal menyimpan modul"),console.error(n)}},className:"space-y-4",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Judul Modul"}),(0,br.jsx)("input",{type:"text",required:!0,value:m.judul,onChange:e=>g(qe(qe({},m),{},{judul:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tipe Modul"}),(0,br.jsxs)("select",{required:!0,value:m.type,onChange:e=>g(qe(qe({},m),{},{type:e.target.value,pageContent:null,contentText:"",pdfPath:"",videoLink:""})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,br.jsx)("option",{value:"PAGE",children:"Page (Text, Video, PDF, etc.)"}),(0,br.jsx)("option",{value:"PRE_TEST_QUIZ",children:"Pre-Test Quiz"}),(0,br.jsx)("option",{value:"POST_TEST_QUIZ",children:"Post-Test Quiz"})]})]}),("PAGE"===m.type||"PRE_TEST_QUIZ"===m.type||"POST_TEST_QUIZ"===m.type)&&(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"PAGE"===m.type?"Initial Content / Description":"Quiz Instructions / Description"}),"PAGE"===m.type?(0,br.jsx)(Q_,{value:m.pageContent||"",onChange:e=>g(qe(qe({},m),{},{pageContent:e}))}):(0,br.jsx)("textarea",{rows:5,value:m.contentText,onChange:e=>g(qe(qe({},m),{},{contentText:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter instructions or a brief description for this quiz."})]}),(0,br.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,br.jsx)("button",{type:"button",onClick:()=>u(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg transition-colors",children:"Batal"}),(0,br.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:d?"Update":"Simpan"})]}),d&&("PRE_TEST_QUIZ"===m.type||"POST_TEST_QUIZ"===m.type)&&(0,br.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,br.jsxs)("button",{type:"button",onClick:()=>{p(!0),u(!1)},className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,br.jsx)(Si,{className:"h-5 w-5 mr-2"}),"Manage Questions"]})})]})]})})}),f&&d&&"undefined"!==typeof d.id&&null!==d.id&&(0,br.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 overflow-y-auto h-full w-full z-60 flex justify-center items-start pt-10",children:(0,br.jsxs)("div",{className:"relative p-6 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:[(0,br.jsxs)("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white py-3 z-10",children:[(0,br.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Manage Questions for: ",d.judul]}),(0,br.jsx)("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700 text-2xl leading-none p-1",children:"\xd7"})]}),(0,br.jsx)(Z_,{moduleId:d.id})]})})]})},J_=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(!0),[o,l]=(0,i.useState)("");return(0,i.useEffect)((()=>{(async()=>{try{var e;s(!0),l("");const n=await mr.get("/admin/courses");"success"===(null===(e=n.data)||void 0===e?void 0:e.status)?(t(n.data.data.courses),n.data.data.courses.length>0&&r(n.data.data.courses[0].id.toString())):l("Gagal mengambil data kursus")}catch(n){l("Gagal mengambil data kursus")}finally{s(!1)}})()}),[]),(0,br.jsxs)("div",{children:[(0,br.jsxs)("div",{className:"mb-6",children:[(0,br.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pilih Kursus"}),(0,br.jsx)("select",{className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:n,onChange:e=>r(e.target.value),children:e.map((e=>(0,br.jsx)("option",{value:e.id,children:e.judul},e.id)))})]}),o&&(0,br.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),a?(0,br.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,br.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"})}):n&&(0,br.jsx)($_,{courseId:n})]})},ek=()=>{const[e,t]=(0,i.useState)({siteTitle:"",contactEmail:"",maintenanceMode:!1,allowRegistrations:!0,defaultUserRole:"user",enablePrerequisites:!0,defaultCertificateTemplate:"template1",siteLogoUrl:""}),[n,r]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{r(!0);try{const e=await mr.get("/admin/settings");if(e.data&&"success"===e.data.status&&e.data.data.settings){const n=e.data.data.settings;t(qe(qe({},n),{},{siteTitle:n.siteName||""}))}else console.warn("Could not fetch settings or settings are not initialized:",e.data.message)}catch(e){console.error("Error fetching settings:",e)}finally{r(!1)}})()}),[]);const a=e=>{const{name:n,value:r,type:i,checked:a}=e.target;t((e=>qe(qe({},e),{},{[n]:"checkbox"===i?a:r})))};return n?(0,br.jsx)("div",{className:"p-6",children:"Loading settings..."}):(0,br.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,br.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Admin Settings"}),(0,br.jsxs)("section",{className:"mb-8 p-4 border border-gray-200 rounded-lg",children:[(0,br.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"General Site Settings"}),(0,br.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"siteTitle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Title"}),(0,br.jsx)("input",{type:"text",name:"siteTitle",id:"siteTitle",value:e.siteTitle,onChange:a,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-blue focus:border-teraplus-blue sm:text-sm"})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),(0,br.jsx)("input",{type:"email",name:"contactEmail",id:"contactEmail",value:e.contactEmail,onChange:a,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teraplus-blue focus:border-teraplus-blue sm:text-sm"})]}),(0,br.jsxs)("div",{className:"md:col-span-2",children:[(0,br.jsx)("label",{htmlFor:"siteLogo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Logo"}),(0,br.jsx)("input",{type:"file",name:"siteLogo",id:"siteLogo",onChange:e=>{const t=e.target.files[0];t&&(console.log("Selected site logo file:",t),alert("Site logo upload is not fully implemented yet. This is a placeholder."))},className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teraplus-blue-light file:text-teraplus-blue hover:file:bg-teraplus-blue-dark hover:file:text-white"}),e.siteLogoUrl&&(0,br.jsxs)("div",{className:"mt-2",children:[(0,br.jsx)("p",{className:"text-xs text-gray-600",children:"Current logo:"}),(0,br.jsx)("img",{src:e.siteLogoUrl.startsWith("http")?e.siteLogoUrl:"".concat(mr.defaults.baseURL.replace("/api","")).concat(e.siteLogoUrl),alt:"Site Logo",className:"h-16 mt-1 border p-1"})]}),(0,br.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Upload your site logo (e.g., PNG, JPG, SVG). Actual upload needs backend endpoint."})]}),(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsx)("input",{id:"maintenanceMode",name:"maintenanceMode",type:"checkbox",checked:e.maintenanceMode,onChange:a,className:"h-4 w-4 text-teraplus-blue border-gray-300 rounded focus:ring-teraplus-blue"}),(0,br.jsx)("label",{htmlFor:"maintenanceMode",className:"ml-2 block text-sm text-gray-900",children:"Enable Maintenance Mode"})]})]})]}),(0,br.jsxs)("section",{className:"mb-8 p-4 border border-gray-200 rounded-lg",children:[(0,br.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"User Management Settings"}),(0,br.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsx)("input",{id:"allowRegistrations",name:"allowRegistrations",type:"checkbox",checked:e.allowRegistrations,onChange:a,className:"h-4 w-4 text-teraplus-blue border-gray-300 rounded focus:ring-teraplus-blue"}),(0,br.jsx)("label",{htmlFor:"allowRegistrations",className:"ml-2 block text-sm text-gray-900",children:"Allow New User Registrations"})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"defaultUserRole",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Role for New Users"}),(0,br.jsxs)("select",{id:"defaultUserRole",name:"defaultUserRole",value:e.defaultUserRole,onChange:a,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teraplus-blue focus:border-teraplus-blue sm:text-sm rounded-md",children:[(0,br.jsx)("option",{value:"user",children:"User"})," ",(0,br.jsx)("option",{value:"admin",children:"Admin"})]})]})]})]}),(0,br.jsxs)("section",{className:"mb-8 p-4 border border-gray-200 rounded-lg",children:[(0,br.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:"Course Settings"}),(0,br.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,br.jsxs)("div",{className:"flex items-center",children:[(0,br.jsx)("input",{id:"enablePrerequisites",name:"enablePrerequisites",type:"checkbox",checked:e.enablePrerequisites,onChange:a,className:"h-4 w-4 text-teraplus-blue border-gray-300 rounded focus:ring-teraplus-blue"}),(0,br.jsx)("label",{htmlFor:"enablePrerequisites",className:"ml-2 block text-sm text-gray-900",children:"Enable Course Prerequisites Globally"})]}),(0,br.jsxs)("div",{children:[(0,br.jsx)("label",{htmlFor:"defaultCertificateTemplate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Certificate Template"}),(0,br.jsxs)("select",{id:"defaultCertificateTemplate",name:"defaultCertificateTemplate",value:e.defaultCertificateTemplate,onChange:a,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-teraplus-blue focus:border-teraplus-blue sm:text-sm rounded-md",children:[(0,br.jsx)("option",{value:"template1",children:"Standard Template"}),(0,br.jsx)("option",{value:"template2",children:"Modern Template"})]})]})]})]}),(0,br.jsx)("div",{className:"mt-8 flex justify-end",children:(0,br.jsx)("button",{type:"button",onClick:async()=>{const n=qe(qe({},e),{},{siteName:e.siteTitle});delete n.siteTitle;try{const e=await mr.put("/admin/settings",n);if(e.data&&"success"===e.data.status){const n=e.data.data.settings;t(qe(qe({},n),{},{siteTitle:n.siteName||""})),alert("Settings saved successfully!")}else alert(e.data.message||"Failed to save settings.")}catch(o){var r,i,a,s;console.error("Error saving settings:",(null===(r=o.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||o.message),alert((null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"An error occurred while saving settings.")}},className:"px-6 py-2 bg-teraplus-brand-blue text-white font-semibold rounded-lg shadow-md hover:bg-teraplus-blue-dark focus:outline-none focus:ring-2 focus:ring-teraplus-blue focus:ring-opacity-50 transition ease-in-out duration-150",children:"Save Changes"})})]})},tk=J_;function nk(e){let{children:t}=e;const{user:n,loadingAuth:r}=_r();return r?(0,br.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading user data..."}):!n||n.affiliasi&&n.noHp?t:(0,br.jsx)(ve,{to:"/complete-profile",replace:!0})}function rk(){return(0,i.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("token");e&&(localStorage.setItem("token",e),window.dispatchEvent(new CustomEvent("auth-token-processed")),window.history.replaceState({},document.title,"/"))}),[]),(0,br.jsx)(wr,{children:(0,br.jsxs)(Er,{children:[" ",(0,br.jsx)(Ne,{children:(0,br.jsxs)(we,{children:[(0,br.jsx)(be,{path:"/login",element:(0,br.jsx)(Tr,{})}),(0,br.jsx)(be,{path:"/register",element:(0,br.jsx)(Or,{})}),(0,br.jsx)(be,{path:"/complete-profile",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(ci,{})})}),(0,br.jsx)(be,{path:"/request-password-reset",element:(0,br.jsx)(ui,{})}),(0,br.jsx)(be,{path:"/reset-password/:token",element:(0,br.jsx)(xi,{})}),(0,br.jsx)(be,{path:"/auth-redirect",element:(0,br.jsx)(Mi,{})}),(0,br.jsx)(be,{path:"/",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(Ir,{})})})})}),(0,br.jsx)(be,{path:"/profile",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(li,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(Ia,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/moduleslist",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(P_,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/pretest",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(Da,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/pretest-result",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(Fa,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/content/:moduleOrder",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(j_,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/content",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(j_,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/posttest",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(C_,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/posttest-result",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(N_,{})})})})}),(0,br.jsx)(be,{path:"/course/:identifier/certificate",element:(0,br.jsx)(Oi,{children:(0,br.jsx)(nk,{children:(0,br.jsx)(Xi,{children:(0,br.jsx)(T_,{})})})})}),(0,br.jsx)(be,{element:(0,br.jsx)(la,{}),children:(0,br.jsxs)(be,{path:"/admin",element:(0,br.jsx)(oa,{}),children:[(0,br.jsx)(be,{index:!0,element:(0,br.jsx)(Pi,{})}),(0,br.jsx)(be,{path:"users",element:(0,br.jsx)(Ra,{})}),(0,br.jsx)(be,{path:"courses",element:(0,br.jsx)(F_,{})})," ",(0,br.jsx)(be,{path:"content",element:(0,br.jsx)(tk,{})}),(0,br.jsx)(be,{path:"settings",element:(0,br.jsx)(ek,{})})," "]})}),(0,br.jsx)(be,{path:"*",element:(0,br.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[(0,br.jsx)("h2",{className:"text-4xl font-bold text-gray-700 mb-4",children:"404 - Page Not Found"}),(0,br.jsx)("p",{className:"text-gray-600 mb-8",children:"Sorry, the page you are looking for does not exist."}),(0,br.jsx)("a",{href:"/",className:"px-6 py-3 bg-teraplus-brand-blue text-white rounded-lg hover:bg-teraplus-brand-blue-dark transition-colors",children:"Go to Homepage"})]})})]})})]})})}s.createRoot(document.getElementById("root")).render((0,br.jsx)(rk,{}))})()})();
//# sourceMappingURL=main.6ca97069.js.map